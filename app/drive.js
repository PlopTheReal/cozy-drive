/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({}[chunkId]||chunkId) + "/drive.js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// The chunk loading function for additional chunks
/******/ 	// Since all referenced chunks are already included
/******/ 	// in this file, this function is empty here.
/******/ 	__webpack_require__.e = function requireEnsure() {
/******/ 		return Promise.resolve();
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([8,"vendors"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "+Bjm":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("zzwF");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var drive_config_sort__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("6IK3");










var MobileSortMenu = function MobileSortMenu(_ref) {
  var sort = _ref.sort,
      onSort = _ref.onSort,
      onClose = _ref.onClose;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClose: onClose
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-sort-menu']
  }, drive_config_sort__WEBPACK_IMPORTED_MODULE_8__["SORTABLE_ATTRIBUTES"].map(function (_ref2) {
    var attr = _ref2.attr;
    return [{
      attr: attr,
      order: 'asc'
    }, {
      attr: attr,
      order: 'desc'
    }];
  }).reduce(function (acc, val) {
    return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(acc), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(val));
  }, []).map(function (_ref3) {
    var attr = _ref3.attr,
        order = _ref3.order;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react_Menu__WEBPACK_IMPORTED_MODULE_6__["MenuItem"], {
      key: "key_".concat(attr, "_").concat(order),
      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-sort-menu-item'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-sort-menu-item-selected'], sort.order === order && sort.attribute === attr)),
      onClick: function onClick() {
        onSort(attr, order);
        onClose();
      }
    }, t("table.mobile.head_".concat(attr, "_").concat(order)));
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (MobileSortMenu);

/***/ }),

/***/ "+Egv":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Unlink", function() { return Unlink; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("dtw8");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("buk/");
/* harmony import */ var _SettingCategory__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("YfLo");
/* harmony import */ var drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("QDdI");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }









var Unlink = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(Unlink, _Component);

  var _super = _createSuper(Unlink);

  function Unlink() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Unlink);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Unlink, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          t = _this$props.t,
          unlink = _this$props.unlink,
          clientSettings = _this$props.clientSettings,
          client = _this$props.client;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_SettingCategory__WEBPACK_IMPORTED_MODULE_11__["default"], {
        title: t('mobile.settings.unlink.title'),
        elements: [{
          type: _SettingCategory__WEBPACK_IMPORTED_MODULE_11__["ELEMENT_BUTTON"],
          description: t('mobile.settings.unlink.description'),
          text: t('mobile.settings.unlink.button'),
          theme: 'danger-outline',
          onClick: function onClick() {
            return unlink(client, clientSettings);
          }
        }]
      }));
    }
  }]);

  return Unlink;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);
Unlink.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func,
  unlink: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func,
  clientSettings: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object,
  router: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    clientSettings: Object(drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_12__["getClientSettings"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    unlink: function unlink(client, clientSettings) {
      dispatch(Object(drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_12__["unlink"])(client, clientSettings));
      ownProps.router.replace('/onboarding');
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_router__WEBPACK_IMPORTED_MODULE_7__["withRouter"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_9__["connect"])(mapStateToProps, mapDispatchToProps)(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_8__["withClient"])(Unlink)))));

/***/ }),

/***/ "+m2E":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveModal", function() { return MoveModal; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("fvjX");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("67rm");
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("4kcP");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("UmWK");
/* harmony import */ var cozy_sharing_dist_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("abL+");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("OjRq");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("OTOu");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_web_modules_move_Header__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("6WMq");
/* harmony import */ var drive_web_modules_move_Explorer__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("rR5K");
/* harmony import */ var drive_web_modules_move_FileList__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("w2zn");
/* harmony import */ var drive_web_modules_move_Loader__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("1HFg");
/* harmony import */ var drive_web_modules_move_LoadMore__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("XetN");
/* harmony import */ var drive_web_modules_move_Footer__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("NQEN");
/* harmony import */ var drive_web_modules_move_Topbar__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("tLSP");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("gb4X");










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }























var MoveModal = /*#__PURE__*/function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(MoveModal, _React$Component);

  var _super = _createSuper(MoveModal);

  function MoveModal(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, MoveModal);

    _this = _super.call(this, props);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "navigateTo", function (folder) {
      _this.setState({
        folderId: folder.id
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "registerCancelable", function (promise) {
      if (!_this.promises) _this.promises = [];
      var cancelableP = Object(cozy_client__WEBPACK_IMPORTED_MODULE_17__["cancelable"])(promise);

      _this.promises.push(cancelableP);

      return cancelableP;
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "unregisterCancelables", function () {
      _this.promises.forEach(function (p) {
        return p.cancel();
      });

      _this.promises = [];
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "moveEntries", /*#__PURE__*/function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(callback) {
        var _this$props, client, entries, onClose, sharingState, t, sharedPaths, folderId, trashedFiles, response, targetName;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _this$props = _this.props, client = _this$props.client, entries = _this$props.entries, onClose = _this$props.onClose, sharingState = _this$props.sharingState, t = _this$props.t;
                sharedPaths = sharingState.sharedPaths;
                folderId = _this.state.folderId;
                _context2.prev = 3;

                _this.setState({
                  isMoveInProgress: true
                });

                trashedFiles = [];
                _context2.next = 8;
                return Promise.all(entries.map( /*#__PURE__*/function () {
                  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(entry) {
                    var targetPath, force, moveResponse;
                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
                      while (1) {
                        switch (_context.prev = _context.next) {
                          case 0:
                            _context.next = 2;
                            return _this.registerCancelable(models__WEBPACK_IMPORTED_MODULE_20__["CozyFile"].getFullpath(folderId, entry.name));

                          case 2:
                            targetPath = _context.sent;
                            force = !sharedPaths.includes(targetPath);
                            _context.next = 6;
                            return _this.registerCancelable(models__WEBPACK_IMPORTED_MODULE_20__["CozyFile"].move(entry._id, {
                              folderId: folderId
                            }, force));

                          case 6:
                            moveResponse = _context.sent;

                            if (moveResponse.deleted) {
                              trashedFiles.push(moveResponse.deleted);
                            }

                          case 8:
                          case "end":
                            return _context.stop();
                        }
                      }
                    }, _callee);
                  }));

                  return function (_x2) {
                    return _ref2.apply(this, arguments);
                  };
                }()));

              case 8:
                _context2.next = 10;
                return _this.registerCancelable(client.query(client.get('io.cozy.files', folderId)));

              case 10:
                response = _context2.sent;
                targetName = response.data.name;
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].info('Move.success', {
                  subject: entries.length === 1 ? entries[0].name : '',
                  target: targetName,
                  smart_count: entries.length,
                  buttonText: t('Move.cancel'),
                  buttonAction: function buttonAction() {
                    return _this.cancelMove(entries, trashedFiles, callback);
                  }
                });

                _this.trackEvent(entries.length);

                if (callback) callback();
                _context2.next = 21;
                break;

              case 17:
                _context2.prev = 17;
                _context2.t0 = _context2["catch"](3);
                lib_logger__WEBPACK_IMPORTED_MODULE_21__["default"].warn(_context2.t0);
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].error('Move.error', {
                  smart_count: entries.length
                });

              case 21:
                _context2.prev = 21;

                _this.setState({
                  isMoveInProgress: false
                });

                onClose({
                  cancelSelection: true
                });
                return _context2.finish(21);

              case 25:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[3, 17, 21, 25]]);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "cancelMove", /*#__PURE__*/function () {
      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(entries, trashedFiles, callback) {
        var client, fileCollection, restoreErrorsCount;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                client = _this.props.client;
                _context3.prev = 1;
                _context3.next = 4;
                return Promise.all(entries.map(function (entry) {
                  return _this.registerCancelable(models__WEBPACK_IMPORTED_MODULE_20__["CozyFile"].move(entry._id, {
                    folderId: entry.dir_id
                  }));
                }));

              case 4:
                fileCollection = client.collection(models__WEBPACK_IMPORTED_MODULE_20__["CozyFile"].doctype);
                restoreErrorsCount = 0;
                _context3.next = 8;
                return Promise.all(trashedFiles.map(function (id) {
                  try {
                    _this.registerCancelable(fileCollection.restore(id));
                  } catch (_unused) {
                    restoreErrorsCount++;
                  }
                }));

              case 8:
                if (restoreErrorsCount) {
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].info('Move.cancelledWithRestoreErrors', {
                    subject: entries.length === 1 ? entries[0].name : '',
                    smart_count: entries.length,
                    restoreErrorsCount: restoreErrorsCount
                  });
                } else {
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].info('Move.cancelled', {
                    subject: entries.length === 1 ? entries[0].name : '',
                    smart_count: entries.length
                  });
                }

                _context3.next = 15;
                break;

              case 11:
                _context3.prev = 11;
                _context3.t0 = _context3["catch"](1);
                lib_logger__WEBPACK_IMPORTED_MODULE_21__["default"].warn(_context3.t0);
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].error('Move.cancelled_error', {
                  smart_count: entries.length
                });

              case 15:
                _context3.prev = 15;
                if (callback) callback();
                return _context3.finish(15);

              case 18:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, null, [[1, 11, 15, 18]]);
      }));

      return function (_x3, _x4, _x5) {
        return _ref3.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "contentQuery", function (client) {
      return client.find('io.cozy.files').where({
        dir_id: _this.state.folderId,
        _id: {
          $ne: drive_constants_config__WEBPACK_IMPORTED_MODULE_22__["TRASH_DIR_ID"]
        }
      }).indexFields(['dir_id', 'type', 'name']).sortBy([{
        dir_id: 'asc'
      }, {
        type: 'asc'
      }, {
        name: 'asc'
      }]);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "breadcrumbQuery", function (client) {
      return client.get('io.cozy.files', _this.state.folderId);
    });

    _this.promises = [];
    var displayedFolder = props.displayedFolder;
    _this.state = {
      folderId: displayedFolder ? displayedFolder._id : drive_constants_config__WEBPACK_IMPORTED_MODULE_22__["ROOT_DIR_ID"],
      isMoveInProgress: false
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(MoveModal, [{
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.unregisterCancelables();
    }
  }, {
    key: "trackEvent",
    value: function trackEvent(eventValue) {
      var tracker = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_16__["getTracker"])();

      if (tracker) {
        tracker.push(['trackEvent', 'Drive', 'move', 'moveTo', eventValue]);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          onClose = _this$props2.onClose,
          entries = _this$props2.entries,
          t = _this$props2.t;
      var _this$state = this.state,
          folderId = _this$state.folderId,
          isMoveInProgress = _this$state.isMoveInProgress;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Modal"], {
        size: 'xlarge',
        closable: false,
        overflowHidden: true,
        mobileFullscreen: true,
        into: "body",
        "aria-label": t('Move.modalTitle'),
        className: 'u-mih-100'
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Header__WEBPACK_IMPORTED_MODULE_23__["default"], {
        entries: entries,
        onClose: onClose
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_17__["Query"], {
        query: this.breadcrumbQuery,
        key: "breadcrumb-".concat(folderId)
      }, function (_ref4) {
        var data = _ref4.data,
            fetchStatus = _ref4.fetchStatus;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Topbar__WEBPACK_IMPORTED_MODULE_29__["default"], {
          navigateTo: _this2.navigateTo,
          currentDir: data,
          fetchStatus: fetchStatus
        });
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_17__["Query"], {
        query: this.contentQuery,
        key: "content-".concat(folderId)
      }, function (_ref5) {
        var data = _ref5.data,
            fetchStatus = _ref5.fetchStatus,
            hasMore = _ref5.hasMore,
            fetchMore = _ref5.fetchMore;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Explorer__WEBPACK_IMPORTED_MODULE_24__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Loader__WEBPACK_IMPORTED_MODULE_26__["default"], {
          fetchStatus: fetchStatus,
          hasNoData: data.length === 0
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_FileList__WEBPACK_IMPORTED_MODULE_25__["default"], {
          files: data,
          targets: entries,
          navigateTo: _this2.navigateTo
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_LoadMore__WEBPACK_IMPORTED_MODULE_27__["default"], {
          hasMore: hasMore,
          fetchMore: fetchMore
        })));
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_18__["RefreshableSharings"], null, function (_ref6) {
        var refresh = _ref6.refresh;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Footer__WEBPACK_IMPORTED_MODULE_28__["default"], {
          onConfirm: function onConfirm() {
            return _this2.moveEntries(refresh);
          },
          onClose: onClose,
          targets: entries,
          currentDirId: folderId,
          isMoving: isMoveInProgress
        });
      }));
    }
  }]);

  return MoveModal;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);
MoveModal.propTypes = {
  client: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  displayedFolder: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  entries: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array,
  t: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  // in case of move conflicts, shared files are not overridden
  sharingState: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    displayedFolder: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_30__["getDisplayedFolder"])(state)
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_11__["compose"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(mapStateToProps), Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_14__["translate"])(), cozy_client__WEBPACK_IMPORTED_MODULE_17__["withClient"], cozy_sharing_dist_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_19__["default"])(MoveModal));

/***/ }),

/***/ "+tGv":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("UmWK");
/* harmony import */ var drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("6TdX");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("buk/");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("yEaX");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("T//5");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("gb4X");
/* harmony import */ var drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("9j6G");
/* harmony import */ var drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("PGBS");
/* harmony import */ var drive_web_modules_drive_Toolbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("cAso");
/* harmony import */ var _Folder_FolderView__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("3vrf");
/* harmony import */ var _Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("R6Il");
/* harmony import */ var _Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("kvbT");
/* harmony import */ var _Folder_FolderViewBreadcrumb__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("0f7X");
/* harmony import */ var cozy_sharing_dist_components_SharedDocuments__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("aJ9m");






















var getBreadcrumbPath = function getBreadcrumbPath(t, displayedFolder, sharedDocumentIds) {
  var breadcrumbs = [{
    id: sharedDocumentIds.includes(lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(displayedFolder, 'dir_id')) // TODO: use hasSharedParent or similar from cozy-sharing
    ? lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(displayedFolder, 'dir_id') : null
  }, {
    id: displayedFolder.id,
    name: displayedFolder.name
  }].filter(function (_ref) {
    var id = _ref.id;
    return Boolean(id);
  });
  breadcrumbs.unshift({
    name: t('breadcrumb.title_sharings')
  });
  return breadcrumbs.map(function (breadcrumb) {
    return {
      id: breadcrumb.id,
      name: breadcrumb.name || '…'
    };
  });
};

var SharingsFolderView = function SharingsFolderView(_ref2) {
  var currentFolderId = _ref2.currentFolderId,
      sharedDocumentIds = _ref2.sharedDocumentIds,
      router = _ref2.router,
      location = _ref2.location,
      children = _ref2.children;

  var _useFolderSort = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_9__["useFolderSort"])(currentFolderId),
      _useFolderSort2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useFolderSort, 1),
      sortOrder = _useFolderSort2[0];

  var folderQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_10__["buildDriveQuery"])({
    currentFolderId: currentFolderId,
    type: 'directory',
    sortAttribute: sortOrder.attribute,
    sortOrder: sortOrder.order
  });
  var fileQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_10__["buildDriveQuery"])({
    currentFolderId: currentFolderId,
    type: 'file',
    sortAttribute: sortOrder.attribute,
    sortOrder: sortOrder.order
  });
  var foldersResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useQuery"])(folderQuery.definition, folderQuery.options);
  var filesResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useQuery"])(fileQuery.definition, fileQuery.options);
  var navigateToFolder = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function (folderId) {
    if (folderId) router.push("/sharings/".concat(folderId));else router.push('/sharings');
  });
  var navigateToFile = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function (file) {
    router.push("/sharings/".concat(currentFolderId, "/file/").concat(file.id));
  });
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useClient"])();

  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_2__["useContext"])(cozy_sharing__WEBPACK_IMPORTED_MODULE_6__["SharingContext"]),
      hasWriteAccess = _useContext.hasWriteAccess;

  var _useContext2 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useContext"])(drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_7__["ModalContext"]),
      pushModal = _useContext2.pushModal,
      popModal = _useContext2.popModal;

  var _useContext3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useContext"])(cozy_sharing__WEBPACK_IMPORTED_MODULE_6__["SharingContext"]),
      refresh = _useContext3.refresh;

  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["useDispatch"])();
  var actionsOptions = {
    client: client,
    pushModal: pushModal,
    popModal: popModal,
    refresh: refresh,
    dispatch: dispatch,
    router: router,
    location: location,
    hasWriteAccess: hasWriteAccess(currentFolderId),
    canMove: true
  };
  var actions = Object(drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_12__["default"])([drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["share"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["download"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["trash"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["open"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["rename"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["move"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["qualify"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["versions"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["offline"]], actionsOptions);

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__["useI18n"])(),
      t = _useI18n.t;

  var geTranslatedBreadcrumbPath = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function (displayedFolder) {
    return getBreadcrumbPath(t, displayedFolder, sharedDocumentIds);
  }, [t, sharedDocumentIds]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Folder_FolderView__WEBPACK_IMPORTED_MODULE_15__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_16__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Folder_FolderViewBreadcrumb__WEBPACK_IMPORTED_MODULE_18__["default"], {
    getBreadcrumbPath: geTranslatedBreadcrumbPath,
    currentFolderId: currentFolderId,
    navigateToFolder: navigateToFolder
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_drive_Toolbar__WEBPACK_IMPORTED_MODULE_14__["default"], {
    canUpload: hasWriteAccess,
    canCreateFolder: hasWriteAccess
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_17__["default"], {
    navigateToFolder: navigateToFolder,
    navigateToFile: navigateToFile,
    actions: actions,
    queryResults: [foldersResult, filesResult],
    canSort: true
  }), children);
};

var FolderViewWithSharings = function FolderViewWithSharings(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_sharing_dist_components_SharedDocuments__WEBPACK_IMPORTED_MODULE_19__["default"], null, function (_ref3) {
    var sharedDocuments = _ref3.sharedDocuments;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SharingsFolderView, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      sharedDocumentIds: sharedDocuments
    }));
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(function (state) {
  return {
    currentFolderId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_11__["getCurrentFolderId"])(state)
  };
})(FolderViewWithSharings));

/***/ }),

/***/ "/GQe":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTranslateFunction", function() { return getTranslateFunction; });
/* harmony import */ var _cozy_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q3u0");
/* harmony import */ var cozy_ui_transpiled_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QCzH");

 // used when translating things outside of components, eg. native UIs

var getTranslateFunction = function getTranslateFunction() {
  if (cozy_ui_transpiled_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__["_polyglot"] === undefined) {
    var lang = Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_0__["getLang"])();

    var dictRequire = function dictRequire(lang) {
      return __webpack_require__("tqYW")("./".concat(lang));
    };

    Object(cozy_ui_transpiled_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__["initTranslation"])(lang, dictRequire);
  }

  return cozy_ui_transpiled_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__["_polyglot"].t.bind(cozy_ui_transpiled_react_I18n_translation__WEBPACK_IMPORTED_MODULE_1__["_polyglot"]);
};

/***/ }),

/***/ "/OCp":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"oops":"oops--O8MK8"};

/***/ }),

/***/ "/WUI":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Le8U");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__);






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }



var Contact = /*#__PURE__*/function (_DoctypeContact) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(Contact, _DoctypeContact);

  var _super = _createSuper(Contact);

  function Contact() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Contact);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Contact, null, [{
    key: "getInitials",
    value: function getInitials(contactOrRecipient) {
      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      if (Contact.isContact(contactOrRecipient)) {
        return cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__["Contact"].getInitials(contactOrRecipient);
      } else {
        var s = contactOrRecipient.public_name || contactOrRecipient.name || contactOrRecipient.email;
        return s && s[0].toUpperCase() || defaultValue;
      }
    }
  }, {
    key: "getDisplayName",
    value: function getDisplayName(contact) {
      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      if (Contact.isContact(contact)) {
        return cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__["Contact"].getDisplayName(contact);
      } else {
        return contact.public_name || contact.name || contact.email || defaultValue;
      }
    }
  }]);

  return Contact;
}(cozy_doctypes__WEBPACK_IMPORTED_MODULE_5__["Contact"]);

/* harmony default export */ __webpack_exports__["default"] = (Contact);

/***/ }),

/***/ "/beP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSort", function() { return getSort; });
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fvjX");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QwUF");



var sort = function sort() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_1__["SORT_FOLDER"]:
      return {
        attribute: action.sortAttribute,
        order: action.sortOrder
      };

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
  sort: sort
}));
var getSort = function getSort(_ref) {
  var view = _ref.view;
  return view.sort;
};

/***/ }),

/***/ "06uc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("BJ98");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("y6ex");
/* harmony import */ var drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("MFii");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("fD9B");










var DownloadButtonItem = function DownloadButtonItem(_ref) {
  var t = _ref.t,
      displayedFolder = _ref.displayedFolder,
      downloadAll = _ref.downloadAll;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_5__["ActionMenuItem"], {
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
      icon: "download"
    }),
    onClick: function onClick() {
      return downloadAll([displayedFolder]);
    }
  }, t('toolbar.menu_download_folder'));
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    downloadAll: function downloadAll(folder) {
      var client = ownProps.client;
      return Object(drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_7__["downloadFiles"])(client, folder);
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(cozy_client__WEBPACK_IMPORTED_MODULE_3__["withClient"], Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])(), Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps), _toolbar__WEBPACK_IMPORTED_MODULE_8__["default"])(DownloadButtonItem));

/***/ }),

/***/ "0GJX":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90",
  "use": "icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#9FE6A2\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#0FC016\" d=\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM5 9L9 9 9 11 5 11 5 9zM5 5L9 5 9 7 5 7 5 5zM5 13L9 13 9 15 5 15 5 13zM5 17L9 17 9 19 5 19 5 17zM5 21L9 21 9 23 5 23 5 21zM5 25L9 25 9 27 5 27 5 25zM11 9L15 9 15 11 11 11 11 9zM11 5L15 5 15 7 11 7 11 5zM11 13L15 13 15 15 11 15 11 13zM11 17L15 17 15 19 11 19 11 17zM11 21L15 21 15 23 11 23 11 21zM11 25L15 25 15 27 11 27 11 25zM17 13L21 13 21 15 17 15 17 13zM17 17L21 17 21 19 17 19 17 17zM17 21L21 21 21 23 17 23 17 21zM17 25L21 25 21 27 17 27 17 25z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "0f7X":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_MobileAwareBreadcrumb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("uty3");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("T//5");






var FolderViewBreadcrumb = function FolderViewBreadcrumb(_ref) {
  var currentFolderId = _ref.currentFolderId,
      getBreadcrumbPath = _ref.getBreadcrumbPath,
      navigateToFolder = _ref.navigateToFolder;
  var currentFolderQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_4__["buildFolderQuery"])(currentFolderId);
  var currentFolderQueryResults = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(currentFolderQuery.definition, currentFolderQuery.options);
  var currentFolder = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(currentFolderQueryResults, 'data[0]');
  var path = currentFolder ? getBreadcrumbPath(currentFolder) : [];
  var onBreadcrumbClick = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (_ref2) {
    var id = _ref2.id;
    return navigateToFolder(id);
  }, [navigateToFolder]);
  return currentFolder ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Breadcrumb_MobileAwareBreadcrumb__WEBPACK_IMPORTED_MODULE_3__["MobileAwareBreadcrumb"], {
    path: path,
    onBreadcrumbClick: onBreadcrumbClick,
    opening: false
  }) : null;
};

/* harmony default export */ __webpack_exports__["default"] = (FolderViewBreadcrumb);

/***/ }),

/***/ "0pHv":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("UmWK");
/* harmony import */ var drive_web_modules_actionmenu_MenuItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("s4+x");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("32XB");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_5__);







var ShareMenuItem = function ShareMenuItem(_ref, _ref2) {
  var t = _ref2.t;

  var docId = _ref.docId,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, ["docId"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_3__["SharedDocument"], {
    docId: docId
  }, function (_ref3) {
    var isSharedWithMe = _ref3.isSharedWithMe;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_actionmenu_MenuItem__WEBPACK_IMPORTED_MODULE_4__["default"], rest, isSharedWithMe ? t('Files.share.sharedWithMe') : t('Files.share.cta'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_3__["SharedRecipients"], {
      className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_5___default.a['fil-actionmenu-recipients'],
      docId: docId,
      size: "small"
    }));
  });
};

ShareMenuItem.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (ShareMenuItem);

/***/ }),

/***/ "0uru":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("buk/");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__);









var LoadMore = function LoadMore(_ref) {
  var onClick = _ref.onClick,
      isLoading = _ref.isLoading,
      text = _ref.text;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-content-row'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-content-row--center'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_5__["Button"], {
    theme: "secondary",
    onClick: onClick,
    label: isLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_5__["Spinner"], {
      noMargin: true
    }) : text
  }));
};

LoadMore.propTypes = {
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  isLoading: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  text: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired
};
LoadMore.defaultProps = {
  onClick: null,
  isLoading: false
}; // eslint-disable-next-line

var withTranslation = function withTranslation(BaseComponent) {
  return function (_ref2) {
    var t = _ref2.t,
        props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref2, ["t"]);

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(BaseComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      text: t('table.load_more')
    }, props));
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["translate"])()(withTranslation(LoadMore)));

/***/ }),

/***/ 1:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "1HFg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_Error_Oops__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("CxWN");
/* harmony import */ var components_Error_Empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("KOJc");
/* harmony import */ var drive_web_modules_filelist_FileListRowsPlaceholder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("zLPI");






var Loader = function Loader(_ref) {
  var fetchStatus = _ref.fetchStatus,
      hasNoData = _ref.hasNoData,
      children = _ref.children;
  if (fetchStatus === 'loading') return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileListRowsPlaceholder__WEBPACK_IMPORTED_MODULE_4__["default"], null);else if (fetchStatus === 'failed') return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Error_Oops__WEBPACK_IMPORTED_MODULE_2__["default"], null);else if (fetchStatus === 'loaded' && hasNoData) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Error_Empty__WEBPACK_IMPORTED_MODULE_3__["EmptyDrive"], {
    canUpload: false
  });else return children;
};

Loader.propTypes = {
  fetchStatus: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  hasNoData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node
};
/* harmony default export */ __webpack_exports__["default"] = (Loader);

/***/ }),

/***/ "1aVK":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRootPath", function() { return getRootPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTemporaryRootPath", function() { return getTemporaryRootPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCozyPath", function() { return getCozyPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEntry", function() { return getEntry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCozyEntry", function() { return getCozyEntry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createCozyPath", function() { return createCozyPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDirectory", function() { return getDirectory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "writeFile", function() { return writeFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openFileWithCordova", function() { return openFileWithCordova; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteOfflineFile", function() { return deleteOfflineFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveFileWithCordova", function() { return saveFileWithCordova; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "temporarySave", function() { return temporarySave; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveAndOpenWithCordova", function() { return saveAndOpenWithCordova; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNativeFile", function() { return getNativeFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openOfflineFile", function() { return openOfflineFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTemporaryLocalFile", function() { return createTemporaryLocalFile; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("OTOu");
/* harmony import */ var cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("923M");
/* harmony import */ var cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_4__);





var ERROR_GET_DIRECTORY = 'Error to get directory';
var ERROR_WRITE_FILE = 'Error to write file';
var ERROR_GET_FILE = 'Error to get file';
var COZY_PATH = 'Cozy';
var COZY_FILES_PATH = Object(cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_4__["isIOS"])() ? 'CozyDrive' : 'Cozy Drive';
var getRootPath = function getRootPath() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__["isAndroidApp"])() ? window.cordova.file.externalRootDirectory : window.cordova.file.dataDirectory;
};
var getTemporaryRootPath = function getTemporaryRootPath() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__["isAndroidApp"])() ? window.cordova.file.externalCacheDirectory : window.cordova.file.cacheDirectory;
};
var getCozyPath = function getCozyPath() {
  return COZY_PATH + '/' + COZY_FILES_PATH + '/';
};
var getEntry = function getEntry(path) {
  return new Promise(function (resolve, reject) {
    window.resolveLocalFileSystemURL(path, resolve, function (err) {
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].error("".concat(path, " could not be resolved: ").concat(err.message));
      reject(err);
    });
  });
};
var getCozyEntry = function getCozyEntry() {
  return getEntry(getRootPath() + getCozyPath()).catch(function () {
    return createCozyPath();
  });
};
var createCozyPath = function createCozyPath() {
  return getEntry(getRootPath()).then(function (entry) {
    return getDirectory(entry, COZY_PATH).then(function (entry) {
      return getDirectory(entry, COZY_FILES_PATH);
    });
  });
};
var getDirectory = function getDirectory(rootDirEntry, folderName) {
  return new Promise(function (resolve, reject) {
    rootDirEntry.getDirectory(folderName, {
      create: true
    }, resolve, function (error) {
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(ERROR_GET_DIRECTORY, folderName);
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(error);
      reject(ERROR_GET_DIRECTORY);
    });
  });
};
var writeFile = function writeFile(fileEntry, dataObj) {
  return new Promise(function (resolve, reject) {
    fileEntry.createWriter(function (fileWriter) {
      fileWriter.onwriteend = function () {
        resolve(fileEntry);
      };

      fileWriter.onerror = function (error) {
        lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(ERROR_WRITE_FILE);
        lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(error);
        reject(ERROR_WRITE_FILE);
      };

      fileWriter.write(dataObj);
    });
  });
};

var saveFile = function saveFile(dirEntry, fileData, fileName) {
  return new Promise(function (resolve, reject) {
    dirEntry.getFile(fileName, {
      create: true,
      exclusive: false
    }, function (fileEntry) {
      writeFile(fileEntry, fileData).then(function () {
        resolve(fileEntry);
      }).catch(reject);
    }, function (error) {
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(ERROR_GET_FILE);
      lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(error);
      reject(ERROR_GET_FILE);
    });
  });
};

var openFileWithCordova = function openFileWithCordova(URI, mimetype) {
  return new Promise(function (resolve, reject) {
    var callbacks = {
      error: reject,
      success: resolve
    };
    window.cordova.plugins.fileOpener2.open(URI, mimetype, callbacks);
  });
};
var deleteOfflineFile = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(filename) {
    var entry, fileEntry;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return getCozyEntry();

          case 2:
            entry = _context.sent;
            _context.next = 5;
            return getEntry("".concat(entry.nativeURL).concat(filename));

          case 5:
            fileEntry = _context.sent;
            return _context.abrupt("return", fileEntry.remove());

          case 7:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function deleteOfflineFile(_x) {
    return _ref.apply(this, arguments);
  };
}();
var saveFileWithCordova = function saveFileWithCordova(fileData, fileName) {
  return getCozyEntry().then(function (entry) {
    return saveFile(entry, fileData, fileName);
  });
};
var temporarySave = function temporarySave(file, filename) {
  return getEntry(getTemporaryRootPath()).then(function (entry) {
    return saveFile(entry, file, filename);
  });
};
/**
 *
 * @param {Blob} blob Binary of the file
 * @param {Object} file io.cozy.files object
 */

var saveAndOpenWithCordova = function saveAndOpenWithCordova(blob, file) {
  return temporarySave(blob, file.name).then(function (entry) {
    return openFileWithCordova(entry.nativeURL, file.mime);
  });
};
var getNativeFile = /*#__PURE__*/function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(file) {
    var entry;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return getCozyEntry();

          case 2:
            entry = _context2.sent;
            return _context2.abrupt("return", getEntry("".concat(entry.nativeURL).concat(file.id)));

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function getNativeFile(_x2) {
    return _ref2.apply(this, arguments);
  };
}();
var openOfflineFile = /*#__PURE__*/function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(file) {
    var fileEntry;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return getNativeFile(file);

          case 2:
            fileEntry = _context3.sent;
            return _context3.abrupt("return", openFileWithCordova(fileEntry.nativeURL, file.mime));

          case 4:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function openOfflineFile(_x3) {
    return _ref3.apply(this, arguments);
  };
}();
var createTemporaryLocalFile = /*#__PURE__*/function () {
  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, file) {
    var response, blob, localFile;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return client.collection('io.cozy.files').fetchFileContent(file);

          case 2:
            response = _context4.sent;
            _context4.next = 5;
            return response.blob();

          case 5:
            blob = _context4.sent;
            _context4.next = 8;
            return temporarySave(blob, file.name);

          case 8:
            localFile = _context4.sent;
            return _context4.abrupt("return", localFile);

          case 10:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function createTemporaryLocalFile(_x4, _x5) {
    return _ref4.apply(this, arguments);
  };
}();

/***/ }),

/***/ "1eh9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadState", function() { return loadState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveState", function() { return saveState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetPersistedState", function() { return resetPersistedState; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("OTOu");



 // We had some settings that were persisted outside of mobile.settings prior to 1.8.1

var shouldMigrateSettings = function shouldMigrateSettings(state) {
  return state.hasOwnProperty('settings');
};

var migrateSettings = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(prevState) {
    var _prevState$settings, client, offline, _prevState$mobile$set, authorized, token, serverUrl, backupImages, analytics, wifiOnly, _ref2, revoked, newState;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _prevState$settings = prevState.settings, client = _prevState$settings.client, offline = _prevState$settings.offline;
            _prevState$mobile$set = prevState.mobile.settings, authorized = _prevState$mobile$set.authorized, token = _prevState$mobile$set.token, serverUrl = _prevState$mobile$set.serverUrl, backupImages = _prevState$mobile$set.backupImages, analytics = _prevState$mobile$set.analytics, wifiOnly = _prevState$mobile$set.wifiOnly;
            _ref2 = prevState.mobile.authorization || {
              revoked: false
            }, revoked = _ref2.revoked;
            newState = {
              mobile: {
                authorization: {
                  authorized: authorized,
                  revoked: revoked,
                  client: client,
                  token: token
                },
                settings: {
                  offline: offline,
                  serverUrl: serverUrl,
                  backupImages: backupImages,
                  analytics: analytics,
                  wifiOnly: wifiOnly
                },
                mediaBackup: prevState.mobile.mediaBackup
              },
              availableOffline: prevState.availableOffline
            };
            _context.next = 6;
            return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.setItem('state', newState);

          case 6:
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].info('Migrated persisted settings');
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].info('Previously persisted state: ', prevState);
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].info('New persisted state: ', newState);
            return _context.abrupt("return", newState);

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function migrateSettings(_x) {
    return _ref.apply(this, arguments);
  };
}();

var loadState = /*#__PURE__*/function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    var persistedState, newState;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.prev = 0;
            _context2.next = 3;
            return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.getItem('state');

          case 3:
            persistedState = _context2.sent;

            if (!(persistedState === null)) {
              _context2.next = 6;
              break;
            }

            return _context2.abrupt("return", undefined);

          case 6:
            if (!shouldMigrateSettings(persistedState)) {
              _context2.next = 12;
              break;
            }

            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn('Migrating persisted settings');
            _context2.next = 10;
            return migrateSettings(persistedState);

          case 10:
            newState = _context2.sent;
            return _context2.abrupt("return", newState);

          case 12:
            return _context2.abrupt("return", persistedState);

          case 15:
            _context2.prev = 15;
            _context2.t0 = _context2["catch"](0);
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(_context2.t0);
            return _context2.abrupt("return", undefined);

          case 19:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[0, 15]]);
  }));

  return function loadState() {
    return _ref3.apply(this, arguments);
  };
}();
var saveState = /*#__PURE__*/function () {
  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(state) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.prev = 0;
            _context3.next = 3;
            return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.setItem('state', state);

          case 3:
            _context3.next = 8;
            break;

          case 5:
            _context3.prev = 5;
            _context3.t0 = _context3["catch"](0);
            lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn(_context3.t0);

          case 8:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, null, [[0, 5]]);
  }));

  return function saveState(_x2) {
    return _ref4.apply(this, arguments);
  };
}();
var resetPersistedState = function resetPersistedState() {
  return localforage__WEBPACK_IMPORTED_MODULE_2___default.a.clear();
};

/***/ }),

/***/ 2:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "2Ekz":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showModal", function() { return showModal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalManager", function() { return ModalManager; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");



var SHOW_MODAL = 'SHOW_MODAL';
var HIDE_MODAL = 'HIDE_MODAL';

var reducer = function reducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {
    show: false,
    component: null
  };
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case SHOW_MODAL:
      return {
        show: true,
        component: action.component
      };

    case HIDE_MODAL:
      return {
        show: false,
        component: null
      };

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (reducer);
var showModal = function showModal(component) {
  return {
    type: SHOW_MODAL,
    component: component,
    meta: {
      hideActionMenu: true
    }
  };
};

var hideModal = function hideModal() {
  var meta = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return {
    type: HIDE_MODAL,
    meta: meta
  };
};

var ModalManager = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(function (state) {
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state.ui.modal);
})(function (_ref) {
  var show = _ref.show,
      component = _ref.component,
      dispatch = _ref.dispatch;
  if (!show) return null;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.cloneElement(component, {
    onClose: function onClose(meta) {
      return dispatch(hideModal(meta));
    }
  });
});

/***/ }),

/***/ "2U19":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ADD_TO_UPLOAD_QUEUE", function() { return ADD_TO_UPLOAD_QUEUE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "status", function() { return status; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queue", function() { return queue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadProgress", function() { return uploadProgress; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "processNextFile", function() { return processNextFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "overwriteFile", function() { return overwriteFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadFilesFromNative", function() { return uploadFilesFromNative; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeFileToUploadQueue", function() { return removeFileToUploadQueue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addToUploadQueue", function() { return addToUploadQueue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "purgeUploadQueue", function() { return purgeUploadQueue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onQueueEmpty", function() { return onQueueEmpty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUploadQueue", function() { return getUploadQueue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getProcessed", function() { return getProcessed; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSuccessful", function() { return getSuccessful; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectors", function() { return selectors; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("fvjX");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("kdbL");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("OTOu");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("OjRq");
/* harmony import */ var cozy_scanner_dist_ScannerUpload__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Vg/g");
/* harmony import */ var _UploadQueue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("trYA");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UploadQueue", function() { return _UploadQueue__WEBPACK_IMPORTED_MODULE_9__["default"]; });








 //!TODO Remove this method from Scanner and use from cozy-client files models
//see https://github.com/cozy/cozy-client/pull/571




var SLUG = 'upload';
var ADD_TO_UPLOAD_QUEUE = 'ADD_TO_UPLOAD_QUEUE';
var UPLOAD_FILE = 'UPLOAD_FILE';
var UPLOAD_PROGRESS = 'UPLOAD_PROGRESS';
var RECEIVE_UPLOAD_SUCCESS = 'RECEIVE_UPLOAD_SUCCESS';
var RECEIVE_UPLOAD_ERROR = 'RECEIVE_UPLOAD_ERROR';
var PURGE_UPLOAD_QUEUE = 'PURGE_UPLOAD_QUEUE';
var CANCEL = 'cancel';
var PENDING = 'pending';
var LOADING = 'loading';
var CREATED = 'created';
var UPDATED = 'updated';
var FAILED = 'failed';
var CONFLICT = 'conflict';
var QUOTA = 'quota';
var NETWORK = 'network';
var DONE_STATUSES = [CREATED, UPDATED];
var ERROR_STATUSES = [CONFLICT, NETWORK, QUOTA];
var status = {
  CANCEL: CANCEL,
  PENDING: PENDING,
  LOADING: LOADING,
  CREATED: CREATED,
  UPDATED: UPDATED,
  FAILED: FAILED,
  CONFLICT: CONFLICT,
  QUOTA: QUOTA,
  NETWORK: NETWORK,
  DONE_STATUSES: DONE_STATUSES,
  ERROR_STATUSES: ERROR_STATUSES
};
var CONFLICT_ERROR = 409;

var itemInitialState = function itemInitialState(item) {
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, item, {
    status: PENDING,
    progress: null
  });
};

var getStatus = function getStatus(state, action) {
  switch (action.type) {
    case UPLOAD_FILE:
      return LOADING;

    case RECEIVE_UPLOAD_SUCCESS:
      return action.isUpdate ? UPDATED : CREATED;

    case RECEIVE_UPLOAD_ERROR:
      return action.status;

    default:
      return state;
  }
};

var getSpeed = function getSpeed(state, action) {
  var lastLoaded = state.loaded;
  var lastUpdated = state.lastUpdated;
  var now = action.date;
  var nowLoaded = action.loaded;
  return (nowLoaded - lastLoaded) / (now - lastUpdated) * 1000;
};

var getProgress = function getProgress(state, action) {
  if (action.type == RECEIVE_UPLOAD_SUCCESS) {
    return null;
  } else if (action.type === UPLOAD_PROGRESS) {
    var speed = state ? getSpeed(state, action) : null;
    var loaded = action.loaded;
    var total = action.total;
    var remainingTime = speed && total && loaded ? (total - loaded) / speed : null;
    return {
      loaded: loaded,
      total: total,
      lastUpdated: action.date,
      speed: speed,
      remainingTime: remainingTime
    };
  } else if (action.type === RECEIVE_UPLOAD_ERROR) {
    return null;
  } else {
    return state;
  }
};

var item = function item(state) {
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
    isUpdate: false
  };
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_3___default()({}, state, {
    status: getStatus(state.status, action),
    progress: getProgress(state.progress, action)
  });
};

var queue = function queue() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case ADD_TO_UPLOAD_QUEUE:
      return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state.filter(function (i) {
        return i.status !== CREATED;
      })), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(action.files.map(function (f) {
        return itemInitialState(f);
      })));

    case PURGE_UPLOAD_QUEUE:
      return [];

    case UPLOAD_FILE:
    case RECEIVE_UPLOAD_SUCCESS:
    case RECEIVE_UPLOAD_ERROR:
    case UPLOAD_PROGRESS:
      return state.map(function (i) {
        return i.file.name !== action.file.name ? i : item(i, action);
      });

    default:
      return state;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_4__["combineReducers"])({
  queue: queue
}));
var uploadProgress = function uploadProgress(file, event, date) {
  return {
    type: UPLOAD_PROGRESS,
    file: file,
    loaded: event.loaded,
    total: event.total,
    date: date || Date.now()
  };
};
var processNextFile = function processNextFile(fileUploadedCallback, queueCompletedCallback, dirID, sharingState) {
  return /*#__PURE__*/function () {
    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch, getState, _ref) {
      var client, error, item, file, entry, isDirectory, newDir, uploadedFile, path, _uploadedFile, statusError, _status;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              client = _ref.client;
              error = null;

              if (client) {
                _context.next = 4;
                break;
              }

              throw new Error('Upload module needs a cozy-client instance to work. This instance should be made available by using the extraArgument function of redux-thunk');

            case 4:
              item = getUploadQueue(getState()).find(function (i) {
                return i.status === PENDING;
              });

              if (item) {
                _context.next = 7;
                break;
              }

              return _context.abrupt("return", dispatch(onQueueEmpty(queueCompletedCallback)));

            case 7:
              file = item.file, entry = item.entry, isDirectory = item.isDirectory;
              _context.prev = 8;
              dispatch({
                type: UPLOAD_FILE,
                file: file
              });

              if (!(entry && isDirectory)) {
                _context.next = 17;
                break;
              }

              _context.next = 13;
              return uploadDirectory(client, entry, dirID);

            case 13:
              newDir = _context.sent;
              fileUploadedCallback(newDir);
              _context.next = 21;
              break;

            case 17:
              _context.next = 19;
              return uploadFile(client, file, dirID, cozy_flags__WEBPACK_IMPORTED_MODULE_5___default()('drive.upload.with-progress') ? {
                onUploadProgress: function onUploadProgress(event) {
                  dispatch(uploadProgress(file, event));
                }
              } : {});

            case 19:
              uploadedFile = _context.sent;
              fileUploadedCallback(uploadedFile);

            case 21:
              dispatch({
                type: RECEIVE_UPLOAD_SUCCESS,
                file: file
              });
              _context.next = 44;
              break;

            case 24:
              _context.prev = 24;
              _context.t0 = _context["catch"](8);
              error = _context.t0;

              if (!(_context.t0.status === CONFLICT_ERROR)) {
                _context.next = 43;
                break;
              }

              _context.prev = 28;
              _context.next = 31;
              return models__WEBPACK_IMPORTED_MODULE_7__["CozyFile"].getFullpath(dirID, file.name);

            case 31:
              path = _context.sent;
              _context.next = 34;
              return overwriteFile(client, file, path, cozy_flags__WEBPACK_IMPORTED_MODULE_5___default()('drive.upload.with-progress') ? {
                onUploadProgress: function onUploadProgress(event) {
                  dispatch(uploadProgress(file, event));
                }
              } : {});

            case 34:
              _uploadedFile = _context.sent;
              fileUploadedCallback(_uploadedFile);
              dispatch({
                type: RECEIVE_UPLOAD_SUCCESS,
                file: file,
                isUpdate: true
              });
              error = null;
              _context.next = 43;
              break;

            case 40:
              _context.prev = 40;
              _context.t1 = _context["catch"](28);
              error = _context.t1;

            case 43:
              if (error) {
                lib_logger__WEBPACK_IMPORTED_MODULE_6__["default"].warn(error);
                statusError = {
                  409: CONFLICT,
                  413: QUOTA
                };
                _status = statusError[error.status] || /Failed to fetch$/.exec(error.toString()) && NETWORK || FAILED;
                dispatch({
                  type: RECEIVE_UPLOAD_ERROR,
                  file: file,
                  status: _status
                });
              }

            case 44:
              dispatch(processNextFile(fileUploadedCallback, queueCompletedCallback, dirID, sharingState));

            case 45:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[8, 24], [28, 40]]);
    }));

    return function (_x, _x2, _x3) {
      return _ref2.apply(this, arguments);
    };
  }();
};

var getFileFromEntry = function getFileFromEntry(entry) {
  return new Promise(function (resolve) {
    return entry.file(resolve);
  });
};

var uploadDirectory = /*#__PURE__*/function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(client, directory, dirID) {
    var newDir, dirReader;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return createFolder(client, directory.name, dirID);

          case 2:
            newDir = _context3.sent;
            dirReader = directory.createReader();
            return _context3.abrupt("return", new Promise(function (resolve) {
              var entriesReader = /*#__PURE__*/function () {
                var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(entries) {
                  var i, entry, file;
                  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
                    while (1) {
                      switch (_context2.prev = _context2.next) {
                        case 0:
                          i = 0;

                        case 1:
                          if (!(i < entries.length)) {
                            _context2.next = 17;
                            break;
                          }

                          entry = entries[i];

                          if (!entry.isFile) {
                            _context2.next = 11;
                            break;
                          }

                          _context2.next = 6;
                          return getFileFromEntry(entry);

                        case 6:
                          file = _context2.sent;
                          _context2.next = 9;
                          return uploadFile(client, file, newDir.id);

                        case 9:
                          _context2.next = 14;
                          break;

                        case 11:
                          if (!entry.isDirectory) {
                            _context2.next = 14;
                            break;
                          }

                          _context2.next = 14;
                          return uploadDirectory(client, entry, newDir.id);

                        case 14:
                          i += 1;
                          _context2.next = 1;
                          break;

                        case 17:
                          resolve(newDir);

                        case 18:
                        case "end":
                          return _context2.stop();
                      }
                    }
                  }, _callee2);
                }));

                return function entriesReader(_x7) {
                  return _ref4.apply(this, arguments);
                };
              }();

              dirReader.readEntries(entriesReader);
            }));

          case 5:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function uploadDirectory(_x4, _x5, _x6) {
    return _ref3.apply(this, arguments);
  };
}();

var createFolder = /*#__PURE__*/function () {
  var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, name, dirID) {
    var resp;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return client.collection('io.cozy.files').createDirectory({
              name: name,
              dirId: dirID
            });

          case 2:
            resp = _context4.sent;
            return _context4.abrupt("return", resp.data);

          case 4:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function createFolder(_x8, _x9, _x10) {
    return _ref5.apply(this, arguments);
  };
}();

var uploadFile = /*#__PURE__*/function () {
  var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(client, file, dirID) {
    var options,
        _yield$client$getStac,
        diskUsage,
        error,
        onUploadProgress,
        resp,
        _args5 = arguments;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            options = _args5.length > 3 && _args5[3] !== undefined ? _args5[3] : {};

            if (!window.chrome) {
              _context5.next = 11;
              break;
            }

            _context5.next = 4;
            return client.getStackClient().fetchJSON('GET', '/settings/disk-usage');

          case 4:
            _yield$client$getStac = _context5.sent;
            diskUsage = _yield$client$getStac.data;

            if (!diskUsage.attributes.quota) {
              _context5.next = 11;
              break;
            }

            if (!(parseInt(diskUsage.attributes.used) + parseInt(file.size) > parseInt(diskUsage.attributes.quota))) {
              _context5.next = 11;
              break;
            }

            error = new Error('Payload Too Large');
            error.status = 413;
            throw error;

          case 11:
            onUploadProgress = options.onUploadProgress;
            _context5.next = 14;
            return client.collection('io.cozy.files').createFile(file, {
              dirId: dirID,
              onUploadProgress: onUploadProgress
            });

          case 14:
            resp = _context5.sent;
            return _context5.abrupt("return", resp.data);

          case 16:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function uploadFile(_x11, _x12, _x13) {
    return _ref6.apply(this, arguments);
  };
}();
/*
 * @function
 * @param {Object} client - A CozyClient instance
 * @param {Object} file - The uploaded javascript File object
 * @param {string} path - The file's path in the cozy
 * @param {{onUploadProgress}} options 
 * @return {Object} - The updated io.cozy.files
 */


var overwriteFile = /*#__PURE__*/function () {
  var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(client, file, path) {
    var options,
        statResp,
        _statResp$data,
        fileId,
        dirId,
        resp,
        _args6 = arguments;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            options = _args6.length > 3 && _args6[3] !== undefined ? _args6[3] : {};
            _context6.next = 3;
            return client.collection('io.cozy.files').statByPath(path);

          case 3:
            statResp = _context6.sent;
            _statResp$data = statResp.data, fileId = _statResp$data.id, dirId = _statResp$data.dir_id;
            _context6.next = 7;
            return client.collection('io.cozy.files').updateFile(file, {
              dirId: dirId,
              fileId: fileId,
              options: options
            });

          case 7:
            resp = _context6.sent;
            return _context6.abrupt("return", resp.data);

          case 9:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6);
  }));

  return function overwriteFile(_x14, _x15, _x16) {
    return _ref7.apply(this, arguments);
  };
}();
var uploadFilesFromNative = function uploadFilesFromNative(files, folderId, uploadFilesSuccessCallback) {
  return /*#__PURE__*/function () {
    var _ref8 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(dispatch) {
      var i;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
        while (1) {
          switch (_context7.prev = _context7.next) {
            case 0:
              dispatch({
                type: ADD_TO_UPLOAD_QUEUE,
                files: files
              }); //!TODO Promise.All

              i = 0;

            case 2:
              if (!(i < files.length)) {
                _context7.next = 9;
                break;
              }

              _context7.next = 5;
              return Object(cozy_scanner_dist_ScannerUpload__WEBPACK_IMPORTED_MODULE_8__["doUpload"])(files[i].file.fileUrl, null, files[i].file.name, folderId, 'rename', files[i].file.type);

            case 5:
              dispatch(removeFileToUploadQueue(files[i].file));

            case 6:
              i++;
              _context7.next = 2;
              break;

            case 9:
              if (uploadFilesSuccessCallback) uploadFilesSuccessCallback();

            case 10:
            case "end":
              return _context7.stop();
          }
        }
      }, _callee7);
    }));

    return function (_x17) {
      return _ref8.apply(this, arguments);
    };
  }();
};
var removeFileToUploadQueue = function removeFileToUploadQueue(file) {
  return /*#__PURE__*/function () {
    var _ref9 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee8(dispatch) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee8$(_context8) {
        while (1) {
          switch (_context8.prev = _context8.next) {
            case 0:
              dispatch({
                type: RECEIVE_UPLOAD_SUCCESS,
                file: file,
                isUpdate: true
              });

            case 1:
            case "end":
              return _context8.stop();
          }
        }
      }, _callee8);
    }));

    return function (_x18) {
      return _ref9.apply(this, arguments);
    };
  }();
};
var addToUploadQueue = function addToUploadQueue(files, dirID, sharingState, fileUploadedCallback, queueCompletedCallback) {
  return /*#__PURE__*/function () {
    var _ref10 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee9(dispatch) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee9$(_context9) {
        while (1) {
          switch (_context9.prev = _context9.next) {
            case 0:
              dispatch({
                type: ADD_TO_UPLOAD_QUEUE,
                files: extractFilesEntries(files)
              });
              dispatch(processNextFile(fileUploadedCallback, queueCompletedCallback, dirID, sharingState));

            case 2:
            case "end":
              return _context9.stop();
          }
        }
      }, _callee9);
    }));

    return function (_x19) {
      return _ref10.apply(this, arguments);
    };
  }();
};
var purgeUploadQueue = function purgeUploadQueue() {
  return {
    type: PURGE_UPLOAD_QUEUE
  };
};
var onQueueEmpty = function onQueueEmpty(callback) {
  return function (dispatch, getState) {
    var queue = getUploadQueue(getState());
    var quotas = getQuotaErrors(queue);
    var conflicts = getConflicts(queue);
    var created = getCreated(queue);
    var updated = getUpdated(queue);
    var networkErrors = getNetworkErrors(queue);
    var errors = getErrors(queue);
    return callback(created, quotas, conflicts, networkErrors, errors, updated);
  };
}; // selectors

var filterByStatus = function filterByStatus(queue, status) {
  return queue.filter(function (f) {
    return f.status === status;
  });
};

var getConflicts = function getConflicts(queue) {
  return filterByStatus(queue, CONFLICT);
};

var getErrors = function getErrors(queue) {
  return filterByStatus(queue, FAILED);
};

var getQuotaErrors = function getQuotaErrors(queue) {
  return filterByStatus(queue, QUOTA);
};

var getNetworkErrors = function getNetworkErrors(queue) {
  return filterByStatus(queue, NETWORK);
};

var getCreated = function getCreated(queue) {
  return filterByStatus(queue, CREATED);
};

var getUpdated = function getUpdated(queue) {
  return filterByStatus(queue, UPDATED);
};

var getUploadQueue = function getUploadQueue(state) {
  return state[SLUG].queue;
};
var getProcessed = function getProcessed(state) {
  return getUploadQueue(state).filter(function (f) {
    return f.status !== PENDING;
  });
};
var getSuccessful = function getSuccessful(state) {
  var queue = getUploadQueue(state);
  return queue.filter(function (f) {
    return [CREATED, UPDATED].includes(f.status);
  });
};
var selectors = {
  getConflicts: getConflicts,
  getErrors: getErrors,
  getQuotaErrors: getQuotaErrors,
  getNetworkErrors: getNetworkErrors,
  getCreated: getCreated,
  getUpdated: getUpdated,
  getProcessed: getProcessed,
  getSuccessful: getSuccessful
}; // DOM helpers

var extractFilesEntries = function extractFilesEntries(items) {
  var results = [];

  for (var i = 0; i < items.length; i += 1) {
    var _item = items[i];

    if (_item.webkitGetAsEntry != null && _item.webkitGetAsEntry()) {
      var entry = _item.webkitGetAsEntry();

      results.push({
        file: _item.getAsFile(),
        isDirectory: entry.isDirectory === true,
        entry: entry
      });
    } else {
      results.push({
        file: _item,
        isDirectory: false,
        entry: null
      });
    }
  }

  return results;
};

/***/ }),

/***/ "2gvL":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Wizard; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _Breadcrumb__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("gAdQ");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }




var Wizard = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Wizard, _Component);

  var _super = _createSuper(Wizard);

  function Wizard(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Wizard);

    _this = _super.call(this, props);
    _this.nextStep = _this.nextStep.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));
    _this.previousStep = _this.previousStep.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));
    _this.state = {
      step: 0
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Wizard, [{
    key: "nextStep",
    value: function nextStep() {
      if (this.state.step >= this.props.steps.length - 1) {
        this.props.onComplete();
        return;
      }

      this.setState({
        step: this.state.step + 1
      });
    }
  }, {
    key: "previousStep",
    value: function previousStep() {
      if (this.state.step === 0) return;
      this.setState({
        step: this.state.step - 1
      });
    }
  }, {
    key: "render",
    value: function render() {
      var Step = this.props.steps[this.state.step];
      var Breadcrumbs = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Breadcrumb__WEBPACK_IMPORTED_MODULE_8__["default"], {
        currentStep: this.state.step + 1,
        totalSteps: this.props.steps.length
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Step, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        nextStep: this.nextStep,
        previousStep: this.previousStep,
        breadcrumbs: Breadcrumbs
      }, this.props));
    }
  }]);

  return Wizard;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);



/***/ }),

/***/ "2k09":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("fD9B");
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("UmWK");
/* harmony import */ var _share__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("GpAf");





var SharedRecipientsComponent = function SharedRecipientsComponent(_ref) {
  var displayedFolder = _ref.displayedFolder,
      share = _ref.share;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_2__["SharedRecipients"], {
    docId: displayedFolder && displayedFolder.id,
    onClick: function onClick() {
      return share(displayedFolder);
    }
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(_toolbar__WEBPACK_IMPORTED_MODULE_1__["default"])(Object(_share__WEBPACK_IMPORTED_MODULE_3__["default"])(SharedRecipientsComponent)));

/***/ }),

/***/ "2nHF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateForQueue", function() { return generateForQueue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbUpload", function() { return DumbUpload; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("fvjX");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("dtw8");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("67rm");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("2U19");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_web_modules_move_Header__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("6WMq");
/* harmony import */ var drive_web_modules_move_Explorer__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("rR5K");
/* harmony import */ var drive_web_modules_move_FileList__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("w2zn");
/* harmony import */ var drive_web_modules_move_Loader__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("1HFg");
/* harmony import */ var drive_web_modules_move_LoadMore__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("XetN");
/* harmony import */ var drive_web_modules_move_Footer__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("NQEN");
/* harmony import */ var drive_web_modules_move_Topbar__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("tLSP");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("NMd3");










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }





















var generateForQueue = function generateForQueue(files) {
  var filesForQueue = [];
  files.map(function (file) {
    filesForQueue.push({
      file: file,
      isDirectory: false
    });
  });
  return filesForQueue;
};
var DumbUpload = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(DumbUpload, _Component);

  var _super = _createSuper(DumbUpload);

  function DumbUpload() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, DumbUpload);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      items: [],
      folderId: drive_constants_config__WEBPACK_IMPORTED_MODULE_19__["ROOT_DIR_ID"]
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "callbackSuccess", function () {
      var items = _this.state.items;
      var _this$props = _this.props,
          t = _this$props.t,
          startMediaBackup = _this$props.startMediaBackup;
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_15__["default"].success(t('ImportToDrive.success', {
        smart_count: items.length
      }));
      localforage__WEBPACK_IMPORTED_MODULE_10___default.a.removeItem('importedFiles');
      startMediaBackup();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "navigateTo", function (folder) {
      _this.setState({
        folderId: folder.id
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "contentQuery", function (client) {
      return client.find('io.cozy.files').where({
        dir_id: _this.state.folderId,
        _id: {
          $ne: drive_constants_config__WEBPACK_IMPORTED_MODULE_19__["TRASH_DIR_ID"]
        }
      }).indexFields(['dir_id', 'type', 'name', '_id']).sortBy([{
        dir_id: 'asc'
      }, {
        type: 'asc'
      }, {
        name: 'asc'
      }]);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "breadcrumbQuery", function (client) {
      return client.get('io.cozy.files', _this.state.folderId);
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "onClose", function () {
      var router = _this.props.router;
      localforage__WEBPACK_IMPORTED_MODULE_10___default.a.removeItem('importedFiles'); //we replace the URL to be sure that even with the back button on Android
      //we don't arrive on this component

      router.replace('/');
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(DumbUpload, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var stopMediaBackup, items;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                stopMediaBackup = this.props.stopMediaBackup;
                stopMediaBackup();
                _context.next = 4;
                return localforage__WEBPACK_IMPORTED_MODULE_10___default.a.getItem('importedFiles');

              case 4:
                items = _context.sent;
                this.setState({
                  items: items
                });

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "uploadFiles",
    value: function () {
      var _uploadFiles = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        var _this$state, items, folderId, _this$props2, router, uploadFilesFromNative, filesForQueue;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _this$state = this.state, items = _this$state.items, folderId = _this$state.folderId;
                _this$props2 = this.props, router = _this$props2.router, uploadFilesFromNative = _this$props2.uploadFilesFromNative;
                filesForQueue = generateForQueue(items);
                uploadFilesFromNative(filesForQueue, folderId, this.callbackSuccess); //just to be sure that first dispatch of uploadFilesFromNative was done
                //we replace the URL to be sure that even with the back button on Android
                //we don't arrive on this component

                setTimeout(function () {
                  return router.replace("/folder/".concat(folderId));
                }, 50);

              case 5:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function uploadFiles() {
        return _uploadFiles.apply(this, arguments);
      }

      return uploadFiles;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$state2 = this.state,
          items = _this$state2.items,
          folderId = _this$state2.folderId,
          uploadInProgress = _this$state2.uploadInProgress;
      var t = this.props.t;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_17__["Modal"], {
        size: 'xlarge',
        closable: false,
        overflowHidden: true,
        mobileFullscreen: true,
        into: "body",
        "aria-label": t('Move.modalTitle'),
        className: 'u-mih-100'
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Header__WEBPACK_IMPORTED_MODULE_20__["default"], {
        entries: items,
        onClose: this.onClose,
        title: t('ImportToDrive.title', {
          smart_count: items.length
        }),
        subTitle: t('ImportToDrive.to')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_16__["Query"], {
        query: this.breadcrumbQuery,
        key: "breadcrumb-".concat(folderId)
      }, function (_ref) {
        var data = _ref.data,
            fetchStatus = _ref.fetchStatus;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Topbar__WEBPACK_IMPORTED_MODULE_26__["default"], {
          navigateTo: _this2.navigateTo,
          currentDir: data,
          fetchStatus: fetchStatus
        });
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_16__["Query"], {
        query: this.contentQuery,
        key: "content-".concat(folderId)
      }, function (_ref2) {
        var data = _ref2.data,
            fetchStatus = _ref2.fetchStatus,
            hasMore = _ref2.hasMore,
            fetchMore = _ref2.fetchMore;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Explorer__WEBPACK_IMPORTED_MODULE_21__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Loader__WEBPACK_IMPORTED_MODULE_23__["default"], {
          fetchStatus: fetchStatus,
          hasNoData: data.length === 0
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_FileList__WEBPACK_IMPORTED_MODULE_22__["default"], {
          files: data,
          targets: items,
          navigateTo: _this2.navigateTo
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_LoadMore__WEBPACK_IMPORTED_MODULE_24__["default"], {
          hasMore: hasMore,
          fetchMore: fetchMore
        }))));
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_move_Footer__WEBPACK_IMPORTED_MODULE_25__["default"], {
        onConfirm: function onConfirm() {
          return _this2.uploadFiles();
        },
        onClose: this.onClose,
        targets: items,
        currentDirId: folderId,
        isMoving: uploadInProgress,
        primaryTextAction: t('ImportToDrive.action'),
        secondaryTextAction: t('ImportToDrive.cancel')
      }));
    }
  }]);

  return DumbUpload;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);
DumbUpload.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.func.isRequired,
  router: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.func.isRequired,
  uploadFilesFromNative: prop_types__WEBPACK_IMPORTED_MODULE_14___default.a.func.isRequired
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    uploadFilesFromNative: function uploadFilesFromNative(files, folderId, successCallback) {
      return dispatch(Object(drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_18__["uploadFilesFromNative"])(files, folderId, successCallback));
    },
    stopMediaBackup: function stopMediaBackup() {
      return dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_27__["cancelMediaBackup"])());
    },
    startMediaBackup: function startMediaBackup() {
      return dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_27__["startMediaBackup"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_11__["compose"])(Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_17__["translate"])(), cozy_client__WEBPACK_IMPORTED_MODULE_16__["withClient"], react_router__WEBPACK_IMPORTED_MODULE_13__["withRouter"], Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(null, mapDispatchToProps))(DumbUpload));

/***/ }),

/***/ 3:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "32XB":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"CozyTheme--normal":"CozyTheme--normal--1Ee94","fil-actionmenu-inner":"fil-actionmenu-inner--3JhFX","fil-actionmenu-recipients":"fil-actionmenu-recipients--28pEX","fil-action":"fil-action--3huaS","fil-actionmenu-overlay":"fil-actionmenu-overlay--1o4R9","fil-mobileactionmenu":"fil-mobileactionmenu--2J9Kc","fil-mobileactionmenu-header":"fil-mobileactionmenu-header--j3KI4","fil-mobileactionmenu-file-name":"fil-mobileactionmenu-file-name--3VXSo","fil-mobileactionmenu-file-ext":"fil-mobileactionmenu-file-ext--2sio1","fil-mobileactionmenu-category":"fil-mobileactionmenu-category--34XX7","fil-action-phone-download":"fil-action-phone-download--3zG6S","fil-action-openWith":"fil-action-openWith--NJ1ah","fil-action-download":"fil-action-download--378G6","fil-action-destroy":"fil-action-destroy--1FAXj","fil-action-trash":"fil-action-trash--268pI","fil-action-restore":"fil-action-restore--36vfQ","fil-action-rename":"fil-action-rename--1hqjC","fil-action-share":"fil-action-share--1BpnI","fil-action-moveto":"fil-action-moveto--o2Fw2","fil-action-qualify":"fil-action-qualify--2C734","fil-action-history":"fil-action-history--33jRV"};

/***/ }),

/***/ "37ak":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showNewFolderInput", function() { return showNewFolderInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideNewFolderInput", function() { return hideNewFolderInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTypingNewFolderName", function() { return isTypingNewFolderName; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);

var SHOW_NEW_FOLDER_INPUT = 'SHOW_NEW_FOLDER_INPUT';
var HIDE_NEW_FOLDER_INPUT = 'HIDE_NEW_FOLDER_INPUT';
var showNewFolderInput = function showNewFolderInput() {
  return {
    type: SHOW_NEW_FOLDER_INPUT
  };
};
var hideNewFolderInput = function hideNewFolderInput() {
  return {
    type: HIDE_NEW_FOLDER_INPUT
  };
};
var initialState = {
  isTypingNewFolderName: false
};

var filelist = function filelist() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case SHOW_NEW_FOLDER_INPUT:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        isTypingNewFolderName: true
      });

    case HIDE_NEW_FOLDER_INPUT:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        isTypingNewFolderName: false
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (filelist);
var isTypingNewFolderName = function isTypingNewFolderName(state) {
  return state.filelist.isTypingNewFolderName;
};

/***/ }),

/***/ "3Cim":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteConfirm", function() { return DeleteConfirm; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("buk/");
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("UmWK");
/* harmony import */ var drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("MFii");
/* harmony import */ var drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("MM/P");
/* harmony import */ var drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_11__);













var Message = function Message(_ref) {
  var type = _ref.type,
      fileCount = _ref.fileCount;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__["useI18n"])(),
      t = _useI18n.t;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_11___default.a['fil-confirm-text'], drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_11___default.a["icon-".concat(type)])
  }, t("deleteconfirmation.".concat(type), fileCount));
};

var DeleteConfirm = function DeleteConfirm(_ref2) {
  var files = _ref2.files,
      referenced = _ref2.referenced,
      afterConfirmation = _ref2.afterConfirmation,
      onClose = _ref2.onClose,
      children = _ref2.children;

  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_8__["useI18n"])(),
      t = _useI18n2.t;

  var fileCount = files.length;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useClient"])();
  var onDelete = Object(react__WEBPACK_IMPORTED_MODULE_4__["useCallback"])( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return Object(drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_10__["trashFiles"])(client, files);

          case 2:
            afterConfirmation();
            onClose();

          case 4:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  })), [drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_10__["trashFiles"], client, files]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_7__["default"], {
    title: t('deleteconfirmation.title', fileCount),
    secondaryText: t('deleteconfirmation.cancel'),
    secondaryAction: onClose,
    secondaryType: "secondary",
    primaryType: "danger",
    primaryText: t('deleteconfirmation.delete'),
    primaryAction: onDelete
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_7__["ModalDescription"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Message, {
    type: "trash",
    fileCount: fileCount
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Message, {
    type: "restore",
    fileCount: fileCount
  }), referenced && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Message, {
    type: "referenced",
    fileCount: fileCount
  }), children));
};

var DeleteConfirmWithSharingContext = function DeleteConfirmWithSharingContext(_ref4) {
  var files = _ref4.files,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref4, ["files"]);

  return files.length !== 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(DeleteConfirm, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    files: files
  }, rest)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_9__["SharedDocument"], {
    docId: files[0].id
  }, function (_ref5) {
    var isSharedByMe = _ref5.isSharedByMe;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(DeleteConfirm, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      files: files
    }, rest), isSharedByMe && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Message, {
      type: "shared",
      fileCount: files.length
    }), isSharedByMe && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_9__["SharedRecipientsList"], {
      className: drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_11___default.a['fil-confirm-recipients'],
      docId: files[0].id
    }));
  });
};

/* harmony default export */ __webpack_exports__["default"] = (DeleteConfirmWithSharingContext);

/***/ }),

/***/ "3eMW":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("XXXr");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("T//5");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("gb4X");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("WMvU");
/* harmony import */ var _withSharedDocumentIds__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("mx4X");











var FilesViewerWithQuery = function FilesViewerWithQuery(_ref) {
  var sharedDocumentIds = _ref.sharedDocumentIds,
      currentFolderId = _ref.currentFolderId,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, ["sharedDocumentIds", "currentFolderId"]);

  var filesQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_5__["buildSharingsQuery"])(sharedDocumentIds);
  var results = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(filesQuery.definition, filesQuery.options);

  var _useRouter = Object(drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_4__["useRouter"])(),
      router = _useRouter.router;

  if (results.data) {
    var viewableFiles = results.data.filter(function (f) {
      return f.type !== 'directory';
    });
    var basePath = currentFolderId ? "/sharings/".concat(currentFolderId) : '/sharings';
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_8__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      files: viewableFiles,
      filesQuery: results,
      onClose: function onClose() {
        return router.push(basePath);
      },
      onChange: function onChange(fileId) {
        return router.push({
          pathname: "".concat(basePath, "/file/").concat(fileId)
        });
      }
    }));
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_8__["FilesViewerLoading"], null);
  }
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    fileId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_6__["getCurrentFileId"])(state),
    currentFolderId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_6__["getCurrentFolderId"])(state)
  };
};

var FilesViewerWithFolderId = Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["connect"])(mapStateToProps)(FilesViewerWithQuery);
/* harmony default export */ __webpack_exports__["default"] = (Object(_withSharedDocumentIds__WEBPACK_IMPORTED_MODULE_9__["default"])(FilesViewerWithFolderId));

/***/ }),

/***/ "3nSB":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-note_66b67c1293c24a2bdf42260d7e0388b7",
  "use": "icon-type-note_66b67c1293c24a2bdf42260d7e0388b7-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-note_66b67c1293c24a2bdf42260d7e0388b7\"><path d=\"M2 2a2 2 0 0 1 2-2h22a2 2 0 0 1 2 2v28a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2z\" fill=\"#acf5f7\" fill-rule=\"evenodd\" /><path d=\"M8 8h14v2H8zm0 4h8v2H8zm0 4h14v2H8zm0 4h10v2H8zM1.5 4h2A1.54 1.54 0 0 1 5 5.5 1.54 1.54 0 0 1 3.5 7h-2A1.54 1.54 0 0 1 0 5.5 1.54 1.54 0 0 1 1.5 4zM1.5 11h2A1.54 1.54 0 0 1 5 12.5 1.54 1.54 0 0 1 3.5 14h-2A1.54 1.54 0 0 1 0 12.5 1.54 1.54 0 0 1 1.5 11zM1.5 18h2A1.54 1.54 0 0 1 5 19.5 1.54 1.54 0 0 1 3.5 21h-2A1.54 1.54 0 0 1 0 19.5 1.54 1.54 0 0 1 1.5 18zM1.5 25h2A1.54 1.54 0 0 1 5 26.5 1.54 1.54 0 0 1 3.5 28h-2A1.54 1.54 0 0 1 0 26.5 1.54 1.54 0 0 1 1.5 25zM31.4 18.4l-2.8-2.8a2 2 0 0 1 2.8 2.8zM30.7 19.1L20.8 29l-2.5.9a1 1 0 0 1-1.3-.6.85.85 0 0 1 0-.7l.9-2.5 9.9-9.9z\" fill=\"#0dcbcf\" fill-rule=\"evenodd\" /></symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "3vrf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("6TdX");
/* harmony import */ var drive_web_modules_layout_Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("vX5W");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Yo2A");
/* harmony import */ var drive_lib_RealTimeQueries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("LQkU");






var FolderView = function FolderView(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_layout_Main__WEBPACK_IMPORTED_MODULE_2__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_lib_RealTimeQueries__WEBPACK_IMPORTED_MODULE_4__["default"], {
    doctype: "io.cozy.files"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_1__["ModalStack"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_3__["ModalManager"], null), children);
};

/* harmony default export */ __webpack_exports__["default"] = (FolderView);

/***/ }),

/***/ 4:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "510Z":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ImageLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8C5O");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ImageLoader", function() { return _ImageLoader__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/***/ }),

/***/ "5lZ0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a",
  "use": "icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#E6D5FF\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#9C59FF\" d=\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\" />\n    <g stroke=\"#9C59FF\" stroke-width=\"2\" transform=\"translate(5 11)\">\n      <polyline points=\"4 11 0 7 4 3\" stroke-linejoin=\"round\" />\n      <polyline points=\"16 11 12 7 16 3\" stroke-linejoin=\"round\" transform=\"matrix(-1 0 0 1 28 0)\" />\n      <path d=\"M6,14 L10,0\" />\n    </g>\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "5vC2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_sharing_dist_components_Recipient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("2QaW");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("y6ex");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("UmWK");
/* harmony import */ var _share__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("GpAf");








var ShareItem = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["translate"])()(function (_ref) {
  var t = _ref.t,
      share = _ref.share,
      displayedFolder = _ref.displayedFolder;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_6__["SharedDocument"], {
    docId: displayedFolder.id
  }, function (_ref2) {
    var isSharedWithMe = _ref2.isSharedWithMe,
        recipients = _ref2.recipients,
        link = _ref2.link;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_3__["ActionMenuItem"], {
      onClick: function onClick() {
        return share(displayedFolder);
      },
      left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
        icon: "share"
      }),
      right: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_5___default.a['menu-recipients-wrapper']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_sharing_dist_components_Recipient__WEBPACK_IMPORTED_MODULE_1__["RecipientsAvatars"], {
        className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_5___default.a['menu-recipients'],
        recipients: recipients,
        link: link,
        size: "small"
      }))
    }, t(isSharedWithMe ? 'Files.share.sharedWithMe' : 'toolbar.menu_share_folder'));
  });
});
/* harmony default export */ __webpack_exports__["default"] = (Object(_share__WEBPACK_IMPORTED_MODULE_7__["default"])(ShareItem));

/***/ }),

/***/ 6:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "6IK3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SORTABLE_ATTRIBUTES", function() { return SORTABLE_ATTRIBUTES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_SORT", function() { return DEFAULT_SORT; });
var SORTABLE_ATTRIBUTES = [{
  label: 'name',
  attr: 'name',
  css: 'file',
  defaultOrder: 'asc'
}, {
  label: 'update',
  attr: 'updated_at',
  css: 'date',
  defaultOrder: 'desc'
} // TODO: activate sorting by size when it's ready on the back side
// { label: 'size', attr: 'size', css: 'size', defaultOrder: 'desc' }
];
var DEFAULT_SORT = {
  attribute: 'name',
  order: 'asc'
};

/***/ }),

/***/ "6TdX":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalContext", function() { return ModalContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalContextProvider", function() { return ModalContextProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalStack", function() { return ModalStack; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);



var ModalContext = react__WEBPACK_IMPORTED_MODULE_2___default.a.createContext();
var ModalContextProvider = function ModalContextProvider(_ref) {
  var children = _ref.children;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])([]),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
      modalStack = _useState2[0],
      setModalStack = _useState2[1];

  var pushModal = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function (modal) {
    modalStack.push(modal);
    setModalStack(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(modalStack));
  });
  var popModal = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function () {
    modalStack.pop();
    setModalStack(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(modalStack));
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ModalContext.Provider, {
    value: {
      modalStack: modalStack,
      pushModal: pushModal,
      popModal: popModal
    }
  }, children);
};
var ModalStack = function ModalStack() {
  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_2__["useContext"])(ModalContext),
      modalStack = _useContext.modalStack;

  if (modalStack.length === 0) return null;else return modalStack[modalStack.length - 1];
};

/***/ }),

/***/ "6WMq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("yoMi");
var cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_3___namespace = /*#__PURE__*/__webpack_require__.t("yoMi", 1);
/* harmony import */ var drive_assets_icons_icon_drive_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("S0v/");






var HeaderIlustration = function HeaderIlustration(_ref) {
  var count = _ref.count;
  return count > 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Circle"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Counter"], {
    count: count
  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    icon: drive_assets_icons_icon_drive_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
    size: 32
  });
};

var Header = function Header(_ref2, _ref3) {
  var entries = _ref2.entries,
      onClose = _ref2.onClose,
      title = _ref2.title,
      subTitle = _ref2.subTitle;
  var t = _ref3.t;
  var titleToUse = title ? title : t('Move.title', {
    smart_count: entries.length
  });
  var subTitleToUse = subTitle ? subTitle : t('Move.to');
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Well"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Media"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Img"], {
    className: "u-mr-1"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderIlustration, {
    count: entries.length
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Bd"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Bold"], {
    ellipsis: true
  }, entries.length !== 1 ? titleToUse : entries[0].name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Caption"], {
    ellipsis: true
  }, subTitleToUse)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    theme: "close",
    onClick: onClose,
    extension: "narrow",
    type: "button"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    icon: "cross",
    width: "14",
    height: "14",
    color: cozy_ui_stylus_settings_palette_json__WEBPACK_IMPORTED_MODULE_3__['coolGrey']
  }))));
};

Header.propTypes = {
  entries: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  })).isRequired,
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  subTitle: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
Header.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Header);

/***/ }),

/***/ "6Xwf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("fvjX");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("y6ex");
/* harmony import */ var cozy_ui_transpiled_react_FileInput__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("asgm");
/* harmony import */ var cozy_sharing_dist_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("abL+");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("yEaX");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("fD9B");











var UploadItem = function UploadItem(_ref) {
  var t = _ref.t,
      isDisabled = _ref.isDisabled,
      onUpload = _ref.onUpload;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_FileInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
    label: t('toolbar.menu_upload'),
    disabled: isDisabled,
    multiple: true,
    onChange: onUpload,
    "data-test-id": "upload-btn",
    value: [] // FileInput needs to stay rendered until the onChange event, so we prevent the event from bubbling
    ,
    onClick: function onClick(e) {
      return e.stopPropagation();
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__["ActionMenuItem"], {
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
      icon: "upload"
    }),
    onClick: function onClick(e) {
      return e.stopPropagation();
    }
  }, t('toolbar.menu_upload')));
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {
  var displayedFolder = _ref2.displayedFolder,
      sharingState = _ref2.sharingState,
      onUploaded = _ref2.onUploaded;
  return {
    onUpload: function onUpload(files) {
      dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_8__["uploadFiles"])(files, displayedFolder.id, sharingState, onUploaded));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_2__["compose"])(cozy_sharing_dist_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_7__["default"], _toolbar__WEBPACK_IMPORTED_MODULE_9__["default"], Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_3__["translate"])(), Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps))(UploadItem));

/***/ }),

/***/ "6dOw":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({});

/***/ }),

/***/ 7:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "7TaF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("y6ex");
/* harmony import */ var cozy_ui_transpiled_react_Badge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("UNFo");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_4__);






var FileIconShortcut = function FileIconShortcut(_ref) {
  var file = _ref.file,
      size = _ref.size,
      client = _ref.client;

  var _useFetchShortcut = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useFetchShortcut"])(client, file.id),
      shortcutImg = _useFetchShortcut.shortcutImg;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Badge__WEBPACK_IMPORTED_MODULE_3__["default"], {
    content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
      icon: "link",
      size: 10
    }),
    type: "normal",
    alignment: "bottom-right",
    size: "medium"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: {
      display: shortcutImg ? 'block' : 'none'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    src: shortcutImg,
    width: size,
    height: size
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: {
      display: !shortcutImg ? 'block' : 'none'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    icon: "globe",
    size: size,
    color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_4___default.a.coolGrey
  }))));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["withClient"])(FileIconShortcut));

/***/ }),

/***/ "7oMs":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSelected", function() { return isSelected; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSelectionBarVisible", function() { return isSelectionBarVisible; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSelectedFiles", function() { return getSelectedFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showSelectionBar", function() { return showSelectionBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideSelectionBar", function() { return hideSelectionBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toggleSelectionBar", function() { return toggleSelectionBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toggleItemSelection", function() { return toggleItemSelection; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("fvjX");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("Puqe");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_3__);



 // constants

var SELECT_ITEM = 'SELECT_ITEM';
var UNSELECT_ITEM = 'UNSELECT_ITEM';
var TOGGLE_SELECTION_BAR = 'TOGGLE_SELECTION_BAR';
var SHOW_SELECTION_BAR = 'SHOW_SELECTION_BAR';
var HIDE_SELECTION_BAR = 'HIDE_SELECTION_BAR'; // selectors

var isSelected = function isSelected(state, file) {
  return state.selection.selected[file.id] !== undefined;
};
var isSelectionBarVisible = function isSelectionBarVisible(state) {
  return Object.keys(state.selection.selected).length !== 0 || state.selection.isSelectionBarOpened;
};
var getSelectedFiles = function getSelectedFiles(state) {
  return Object.values(state.selection.selected);
}; // actions

var showSelectionBar = function showSelectionBar() {
  return {
    type: SHOW_SELECTION_BAR
  };
};
var hideSelectionBar = function hideSelectionBar() {
  return {
    type: HIDE_SELECTION_BAR
  };
};
var toggleSelectionBar = function toggleSelectionBar() {
  return {
    type: TOGGLE_SELECTION_BAR
  };
};
var toggleItemSelection = function toggleItemSelection(file, selected) {
  return {
    type: selected ? UNSELECT_ITEM : SELECT_ITEM,
    file: file
  };
}; // reducers

var selected = function selected() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 ? arguments[1] : undefined;

  if (action.meta && action.meta.cancelSelection) {
    return {};
  }

  switch (action.type) {
    case SELECT_ITEM:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, action.file.id, action.file));

    case UNSELECT_ITEM:
      {
        return lodash_omit__WEBPACK_IMPORTED_MODULE_3___default()(state, [action.file.id]);
      }

    case HIDE_SELECTION_BAR:
      return {};

    default:
      return state;
  }
};

var isSelectionBarOpened = function isSelectionBarOpened() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  if (action.meta && action.meta.cancelSelection) {
    return false;
  }

  switch (action.type) {
    case TOGGLE_SELECTION_BAR:
      return !state;

    case SHOW_SELECTION_BAR:
      return true;

    case HIDE_SELECTION_BAR:
      return false;

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_2__["combineReducers"])({
  selected: selected,
  isSelectionBarOpened: isSelectionBarOpened
}));

/***/ }),

/***/ 8:
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("201c");
__webpack_require__("7NIr");
module.exports = __webpack_require__("K65c");


/***/ }),

/***/ "87BZ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4__);






var HeaderCell = function HeaderCell(_ref) {
  var _cx;

  var label = _ref.label,
      css = _ref.css,
      attr = _ref.attr,
      _ref$order = _ref.order,
      order = _ref$order === void 0 ? null : _ref$order,
      defaultOrder = _ref.defaultOrder,
      onSort = _ref.onSort;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var sortCallback = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return onSort && onSort(attr, order ? order === 'asc' ? 'desc' : 'asc' : defaultOrder);
  }, [onSort, attr, order, defaultOrder]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    onClick: sortCallback,
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a["fil-content-".concat(css)], (_cx = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_cx, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-header-sortableasc'], onSort && order === null && defaultOrder === 'asc'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_cx, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-header-sortabledesc'], onSort && order === null && defaultOrder === 'desc'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_cx, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-header-sortasc'], onSort && order === 'asc'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_cx, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-header-sortdesc'], onSort && order === 'desc'), _cx))
  }, t("table.head_".concat(label)));
};

/* harmony default export */ __webpack_exports__["default"] = (HeaderCell);

/***/ }),

/***/ "8C5O":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("OTOu");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_12__);










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/* global cozy */




var TTL = 10000;
var PENDING = 'PENDING';
var LOADING_LINK = 'LOADING_LINK';
var LOADING_FALLBACK = 'LOADING_FALLBACK';
var LOADED = 'LOADED';
var FAILED = 'FAILED';

var ImageLoader = /*#__PURE__*/function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(ImageLoader, _React$Component);

  var _super = _createSuper(ImageLoader);

  function ImageLoader() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ImageLoader);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      status: PENDING,
      src: null
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_mounted", false);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "handleCreate", function (doc) {
      var _this$props = _this.props,
          file = _this$props.file,
          size = _this$props.size;

      if (file._id === doc._id && doc.format === size) {
        _this.loadLink();

        _this.unsubscribeRealtime();
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "unsubscribeRealtime", function () {
      _this.realtime && _this.realtime.unsubscribe('created', _this.type, _this.handleCreate);
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ImageLoader, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var client;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                client = this.props.client;
                this._mounted = true;
                this.loadNextSrc();
                this.realtime = client.plugins.realtime;
                this.type = 'io.cozy.files.thumbnails';
                this.realtime.subscribe('created', this.type, this.handleCreate);

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
    /**
     * Reload the link when realtime tell us that the
     * thumbnail is created. By default size === small
     */

  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._mounted = false;
      clearTimeout(this.timeout);

      if (this.img) {
        this.img.onload = this.img.onerror = null;
        this.img.src = '';
      }

      this.unsubscribeRealtime();
    }
  }, {
    key: "getFileId",
    value: function getFileId(file) {
      return file.id || file._id;
    }
  }, {
    key: "loadNextSrc",
    value: function loadNextSrc() {
      var lastError = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var status = this.state.status;
      /**
       * If we know that the navigator is offline, don't try to loadLink.
       * */

      if (status === PENDING && window.navigator.onLine) this.loadLink();else if (status === LOADING_LINK) this.loadFallback();else if (status === LOADING_FALLBACK || !window.navigator.onLine) {
        lib_logger__WEBPACK_IMPORTED_MODULE_11__["default"].warn('failed loading thumbnail', lastError);
        this.setState({
          status: FAILED
        });
        this.props.onError(lastError);
      }
    }
  }, {
    key: "checkImageSource",
    value: function checkImageSource(src) {
      var _this2 = this;

      var cleanImageLoader = function cleanImageLoader() {
        clearTimeout(_this2.timeout);
        _this2.img.onload = _this2.img.onerror = null;
        _this2.img.src = '';
        _this2.img = null;
      };

      return new Promise(function (resolve, reject) {
        _this2.img = new Image();
        _this2.img.onload = resolve;
        _this2.img.onerror = reject;
        _this2.img.src = src;
        _this2.timeout = setTimeout(function () {
          return reject(new Error('Loading image took too long'));
        }, TTL);
      }).then(cleanImageLoader, cleanImageLoader);
    }
  }, {
    key: "getFileLinks",
    value: function () {
      var _getFileLinks = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(file) {
        var response;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                if (!file.links) {
                  _context2.next = 4;
                  break;
                }

                return _context2.abrupt("return", file.links);

              case 4:
                _context2.next = 6;
                return cozy.client.files.statById(this.getFileId(file), false);

              case 6:
                response = _context2.sent;

                if (response.links) {
                  _context2.next = 9;
                  break;
                }

                throw new Error('Could not fetch file links');

              case 9:
                return _context2.abrupt("return", response.links);

              case 10:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function getFileLinks(_x) {
        return _getFileLinks.apply(this, arguments);
      }

      return getFileLinks;
    }()
  }, {
    key: "loadLink",
    value: function () {
      var _loadLink = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
        var _this$props2, file, size, client, links, link, src;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                this.setState({
                  status: LOADING_LINK
                });
                _this$props2 = this.props, file = _this$props2.file, size = _this$props2.size, client = _this$props2.client;
                _context3.prev = 2;
                _context3.next = 5;
                return this.getFileLinks(file, size);

              case 5:
                links = _context3.sent;
                link = links[size];

                if (link) {
                  _context3.next = 9;
                  break;
                }

                throw new Error("".concat(size, " link is not available"));

              case 9:
                src = client.getStackClient().uri + link;
                _context3.next = 12;
                return this.checkImageSource(src);

              case 12:
                if (this._mounted) {
                  this.setState({
                    status: LOADED,
                    src: src
                  });
                }

                _context3.next = 18;
                break;

              case 15:
                _context3.prev = 15;
                _context3.t0 = _context3["catch"](2);
                this.loadNextSrc(_context3.t0);

              case 18:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[2, 15]]);
      }));

      function loadLink() {
        return _loadLink.apply(this, arguments);
      }

      return loadLink;
    }()
  }, {
    key: "loadFallback",
    value: function () {
      var _loadFallback = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4() {
        var file, src;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                this.setState({
                  status: LOADING_FALLBACK
                });
                file = this.props.file;
                _context4.prev = 2;
                _context4.next = 5;
                return this.getDownloadLink(this.getFileId(file));

              case 5:
                src = _context4.sent;
                _context4.next = 8;
                return this.checkImageSource(src);

              case 8:
                if (this._mounted) {
                  this.setState({
                    status: LOADED,
                    src: src
                  });
                }

                _context4.next = 14;
                break;

              case 11:
                _context4.prev = 11;
                _context4.t0 = _context4["catch"](2);
                this.loadNextSrc(_context4.t0);

              case 14:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[2, 11]]);
      }));

      function loadFallback() {
        return _loadFallback.apply(this, arguments);
      }

      return loadFallback;
    }()
  }, {
    key: "getDownloadLink",
    value: function getDownloadLink(fileId) {
      return this.props.client.collection('io.cozy.files').getDownloadLinkById(fileId);
    }
  }, {
    key: "render",
    value: function render() {
      var src = this.state.src;
      var _this$props3 = this.props,
          render = _this$props3.render,
          renderFallback = _this$props3.renderFallback; //If the navigator is not onLine, let's render the fallback directly

      if (src && window.navigator.onLine) return render(src);else if (renderFallback) return renderFallback();else return null;
    }
  }]);

  return ImageLoader;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);

ImageLoader.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired,
  render: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  size: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.oneOf(['small', 'medium', 'large']),
  onError: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  renderFallback: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  client: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired
};
ImageLoader.defaultProps = {
  size: 'small',
  onError: function onError() {}
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__["withClient"])(ImageLoader));

/***/ }),

/***/ "8IyR":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"u-visuallyhidden":"u-visuallyhidden--3FX6x","u-hide":"u-hide--3mtaG","u-hide--mob":"u-hide--mob--3kmpm","u-hide--tablet":"u-hide--tablet--it1ws","u-hide--desk":"u-hide--desk--3Q41O","u-dn":"u-dn--yykwu","u-di":"u-di--2TTN0","u-db":"u-db--1mdvJ","u-dib":"u-dib--8uxgX","u-dit":"u-dit--1LNm_","u-dt":"u-dt--lceRG","u-dtc":"u-dtc--Sa8U4","u-dt-row":"u-dt-row--2PRFY","u-dt-row-group":"u-dt-row-group--2NpwX","u-dt-column":"u-dt-column--1OS0a","u-dt-column-group":"u-dt-column-group--3THd0","u-dn-t":"u-dn-t--ppOHr","u-di-t":"u-di-t--De5tT","u-db-t":"u-db-t--3vcWe","u-dib-t":"u-dib-t--3Wk2I","u-dit-t":"u-dit-t--33MBp","u-dt-t":"u-dt-t--3wm8x","u-dtc-t":"u-dtc-t--2SaSj","u-dt-row-t":"u-dt-row-t--3nYHS","u-dt-row-group-t":"u-dt-row-group-t--3HF5g","u-dt-column-t":"u-dt-column-t--1yp44","u-dt-column-group-t":"u-dt-column-group-t--33wl4","u-dn-s":"u-dn-s--JKICl","u-di-s":"u-di-s--1TbVH","u-db-s":"u-db-s--3O1lF","u-dib-s":"u-dib-s--1xu5Z","u-dit-s":"u-dit-s--3XRiB","u-dt-s":"u-dt-s--8ju-3","u-dtc-s":"u-dtc-s--8LiK_","u-dt-row-s":"u-dt-row-s--399p5","u-dt-row-group-s":"u-dt-row-group-s--2CNMD","u-dt-column-s":"u-dt-column-s--3LFG6","u-dt-column-group-s":"u-dt-column-group-s--3q85y","u-dn-m":"u-dn-m--3UWJk","u-di-m":"u-di-m--22PJf","u-db-m":"u-db-m--1wi0g","u-dib-m":"u-dib-m--2yuQi","u-dit-m":"u-dit-m--3cu6X","u-dt-m":"u-dt-m--GCbde","u-dtc-m":"u-dtc-m--2QsFk","u-dt-row-m":"u-dt-row-m--3UAYx","u-dt-row-group-m":"u-dt-row-group-m--1ryRS","u-dt-column-m":"u-dt-column-m--2gVAX","u-dt-column-group-m":"u-dt-column-group-m--Jb0Zt","u-error":"u-error--2tZHf","u-valid":"u-valid--5F7BJ","u-warn":"u-warn--2-cvq","u-black":"u-black--20iIC","u-white":"u-white--2hPof","u-paleGrey":"u-paleGrey--2iADC","u-silver":"u-silver--1UhNT","u-coolGrey":"u-coolGrey--2KB2H","u-slateGrey":"u-slateGrey--36izp","u-charcoalGrey":"u-charcoalGrey--2ywEx","u-overlay":"u-overlay--2eZxG","u-zircon":"u-zircon--9tnOf","u-frenchPass":"u-frenchPass--3gAXQ","u-dodgerBlue":"u-dodgerBlue--1FdZQ","u-scienceBlue":"u-scienceBlue--fJKij","u-puertoRico":"u-puertoRico--qhyrw","u-grannyApple":"u-grannyApple--3DUPE","u-emerald":"u-emerald--tm1Kv","u-malachite":"u-malachite--2f12f","u-seafoamGreen":"u-seafoamGreen--Tj6ns","u-brightSun":"u-brightSun--2HqxD","u-texasRose":"u-texasRose--BYoUz","u-chablis":"u-chablis--nfe-h","u-yourPink":"u-yourPink--1s6Ds","u-fuchsia":"u-fuchsia--D_lao","u-pomegranate":"u-pomegranate--1PJtm","u-monza":"u-monza--2xQ__","u-portage":"u-portage--1K5ft","u-azure":"u-azure--2wLms","u-melon":"u-melon--TplSx","u-blazeOrange":"u-blazeOrange--1eBrf","u-mango":"u-mango--3jGwL","u-pumpkinOrange":"u-pumpkinOrange--3e8ln","u-lavender":"u-lavender--3MlWO","u-darkPeriwinkle":"u-darkPeriwinkle--3OLIz","u-purpley":"u-purpley--2lH-B","u-lightishPurple":"u-lightishPurple--16y_F","u-barney":"u-barney--2F4aC","u-weirdGreen":"u-weirdGreen--3wj6h","u-primaryColor":"u-primaryColor--35V12","u-primaryColorLight":"u-primaryColorLight--1PJZn","u-primaryContrastTextColor":"u-primaryContrastTextColor--_cBQI","u-breakword":"u-breakword--1dSPn","u-ellipsis":"u-ellipsis--3K9KZ","u-midellipsis":"u-midellipsis--nnaGL","u-link":"u-link--1exGi","u-lh-tiny":"u-lh-tiny--2W_JG","u-lh-xsmall":"u-lh-xsmall--25ICU","u-lh-small":"u-lh-small--2XodP","u-lh-medium":"u-lh-medium--i338e","u-lh-large":"u-lh-large--iVt9k","u-lh-xlarge":"u-lh-xlarge--34JQd","u-fz-tiny":"u-fz-tiny--1OB-f","u-fz-xsmall":"u-fz-xsmall--1nB_w","u-fz-small":"u-fz-small--15YLO","u-fz-medium":"u-fz-medium--1yhWq","u-fz-large":"u-fz-large--33rAQ","u-fz-tiny-t":"u-fz-tiny-t--23UrO","u-fz-xsmall-t":"u-fz-xsmall-t--3ztHy","u-fz-small-t":"u-fz-small-t--Ued-S","u-fz-medium-t":"u-fz-medium-t--2f1aG","u-fz-large-t":"u-fz-large-t--NUIyb","u-fz-tiny-s":"u-fz-tiny-s--3j4yv","u-fz-xsmall-s":"u-fz-xsmall-s--2Sx3Y","u-fz-small-s":"u-fz-small-s--1LSIx","u-fz-medium-s":"u-fz-medium-s--2SxEA","u-fz-large-s":"u-fz-large-s--2YJ_G","u-fz-tiny-m":"u-fz-tiny-m--ewjQv","u-fz-xsmall-m":"u-fz-xsmall-m--xU7Y9","u-fz-small-m":"u-fz-small-m--1MrLy","u-fz-medium-m":"u-fz-medium-m--2uQX-","u-fz-large-m":"u-fz-large-m--ORypW","u-ta-left":"u-ta-left--1bUaA","u-ta-right":"u-ta-right--3D_QU","u-ta-center":"u-ta-center--34Tyd","u-ta-justify":"u-ta-justify--3iXNK","u-ta-left-t":"u-ta-left-t--pyg5a","u-ta-right-t":"u-ta-right-t--fejRN","u-ta-center-t":"u-ta-center-t--f8vf3","u-ta-justify-t":"u-ta-justify-t--2Znj-","u-ta-left-s":"u-ta-left-s--1Rk0h","u-ta-right-s":"u-ta-right-s--2H6yP","u-ta-center-s":"u-ta-center-s--2eLks","u-ta-justify-s":"u-ta-justify-s--2dbmf","u-ta-left-m":"u-ta-left-m--2xAxr","u-ta-right-m":"u-ta-right-m--MMP4S","u-ta-center-m":"u-ta-center-m--2pb6b","u-ta-justify-m":"u-ta-justify-m--1Gf3S","u-fs-normal":"u-fs-normal--2lCRF","u-fs-italic":"u-fs-italic--rEFJk","u-fs-normal-t":"u-fs-normal-t--MRfLT","u-fs-italic-t":"u-fs-italic-t--2iV9b","u-fs-normal-s":"u-fs-normal-s--159Lr","u-fs-italic-s":"u-fs-italic-s--23qYl","u-fs-normal-m":"u-fs-normal-m--Urjhm","u-fs-italic-m":"u-fs-italic-m--2gzsV","c-btn":"c-btn--3UA-V","c-btn--regular":"c-btn--regular--PwZpe","c-btn-client":"c-btn-client--2tQwf","c-btn-client-mobile":"c-btn-client-mobile--qCtpH","c-btn--ghost":"c-btn--ghost--2_lgT","c-btn--highlight":"c-btn--highlight--3vafy","c-btn--alpha":"c-btn--alpha--2q43H","c-btn--action":"c-btn--action--kLpJs","c-btn--close":"c-btn--close--3kuo8","c-btn--danger":"c-btn--danger--2XQh4","c-btn--secondary":"c-btn--secondary--urTR1","c-btn--danger-outline":"c-btn--danger-outline--ELeOr","c-btn--text":"c-btn--text--mmLkW","c-btn-alert":"c-btn-alert--22GlB","c-btn-alert--error":"c-btn-alert--error--1BaFH","c-btn-alert--info":"c-btn-alert--info--3X_r7","c-btn-alert--success":"c-btn-alert--success--2VaBQ","c-btn--left":"c-btn--left--3OD3h","c-btn--center":"c-btn--center--2of3J","c-btn--right":"c-btn--right--2l-9g","c-btn--tiny":"c-btn--tiny--2rzhV","c-btn--small":"c-btn--small--3zq7D","c-btn--large":"c-btn--large--2gEik","c-btn--full":"c-btn--full--GBaOx","c-btn--narrow":"c-btn--narrow--30Rqf","c-btn--round":"c-btn--round--_aX03","c-btn--subtle":"c-btn--subtle--3D_uR","c-label":"c-label--2qBFO","is-error":"is-error--1sgd0","c-label--block":"c-label--block--4NI1H","c-input-text":"c-input-text--1a2pY","c-textarea":"c-textarea--1tr4M","c-select":"c-select--3Umuy","wizard-select":"wizard-select--1SIu0","c-input-text--tiny":"c-input-text--tiny--1H28g","c-textarea--tiny":"c-textarea--tiny--GgwpO","c-select--tiny":"c-select--tiny--2jx9I","c-input-text--medium":"c-input-text--medium--1D6tS","c-textarea--medium":"c-textarea--medium--2K6B5","c-select--medium":"c-select--medium--3MGmK","wizard-select--medium":"wizard-select--medium--oQoal","c-input-text--large":"c-input-text--large--3xPjf","c-input-text--fullwidth":"c-input-text--fullwidth--MMc36","c-textarea--fullwidth":"c-textarea--fullwidth--2CxEM","c-select--fullwidth":"c-select--fullwidth--5j0Zo","c-input-checkbox":"c-input-checkbox--rpPFH","c-input-radio":"c-input-radio--2-8ai","o-field":"o-field--2OEF5","o-field-inline":"o-field-inline--2saLK","c-double-field":"c-double-field--3q70t","c-double-field--with-button":"c-double-field--with-button--3tMaK","c-double-field-label":"c-double-field-label--z4waM","c-double-field-button":"c-double-field-button--25ta4","c-double-field-wrapper":"c-double-field-wrapper--30B0F","c-double-field-input":"c-double-field-input--adEwN","wizard-wrapper":"wizard-wrapper--2nycg","wizard-main":"wizard-main--wXCWj","wizard-header":"wizard-header--1SbfB","wizard-footer":"wizard-footer--3nLGi","o-layout":"o-layout--b6QtC","o-layout-2panes":"o-layout-2panes--3JD2K","u-media":"u-media--3Djvn","u-media-top":"u-media-top--3V4Ea","u-media-bottom":"u-media-bottom--3l3_d","u-media-grow":"u-media-grow--Upl9-","u-media-fixed":"u-media-fixed--35gfP","o-sidebar":"o-sidebar--3pkob","c-accordion":"c-accordion--2MN5i","c-accordion-item":"c-accordion-item--1UqQz","c-accordion-title":"c-accordion-title--vUajL","is-active":"is-active--3_GzD","c-accordion-body":"c-accordion-body--2iR7R","c-avatar":"c-avatar--2i9nQ","c-avatar-image":"c-avatar-image--1BnKZ","c-chip":"c-chip--3cHDn","c-chip--round":"c-chip--round--1RN3N","c-chip--tinySize":"c-chip--tinySize--1PPjs","c-chip--smallSize":"c-chip--smallSize--1Ch-7","c-chip--normalSize":"c-chip--normalSize--4X-LH","c-chip--outlinedVariant":"c-chip--outlinedVariant--3kHV8","c-chip--dashedVariant":"c-chip--dashedVariant--1m7j7","c-chip--normalTheme":"c-chip--normalTheme--3N2fw","c-chip--primaryTheme":"c-chip--primaryTheme--jjGlD","c-chip--errorTheme":"c-chip--errorTheme--2xix4","c-chip--hoverableNormalTheme":"c-chip--hoverableNormalTheme--3-Awt","c-chip--hoverablePrimaryTheme":"c-chip--hoverablePrimaryTheme--ozFPG","c-chip--normalPrimaryTheme":"c-chip--normalPrimaryTheme--2lzBw","c-chip--hoverableErrorTheme":"c-chip--hoverableErrorTheme--2hU7F","c-chip--outlinedNormalTheme":"c-chip--outlinedNormalTheme--pqiX7","c-chip--clickable":"c-chip--clickable--J0A_M","c-chip-separator":"c-chip-separator--2DLA2","c-chip-button":"c-chip-button--34nIU","c-chip-button--disabled":"c-chip-button--disabled--3_aON","c-avatar--xsmall":"c-avatar--xsmall--9VmMk","c-avatar--small":"c-avatar--small--31FDG","c-avatar--large":"c-avatar--large--1aC96","c-avatar--xlarge":"c-avatar--xlarge--ILibE","c-avatar-initials":"c-avatar-initials--3iExZ","c-nav":"c-nav--MAJhZ","c-nav-item":"c-nav-item--18dm5","c-nav-icon":"c-nav-icon--1eL3E","c-nav-text":"c-nav-text--MK8-L","c-nav-link":"c-nav-link--1VBtf","active":"active--zuJra","u-p-0":"u-p-0--y8Xrr","u-pt-0":"u-pt-0--b3ok9","u-pb-0":"u-pb-0--3joTR","u-pl-0":"u-pl-0--_7viJ","u-pr-0":"u-pr-0--2y4IV","u-pv-0":"u-pv-0--XTdBE","u-ph-0":"u-ph-0--AHFmn","u-p-1":"u-p-1--hpKTc","u-pt-1":"u-pt-1--3FKBS","u-pb-1":"u-pb-1--2quYJ","u-pl-1":"u-pl-1--10D92","u-pr-1":"u-pr-1--2DDXw","u-pv-1":"u-pv-1--idfta","u-ph-1":"u-ph-1--1PTVh","u-p-2":"u-p-2--NlLU8","u-pt-2":"u-pt-2--MWHfO","u-pb-2":"u-pb-2--iUhsi","u-pl-2":"u-pl-2--UNmzz","u-pr-2":"u-pr-2--3shOe","u-pv-2":"u-pv-2--2Zj4A","u-ph-2":"u-ph-2--3cDpk","u-p-3":"u-p-3--2L9z6","u-pt-3":"u-pt-3--zx4zU","u-pb-3":"u-pb-3--1zUAl","u-pl-3":"u-pl-3--1YOvL","u-pr-3":"u-pr-3--3WdTS","u-pv-3":"u-pv-3--CHw8y","u-ph-3":"u-ph-3--3ZyVQ","u-p-auto":"u-p-auto--2yYME","u-pt-auto":"u-pt-auto--2mMOx","u-pb-auto":"u-pb-auto--1dxzL","u-pl-auto":"u-pl-auto--2wEQU","u-pr-auto":"u-pr-auto--31ggn","u-pv-auto":"u-pv-auto--11hBU","u-ph-auto":"u-ph-auto--2fP8f","u-p-half":"u-p-half--2J7M_","u-pt-half":"u-pt-half--3kpiC","u-pb-half":"u-pb-half--38LQ9","u-pl-half":"u-pl-half--fGFSm","u-pr-half":"u-pr-half--64oQe","u-pv-half":"u-pv-half--1mqRV","u-ph-half":"u-ph-half--PgHST","u-p-1-half":"u-p-1-half--28RpX","u-pt-1-half":"u-pt-1-half--2mf_v","u-pb-1-half":"u-pb-1-half--2n8_e","u-pl-1-half":"u-pl-1-half--3EhRb","u-pr-1-half":"u-pr-1-half--1J-5k","u-pv-1-half":"u-pv-1-half--uWGwH","u-ph-1-half":"u-ph-1-half--3E4Nt","u-p-2-half":"u-p-2-half--2NuXX","u-pt-2-half":"u-pt-2-half--3XZoy","u-pb-2-half":"u-pb-2-half--1NM3c","u-pl-2-half":"u-pl-2-half--141Zm","u-pr-2-half":"u-pr-2-half--1RXqW","u-pv-2-half":"u-pv-2-half--1r9QA","u-ph-2-half":"u-ph-2-half--2WlBv","u-m-0":"u-m-0--nxwkH","u-mt-0":"u-mt-0--3WEQ6","u-mb-0":"u-mb-0--1uCnW","u-ml-0":"u-ml-0--1NrZO","u-mr-0":"u-mr-0--21TvT","u-mv-0":"u-mv-0--xDRm6","u-mh-0":"u-mh-0--1HCFo","u-m-1":"u-m-1--14N2c","u-mt-1":"u-mt-1--1PAGV","u-mb-1":"u-mb-1--3QUNm","u-ml-1":"u-ml-1--5w57C","u-mr-1":"u-mr-1--1iET2","u-mv-1":"u-mv-1--1dYuF","u-mh-1":"u-mh-1--2QaJJ","u-m-2":"u-m-2--3ghrR","u-mt-2":"u-mt-2--3z6rm","u-mb-2":"u-mb-2--3FMsz","u-ml-2":"u-ml-2--1QFyq","u-mr-2":"u-mr-2--1hDmH","u-mv-2":"u-mv-2--8_vXa","u-mh-2":"u-mh-2--1WTwI","u-m-3":"u-m-3--3kDfD","u-mt-3":"u-mt-3--1L_AE","u-mb-3":"u-mb-3--QFxTQ","u-ml-3":"u-ml-3--2iMXf","u-mr-3":"u-mr-3--TFRUN","u-mv-3":"u-mv-3--3_YTm","u-mh-3":"u-mh-3--3txta","u-m-auto":"u-m-auto--1W2QC","u-mt-auto":"u-mt-auto--3tir0","u-mb-auto":"u-mb-auto--2xLQw","u-ml-auto":"u-ml-auto--2R7Ia","u-mr-auto":"u-mr-auto--T8VYp","u-mv-auto":"u-mv-auto--1fqvt","u-mh-auto":"u-mh-auto--1hVPT","u-m-half":"u-m-half--3KCqa","u-mt-half":"u-mt-half--1GT2C","u-mb-half":"u-mb-half--3mvG9","u-ml-half":"u-ml-half--bWq9v","u-mr-half":"u-mr-half--1-rBC","u-mv-half":"u-mv-half--24ac8","u-mh-half":"u-mh-half--2fKJD","u-m-1-half":"u-m-1-half--2Hdxz","u-mt-1-half":"u-mt-1-half--3LMGU","u-mb-1-half":"u-mb-1-half--3kWkf","u-ml-1-half":"u-ml-1-half--u_QKP","u-mr-1-half":"u-mr-1-half--3YtZU","u-mv-1-half":"u-mv-1-half--1sbtC","u-mh-1-half":"u-mh-1-half--35_aD","u-m-2-half":"u-m-2-half--3VY8-","u-mt-2-half":"u-mt-2-half--3l47x","u-mb-2-half":"u-mb-2-half--3hXpG","u-ml-2-half":"u-ml-2-half--3K2Ir","u-mr-2-half":"u-mr-2-half--1LyDZ","u-mv-2-half":"u-mv-2-half--ZGTUL","u-mh-2-half":"u-mh-2-half--1RFpa","u-p-0-t":"u-p-0-t--2QvQm","u-pt-0-t":"u-pt-0-t--3wAjV","u-pb-0-t":"u-pb-0-t--3ULGs","u-pl-0-t":"u-pl-0-t--bu3GD","u-pr-0-t":"u-pr-0-t--22Xba","u-pv-0-t":"u-pv-0-t--2lkmW","u-ph-0-t":"u-ph-0-t--2MrDj","u-p-1-t":"u-p-1-t--1pNOa","u-pt-1-t":"u-pt-1-t--2csHL","u-pb-1-t":"u-pb-1-t--1gadZ","u-pl-1-t":"u-pl-1-t--1hZ5g","u-pr-1-t":"u-pr-1-t--Ib5v4","u-pv-1-t":"u-pv-1-t--UObIs","u-ph-1-t":"u-ph-1-t--D21wD","u-p-2-t":"u-p-2-t--3touZ","u-pt-2-t":"u-pt-2-t--2iNHv","u-pb-2-t":"u-pb-2-t--3olEr","u-pl-2-t":"u-pl-2-t--1bLCM","u-pr-2-t":"u-pr-2-t--16lTE","u-pv-2-t":"u-pv-2-t--1ujed","u-ph-2-t":"u-ph-2-t--TQEPS","u-p-3-t":"u-p-3-t--3fTr4","u-pt-3-t":"u-pt-3-t--1RHBV","u-pb-3-t":"u-pb-3-t--3t8Yy","u-pl-3-t":"u-pl-3-t--IiPy7","u-pr-3-t":"u-pr-3-t--2YNxB","u-pv-3-t":"u-pv-3-t--1hhbs","u-ph-3-t":"u-ph-3-t--3DB2q","u-p-auto-t":"u-p-auto-t--2mEtM","u-pt-auto-t":"u-pt-auto-t--3j9P3","u-pb-auto-t":"u-pb-auto-t--3QDHL","u-pl-auto-t":"u-pl-auto-t--2qm17","u-pr-auto-t":"u-pr-auto-t--2n4xI","u-pv-auto-t":"u-pv-auto-t--3FNQ-","u-ph-auto-t":"u-ph-auto-t--26EGK","u-p-half-t":"u-p-half-t--3A2po","u-pt-half-t":"u-pt-half-t--DuGPy","u-pb-half-t":"u-pb-half-t--2LOfK","u-pl-half-t":"u-pl-half-t--33tnU","u-pr-half-t":"u-pr-half-t--2L8e4","u-pv-half-t":"u-pv-half-t--efcaW","u-ph-half-t":"u-ph-half-t--1Ve9R","u-p-1-half-t":"u-p-1-half-t--Do2ub","u-pt-1-half-t":"u-pt-1-half-t--1UTKD","u-pb-1-half-t":"u-pb-1-half-t--21qzv","u-pl-1-half-t":"u-pl-1-half-t--3HLDe","u-pr-1-half-t":"u-pr-1-half-t--1tGOg","u-pv-1-half-t":"u-pv-1-half-t--3pkNB","u-ph-1-half-t":"u-ph-1-half-t--1nFkO","u-p-2-half-t":"u-p-2-half-t--2ISfu","u-pt-2-half-t":"u-pt-2-half-t--SbBZG","u-pb-2-half-t":"u-pb-2-half-t--1q6in","u-pl-2-half-t":"u-pl-2-half-t--LZP3T","u-pr-2-half-t":"u-pr-2-half-t--3C5vd","u-pv-2-half-t":"u-pv-2-half-t--9QZ6i","u-ph-2-half-t":"u-ph-2-half-t--1LiYX","u-m-0-t":"u-m-0-t--3QA3z","u-mt-0-t":"u-mt-0-t--3YoXS","u-mb-0-t":"u-mb-0-t--2-e9t","u-ml-0-t":"u-ml-0-t--zDvCi","u-mr-0-t":"u-mr-0-t--w7o6v","u-mv-0-t":"u-mv-0-t--3hLKW","u-mh-0-t":"u-mh-0-t--2JKES","u-m-1-t":"u-m-1-t--1AHzF","u-mt-1-t":"u-mt-1-t--jm_tC","u-mb-1-t":"u-mb-1-t--1IpQZ","u-ml-1-t":"u-ml-1-t--3OWq6","u-mr-1-t":"u-mr-1-t--3AGBB","u-mv-1-t":"u-mv-1-t--1TK_C","u-mh-1-t":"u-mh-1-t--15nBw","u-m-2-t":"u-m-2-t--3-xx9","u-mt-2-t":"u-mt-2-t--1jtnZ","u-mb-2-t":"u-mb-2-t--1VouU","u-ml-2-t":"u-ml-2-t--3SgvZ","u-mr-2-t":"u-mr-2-t--2uVnw","u-mv-2-t":"u-mv-2-t--LD1VD","u-mh-2-t":"u-mh-2-t--DIKso","u-m-3-t":"u-m-3-t--3rxLu","u-mt-3-t":"u-mt-3-t--3Y5oD","u-mb-3-t":"u-mb-3-t--1z1MA","u-ml-3-t":"u-ml-3-t--26LDt","u-mr-3-t":"u-mr-3-t--zCI_b","u-mv-3-t":"u-mv-3-t--qD6jm","u-mh-3-t":"u-mh-3-t--2V_Cy","u-m-auto-t":"u-m-auto-t--3O13t","u-mt-auto-t":"u-mt-auto-t--HQdIe","u-mb-auto-t":"u-mb-auto-t--3Q7y6","u-ml-auto-t":"u-ml-auto-t--18Mob","u-mr-auto-t":"u-mr-auto-t--3x5Qy","u-mv-auto-t":"u-mv-auto-t--261wG","u-mh-auto-t":"u-mh-auto-t--2xHVA","u-m-half-t":"u-m-half-t--3BBEX","u-mt-half-t":"u-mt-half-t--1684f","u-mb-half-t":"u-mb-half-t--3omhK","u-ml-half-t":"u-ml-half-t--2sdGI","u-mr-half-t":"u-mr-half-t--3HkTd","u-mv-half-t":"u-mv-half-t--2SN5V","u-mh-half-t":"u-mh-half-t--263h5","u-m-1-half-t":"u-m-1-half-t--9r0RJ","u-mt-1-half-t":"u-mt-1-half-t--jOR6l","u-mb-1-half-t":"u-mb-1-half-t--4uDMs","u-ml-1-half-t":"u-ml-1-half-t--1ngj6","u-mr-1-half-t":"u-mr-1-half-t--3VL_h","u-mv-1-half-t":"u-mv-1-half-t--2RlZy","u-mh-1-half-t":"u-mh-1-half-t--C1wpt","u-m-2-half-t":"u-m-2-half-t--2P3Oz","u-mt-2-half-t":"u-mt-2-half-t--PfsuH","u-mb-2-half-t":"u-mb-2-half-t--1rFT1","u-ml-2-half-t":"u-ml-2-half-t--1O81G","u-mr-2-half-t":"u-mr-2-half-t--qn3JM","u-mv-2-half-t":"u-mv-2-half-t--299qN","u-mh-2-half-t":"u-mh-2-half-t--1rwCl","u-p-0-s":"u-p-0-s--1MSe5","u-pt-0-s":"u-pt-0-s--1WoRg","u-pb-0-s":"u-pb-0-s--2OtJJ","u-pl-0-s":"u-pl-0-s--3YYXR","u-pr-0-s":"u-pr-0-s--3rplb","u-pv-0-s":"u-pv-0-s--2jfRk","u-ph-0-s":"u-ph-0-s--xxUY8","u-p-1-s":"u-p-1-s--39988","u-pt-1-s":"u-pt-1-s--2FQZ8","u-pb-1-s":"u-pb-1-s--3oluM","u-pl-1-s":"u-pl-1-s--1DTew","u-pr-1-s":"u-pr-1-s--3Imwo","u-pv-1-s":"u-pv-1-s--3JlIO","u-ph-1-s":"u-ph-1-s--WphZd","u-p-2-s":"u-p-2-s--2aJ6L","u-pt-2-s":"u-pt-2-s--2RjCz","u-pb-2-s":"u-pb-2-s--TXwMq","u-pl-2-s":"u-pl-2-s--1joNm","u-pr-2-s":"u-pr-2-s--LaO4X","u-pv-2-s":"u-pv-2-s--1OBPg","u-ph-2-s":"u-ph-2-s--1oEfr","u-p-3-s":"u-p-3-s--2b-aZ","u-pt-3-s":"u-pt-3-s--3Mb8s","u-pb-3-s":"u-pb-3-s--LRlYx","u-pl-3-s":"u-pl-3-s--3fhIN","u-pr-3-s":"u-pr-3-s--1V7_j","u-pv-3-s":"u-pv-3-s--QqLeV","u-ph-3-s":"u-ph-3-s--1A2sL","u-p-auto-s":"u-p-auto-s--1qQQ4","u-pt-auto-s":"u-pt-auto-s--38U0g","u-pb-auto-s":"u-pb-auto-s--12692","u-pl-auto-s":"u-pl-auto-s--3mGCK","u-pr-auto-s":"u-pr-auto-s--2wgwJ","u-pv-auto-s":"u-pv-auto-s--2nOsL","u-ph-auto-s":"u-ph-auto-s--1U-PH","u-p-half-s":"u-p-half-s--FJ3kC","u-pt-half-s":"u-pt-half-s--7uxyd","u-pb-half-s":"u-pb-half-s--24NkQ","u-pl-half-s":"u-pl-half-s--D8iRP","u-pr-half-s":"u-pr-half-s--2boI3","u-pv-half-s":"u-pv-half-s--S1xZC","u-ph-half-s":"u-ph-half-s--2KVF1","u-p-1-half-s":"u-p-1-half-s--3ystf","u-pt-1-half-s":"u-pt-1-half-s--2VXv-","u-pb-1-half-s":"u-pb-1-half-s--ekRma","u-pl-1-half-s":"u-pl-1-half-s--32N21","u-pr-1-half-s":"u-pr-1-half-s--2M-9d","u-pv-1-half-s":"u-pv-1-half-s--1enXo","u-ph-1-half-s":"u-ph-1-half-s--1qaze","u-p-2-half-s":"u-p-2-half-s--2sFyi","u-pt-2-half-s":"u-pt-2-half-s--3i5rV","u-pb-2-half-s":"u-pb-2-half-s--XDUga","u-pl-2-half-s":"u-pl-2-half-s--3J-rK","u-pr-2-half-s":"u-pr-2-half-s--XoTtz","u-pv-2-half-s":"u-pv-2-half-s--3GoC7","u-ph-2-half-s":"u-ph-2-half-s--2aaKX","u-m-0-s":"u-m-0-s--1SpyQ","u-mt-0-s":"u-mt-0-s--1jF8_","u-mb-0-s":"u-mb-0-s--3XKF3","u-ml-0-s":"u-ml-0-s--y9g4h","u-mr-0-s":"u-mr-0-s--3SzNU","u-mv-0-s":"u-mv-0-s--1wpIB","u-mh-0-s":"u-mh-0-s--364eB","u-m-1-s":"u-m-1-s--cSJEs","u-mt-1-s":"u-mt-1-s--2fP-b","u-mb-1-s":"u-mb-1-s--2qEkz","u-ml-1-s":"u-ml-1-s--3W7c2","u-mr-1-s":"u-mr-1-s--GBr0i","u-mv-1-s":"u-mv-1-s--3Fc_m","u-mh-1-s":"u-mh-1-s--1f4QQ","u-m-2-s":"u-m-2-s--1e4k7","u-mt-2-s":"u-mt-2-s--2J2VI","u-mb-2-s":"u-mb-2-s--2LiRf","u-ml-2-s":"u-ml-2-s--1gL2R","u-mr-2-s":"u-mr-2-s--2-DUg","u-mv-2-s":"u-mv-2-s--Z8REp","u-mh-2-s":"u-mh-2-s--2Q8gT","u-m-3-s":"u-m-3-s--1GQRB","u-mt-3-s":"u-mt-3-s--3_Pgs","u-mb-3-s":"u-mb-3-s--1GZAN","u-ml-3-s":"u-ml-3-s--WyyjT","u-mr-3-s":"u-mr-3-s--2WVTU","u-mv-3-s":"u-mv-3-s--3JCA0","u-mh-3-s":"u-mh-3-s--1F1FW","u-m-auto-s":"u-m-auto-s--3Ok4o","u-mt-auto-s":"u-mt-auto-s--VOH6X","u-mb-auto-s":"u-mb-auto-s--rsaq1","u-ml-auto-s":"u-ml-auto-s--1wkpx","u-mr-auto-s":"u-mr-auto-s--vL9Ea","u-mv-auto-s":"u-mv-auto-s--3DbDS","u-mh-auto-s":"u-mh-auto-s--3FbF1","u-m-half-s":"u-m-half-s--2tUoH","u-mt-half-s":"u-mt-half-s--jA_pB","u-mb-half-s":"u-mb-half-s--14tWO","u-ml-half-s":"u-ml-half-s--7ENf9","u-mr-half-s":"u-mr-half-s--2Jp6R","u-mv-half-s":"u-mv-half-s--2uOKM","u-mh-half-s":"u-mh-half-s--1VIXW","u-m-1-half-s":"u-m-1-half-s--2nzte","u-mt-1-half-s":"u-mt-1-half-s--3HPhw","u-mb-1-half-s":"u-mb-1-half-s--3dIp8","u-ml-1-half-s":"u-ml-1-half-s--3xGIv","u-mr-1-half-s":"u-mr-1-half-s--3lcMx","u-mv-1-half-s":"u-mv-1-half-s--WmVLs","u-mh-1-half-s":"u-mh-1-half-s--2V0qx","u-m-2-half-s":"u-m-2-half-s--Oemtk","u-mt-2-half-s":"u-mt-2-half-s--15vM2","u-mb-2-half-s":"u-mb-2-half-s--sqESr","u-ml-2-half-s":"u-ml-2-half-s--nLmJf","u-mr-2-half-s":"u-mr-2-half-s--3tYQl","u-mv-2-half-s":"u-mv-2-half-s--3VTR0","u-mh-2-half-s":"u-mh-2-half-s--1c_UP","u-p-0-m":"u-p-0-m--dAQKV","u-pt-0-m":"u-pt-0-m--D38Sx","u-pb-0-m":"u-pb-0-m--35g3C","u-pl-0-m":"u-pl-0-m--3iTGR","u-pr-0-m":"u-pr-0-m--j2hP4","u-pv-0-m":"u-pv-0-m--3BB4R","u-ph-0-m":"u-ph-0-m--3ZG_b","u-p-1-m":"u-p-1-m--221Fn","u-pt-1-m":"u-pt-1-m--2ytb0","u-pb-1-m":"u-pb-1-m--31K8o","u-pl-1-m":"u-pl-1-m--AWGeh","u-pr-1-m":"u-pr-1-m--2w1Yf","u-pv-1-m":"u-pv-1-m--2C4Os","u-ph-1-m":"u-ph-1-m--1IJ92","u-p-2-m":"u-p-2-m--1vG0b","u-pt-2-m":"u-pt-2-m--3DUrj","u-pb-2-m":"u-pb-2-m--1sTF_","u-pl-2-m":"u-pl-2-m--3pKjH","u-pr-2-m":"u-pr-2-m--27mu1","u-pv-2-m":"u-pv-2-m--o2buk","u-ph-2-m":"u-ph-2-m--doo63","u-p-3-m":"u-p-3-m--2pP3t","u-pt-3-m":"u-pt-3-m--2gZWa","u-pb-3-m":"u-pb-3-m--1HElb","u-pl-3-m":"u-pl-3-m--2P5i2","u-pr-3-m":"u-pr-3-m--26KCi","u-pv-3-m":"u-pv-3-m--nHM6K","u-ph-3-m":"u-ph-3-m--24Izv","u-p-auto-m":"u-p-auto-m--9dnBJ","u-pt-auto-m":"u-pt-auto-m--3XnS6","u-pb-auto-m":"u-pb-auto-m--3l1eN","u-pl-auto-m":"u-pl-auto-m--2v9ru","u-pr-auto-m":"u-pr-auto-m--185m_","u-pv-auto-m":"u-pv-auto-m--2TN8e","u-ph-auto-m":"u-ph-auto-m--zokL4","u-p-half-m":"u-p-half-m--lv8Ph","u-pt-half-m":"u-pt-half-m--3fcJI","u-pb-half-m":"u-pb-half-m--3_uz_","u-pl-half-m":"u-pl-half-m--15BRi","u-pr-half-m":"u-pr-half-m--27L1r","u-pv-half-m":"u-pv-half-m--7n07P","u-ph-half-m":"u-ph-half-m--kOrxo","u-p-1-half-m":"u-p-1-half-m--ntym-","u-pt-1-half-m":"u-pt-1-half-m--3_7pE","u-pb-1-half-m":"u-pb-1-half-m--135Lv","u-pl-1-half-m":"u-pl-1-half-m--2QOYo","u-pr-1-half-m":"u-pr-1-half-m--iuR1o","u-pv-1-half-m":"u-pv-1-half-m--2BOOJ","u-ph-1-half-m":"u-ph-1-half-m--Fzqqk","u-p-2-half-m":"u-p-2-half-m--3Q4S1","u-pt-2-half-m":"u-pt-2-half-m--37FuK","u-pb-2-half-m":"u-pb-2-half-m--3VgUF","u-pl-2-half-m":"u-pl-2-half-m--1SMDl","u-pr-2-half-m":"u-pr-2-half-m--2yQCL","u-pv-2-half-m":"u-pv-2-half-m--2j0KP","u-ph-2-half-m":"u-ph-2-half-m--3xqBu","u-m-0-m":"u-m-0-m--1Wvne","u-mt-0-m":"u-mt-0-m--16sTY","u-mb-0-m":"u-mb-0-m--2D-l-","u-ml-0-m":"u-ml-0-m--5MhDz","u-mr-0-m":"u-mr-0-m--3q64u","u-mv-0-m":"u-mv-0-m--2iAt_","u-mh-0-m":"u-mh-0-m--3dO8A","u-m-1-m":"u-m-1-m--37X8G","u-mt-1-m":"u-mt-1-m--5IiFO","u-mb-1-m":"u-mb-1-m--17-rf","u-ml-1-m":"u-ml-1-m--12WO2","u-mr-1-m":"u-mr-1-m--2l5Hs","u-mv-1-m":"u-mv-1-m--1fVsj","u-mh-1-m":"u-mh-1-m--1x3nT","u-m-2-m":"u-m-2-m--2pWTK","u-mt-2-m":"u-mt-2-m--1vpEs","u-mb-2-m":"u-mb-2-m--3dBW1","u-ml-2-m":"u-ml-2-m--22Xg5","u-mr-2-m":"u-mr-2-m--2JMMm","u-mv-2-m":"u-mv-2-m--3cqFT","u-mh-2-m":"u-mh-2-m--lCJa8","u-m-3-m":"u-m-3-m--2khpK","u-mt-3-m":"u-mt-3-m--3SQCl","u-mb-3-m":"u-mb-3-m--ISeE0","u-ml-3-m":"u-ml-3-m--3VpFr","u-mr-3-m":"u-mr-3-m--39RHD","u-mv-3-m":"u-mv-3-m--3Iohe","u-mh-3-m":"u-mh-3-m--2fQ9W","u-m-auto-m":"u-m-auto-m--78amG","u-mt-auto-m":"u-mt-auto-m--12Gk7","u-mb-auto-m":"u-mb-auto-m--3M7bR","u-ml-auto-m":"u-ml-auto-m--37-5v","u-mr-auto-m":"u-mr-auto-m--1aZX2","u-mv-auto-m":"u-mv-auto-m--3bIsu","u-mh-auto-m":"u-mh-auto-m--1DLUS","u-m-half-m":"u-m-half-m--3OQBA","u-mt-half-m":"u-mt-half-m--c5HzS","u-mb-half-m":"u-mb-half-m--2dT1f","u-ml-half-m":"u-ml-half-m--36adF","u-mr-half-m":"u-mr-half-m--3_rMb","u-mv-half-m":"u-mv-half-m--2Muh9","u-mh-half-m":"u-mh-half-m--1xfqd","u-m-1-half-m":"u-m-1-half-m--2nZvc","u-mt-1-half-m":"u-mt-1-half-m--2VXOO","u-mb-1-half-m":"u-mb-1-half-m--2pOVs","u-ml-1-half-m":"u-ml-1-half-m--3o1va","u-mr-1-half-m":"u-mr-1-half-m--3TW7w","u-mv-1-half-m":"u-mv-1-half-m--2TFt9","u-mh-1-half-m":"u-mh-1-half-m--20v92","u-m-2-half-m":"u-m-2-half-m--1T6Zi","u-mt-2-half-m":"u-mt-2-half-m--pAI5a","u-mb-2-half-m":"u-mb-2-half-m--2DfwS","u-ml-2-half-m":"u-ml-2-half-m--1rmzt","u-mr-2-half-m":"u-mr-2-half-m--1DqqY","u-mv-2-half-m":"u-mv-2-half-m--2uiaw","u-mh-2-half-m":"u-mh-2-half-m--Ln-2e","c-table":"c-table--2Eigo","c-table-head":"c-table-head--2VeAw","c-table-body":"c-table-body--3nvCe","c-table-row":"c-table-row--311a2","c-table-row-head":"c-table-row-head--2GHNy","is-selected":"is-selected--3F0-n","c-table-cell":"c-table-cell--11LuC","c-table-header":"c-table-header--37EzI","c-table-cell--primary":"c-table-cell--primary--1npa2","c-table-ellipsis":"c-table-ellipsis--1Htlg","c-table-divider":"c-table-divider--1-81j","wizard":"wizard--1RApT","wizard--waiting":"wizard--waiting--17YH2","wizard--scroll":"wizard--scroll--PoXiu","wizard--dual":"wizard--dual--2WWvA","wizard-wrapper--center":"wizard-wrapper--center--2EjZf","wizard-wrapper--bleed":"wizard-wrapper--bleed--ust6d","wizard-wrapper--dual":"wizard-wrapper--dual--D42F4","wizard-dual":"wizard-dual--1Ueqc","wizard-errors":"wizard-errors--1ZQw7","wizard--welcome":"wizard--welcome--1tusZ","wizard-logo":"wizard-logo--1g-b4","wizard-logo-img":"wizard-logo-img--1Y_SU","wizard-logo-badge":"wizard-logo-badge--KO9eE","wizard-header-help":"wizard-header-help--1wEAp","wizard-disclaimer":"wizard-disclaimer--3IY-e","wizard-desc":"wizard-desc--3Sshm","wizard-desc--footer":"wizard-desc--footer--2N90G","wizard-header-fixed":"wizard-header-fixed--2ArSg","wizard-previous":"wizard-previous--O0PvA","wizard-brand":"wizard-brand--1LZMr","wizard-brand--invert":"wizard-brand--invert--3R7j9","wizard-next":"wizard-next--oEVru","wizard-button":"wizard-button--HFMZ3","wizard-buttonlink":"wizard-buttonlink--2TOVt","wizard-input":"wizard-input--3J4hO","wizard-dual-btn":"wizard-dual-btn--1WFGQ","wizard-waiting-icon":"wizard-waiting-icon--21pc5","wizard-dual-icon":"wizard-dual-icon--3KuEc","wizard-title":"wizard-title--e7zpM","wizard-dual-title":"wizard-dual-title--BRshb","wizard-title-sub":"wizard-title-sub--yvHxu","wizard-subtitle":"wizard-subtitle--3A474","wizard-dual-subtitle":"wizard-dual-subtitle--2boJm","wizard-showbutton":"wizard-showbutton--1hdHS","wizard-dualfield":"wizard-dualfield--1kOSV","wizard-dualfield--focus":"wizard-dualfield--focus--1XLSK","wizard-dualfield--error":"wizard-dualfield--error--MYtFf","wizard-dualfield-wrapper":"wizard-dualfield-wrapper--3zWkB","wizard-dualfield-input":"wizard-dualfield-input--gu6Aw","wizard-protocol":"wizard-protocol--1fKHM","wizard-domain":"wizard-domain--3gcWA","wizard-requirements":"wizard-requirements--yFMf0","wizard-agreements":"wizard-agreements--3CX_2","wizard-agreements-item":"wizard-agreements-item--LJFNQ","wizard-agreements-desc":"wizard-agreements-desc--2ZuUF","wizard-agreements-icon":"wizard-agreements-icon--4JydE","wizard-updated":"wizard-updated--328d9","wizard-progress":"wizard-progress--3wxvO","wizard-progress-bar":"wizard-progress-bar--36RhA","wizard-notice":"wizard-notice--1hNNz","wizard-notice--lost":"wizard-notice--lost--32RE6","u-bg-black":"u-bg-black--26wgT","u-bg-white":"u-bg-white--1eLGZ","u-bg-paleGrey":"u-bg-paleGrey--3UNhV","u-bg-silver":"u-bg-silver--3mlXP","u-bg-coolGrey":"u-bg-coolGrey--2naDm","u-bg-slateGrey":"u-bg-slateGrey--1AA4F","u-bg-charcoalGrey":"u-bg-charcoalGrey--1TFsy","u-bg-overlay":"u-bg-overlay--CPwTV","u-bg-zircon":"u-bg-zircon--3FtcQ","u-bg-frenchPass":"u-bg-frenchPass--jbV4M","u-bg-dodgerBlue":"u-bg-dodgerBlue--3IFjS","u-bg-scienceBlue":"u-bg-scienceBlue--3nYxg","u-bg-puertoRico":"u-bg-puertoRico--1sFxJ","u-bg-grannyApple":"u-bg-grannyApple--2HmAg","u-bg-emerald":"u-bg-emerald--1avtE","u-bg-malachite":"u-bg-malachite--dXSyj","u-bg-seafoamGreen":"u-bg-seafoamGreen--1Gw4F","u-bg-brightSun":"u-bg-brightSun--5jQl6","u-bg-texasRose":"u-bg-texasRose--1g7Nf","u-bg-chablis":"u-bg-chablis--2E7Xu","u-bg-yourPink":"u-bg-yourPink--1zf_f","u-bg-fuchsia":"u-bg-fuchsia--3bJE6","u-bg-pomegranate":"u-bg-pomegranate--1JyDt","u-bg-monza":"u-bg-monza--W5jPB","u-bg-portage":"u-bg-portage--o7rHR","u-bg-azure":"u-bg-azure--2UOvY","u-bg-melon":"u-bg-melon--1_vRv","u-bg-blazeOrange":"u-bg-blazeOrange--wfbWg","u-bg-mango":"u-bg-mango--1xGbA","u-bg-pumpkinOrange":"u-bg-pumpkinOrange--3TUOl","u-bg-lavender":"u-bg-lavender--HjpR-","u-bg-darkPeriwinkle":"u-bg-darkPeriwinkle--3Ii-k","u-bg-purpley":"u-bg-purpley--1-cwy","u-bg-lightishPurple":"u-bg-lightishPurple--2z5j3","u-bg-barney":"u-bg-barney--1MHnL","u-bg-weirdGreen":"u-bg-weirdGreen--2iT3M","u-bg-primaryColor":"u-bg-primaryColor--9ZCba","u-bg-primaryColorLight":"u-bg-primaryColorLight--1tVp2","u-bg-primaryContrastTextColor":"u-bg-primaryContrastTextColor--2lvm-","u-bdrs-0":"u-bdrs-0--3AzKd","u-bdrs-1":"u-bdrs-1--23qwH","u-bdrs-2":"u-bdrs-2--28Fa3","u-bdrs-3":"u-bdrs-3--3sAI5","u-bdrs-4":"u-bdrs-4--MrM_B","u-bdrs-circle":"u-bdrs-circle--2D8l-","u-bdw-0":"u-bdw-0--M7j1G","u-bdw-1":"u-bdw-1--2hQbJ","u-bdrs-0-t":"u-bdrs-0-t--12o2i","u-bdrs-1-t":"u-bdrs-1-t--10ahd","u-bdrs-2-t":"u-bdrs-2-t--3Tx4t","u-bdrs-3-t":"u-bdrs-3-t--1Pty7","u-bdrs-4-t":"u-bdrs-4-t--3XIaA","u-bdrs-circle-t":"u-bdrs-circle-t--3PE9R","u-bdw-0-t":"u-bdw-0-t--1KCmg","u-bdw-1-t":"u-bdw-1-t--3Df5l","u-bdrs-0-s":"u-bdrs-0-s--3q0TZ","u-bdrs-1-s":"u-bdrs-1-s--1TIth","u-bdrs-2-s":"u-bdrs-2-s--3d7tn","u-bdrs-3-s":"u-bdrs-3-s--2F0g-","u-bdrs-4-s":"u-bdrs-4-s--3mPSF","u-bdrs-circle-s":"u-bdrs-circle-s--3cf01","u-bdw-0-s":"u-bdw-0-s--HYOam","u-bdw-1-s":"u-bdw-1-s--3MqXR","u-bdrs-0-m":"u-bdrs-0-m--2CI6A","u-bdrs-1-m":"u-bdrs-1-m--dWJJK","u-bdrs-2-m":"u-bdrs-2-m--29O4y","u-bdrs-3-m":"u-bdrs-3-m--TPM9n","u-bdrs-4-m":"u-bdrs-4-m--1wnEi","u-bdrs-circle-m":"u-bdrs-circle-m--2iN6B","u-bdw-0-m":"u-bdw-0-m--3U7PJ","u-bdw-1-m":"u-bdw-1-m--QQonZ","u-bxz":"u-bxz--syplv","u-c-default":"u-c-default--2YMoo","u-c-help":"u-c-help--31Fz5","u-c-pointer":"u-c-pointer--tnNsg","u-c-wait":"u-c-wait--2jqRs","u-c-not-allowed":"u-c-not-allowed--1qxkJ","u-debug":"u-debug--3-k7H","u-miw-1":"u-miw-1--pcCHD","u-maw-1":"u-maw-1--iXa4d","u-mih-1":"u-mih-1--3ouqA","u-mah-1":"u-mah-1--2rEuh","u-miw-2":"u-miw-2--2nWbO","u-maw-2":"u-maw-2--1i9Dh","u-mih-2":"u-mih-2--1nGAH","u-mah-2":"u-mah-2--3FkMl","u-miw-3":"u-miw-3--2nUDK","u-maw-3":"u-maw-3--3TJDM","u-mih-3":"u-mih-3--2YbJw","u-mah-3":"u-mah-3--3kLYn","u-miw-4":"u-miw-4--1jqWA","u-maw-4":"u-maw-4--33z3B","u-mih-4":"u-mih-4--1aHyl","u-mah-4":"u-mah-4--3vz5M","u-miw-5":"u-miw-5--T4Pc2","u-maw-5":"u-maw-5--2Pd-w","u-mih-5":"u-mih-5--3z2JH","u-mah-5":"u-mah-5--1VJHf","u-miw-6":"u-miw-6--2Zt8U","u-maw-6":"u-maw-6--23bfp","u-mih-6":"u-mih-6--3FqZr","u-mah-6":"u-mah-6--13Rts","u-miw-7":"u-miw-7--2sVxg","u-maw-7":"u-maw-7--dhGR5","u-mih-7":"u-mih-7--2eweX","u-mah-7":"u-mah-7--1XiRk","u-miw-8":"u-miw-8--5pt2M","u-maw-8":"u-maw-8--2iGjD","u-mih-8":"u-mih-8--1v5_r","u-mah-8":"u-mah-8--1bezJ","u-miw-9":"u-miw-9--3LEyn","u-maw-9":"u-maw-9--hLdHH","u-mih-9":"u-mih-9--2tEr-","u-mah-9":"u-mah-9--1i9F9","u-miw-100":"u-miw-100--2Aslb","u-maw-100":"u-maw-100--2iuiy","u-mih-100":"u-mih-100--1wRjQ","u-mah-100":"u-mah-100--3hTbn","u-maw-none":"u-maw-none--bNAsg","u-mah-none":"u-mah-none--1r0Ny","u-miw-auto":"u-miw-auto--1QoTf","u-mih-auto":"u-mih-auto--1DYRt","u-miw-half":"u-miw-half--1J7CZ","u-maw-half":"u-maw-half--3plSd","u-mih-half":"u-mih-half--3JiUV","u-mah-half":"u-mah-half--1upzr","u-miw-1-half":"u-miw-1-half--Z8B3P","u-maw-1-half":"u-maw-1-half--SlSbf","u-mih-1-half":"u-mih-1-half--3s_KL","u-mah-1-half":"u-mah-1-half--1RLHK","u-miw-2-half":"u-miw-2-half--3hnNo","u-maw-2-half":"u-maw-2-half--1DuHs","u-mih-2-half":"u-mih-2-half--1-Cm5","u-mah-2-half":"u-mah-2-half--1QMvH","u-miw-1-t":"u-miw-1-t--1ep4R","u-maw-1-t":"u-maw-1-t--239oa","u-mih-1-t":"u-mih-1-t--39c-O","u-mah-1-t":"u-mah-1-t--2Cwu5","u-miw-2-t":"u-miw-2-t--3P--o","u-maw-2-t":"u-maw-2-t--2SpUX","u-mih-2-t":"u-mih-2-t--A9N5y","u-mah-2-t":"u-mah-2-t--3hKOY","u-miw-3-t":"u-miw-3-t--3CbGP","u-maw-3-t":"u-maw-3-t--3g3GT","u-mih-3-t":"u-mih-3-t--1Okno","u-mah-3-t":"u-mah-3-t--2MazG","u-miw-4-t":"u-miw-4-t--3PPRP","u-maw-4-t":"u-maw-4-t--2hVE_","u-mih-4-t":"u-mih-4-t---IyJr","u-mah-4-t":"u-mah-4-t--1k-bX","u-miw-5-t":"u-miw-5-t--3DRcz","u-maw-5-t":"u-maw-5-t--3fiZX","u-mih-5-t":"u-mih-5-t--2E2oy","u-mah-5-t":"u-mah-5-t--2of2l","u-miw-6-t":"u-miw-6-t--2opwp","u-maw-6-t":"u-maw-6-t--1qniv","u-mih-6-t":"u-mih-6-t--GYpGD","u-mah-6-t":"u-mah-6-t--ZKMJS","u-miw-7-t":"u-miw-7-t--I4JTt","u-maw-7-t":"u-maw-7-t--1fF_f","u-mih-7-t":"u-mih-7-t--3VwVH","u-mah-7-t":"u-mah-7-t--2A_0-","u-miw-8-t":"u-miw-8-t--1Y-iv","u-maw-8-t":"u-maw-8-t--3FW89","u-mih-8-t":"u-mih-8-t--30z09","u-mah-8-t":"u-mah-8-t--3HZ5s","u-miw-9-t":"u-miw-9-t--11B1w","u-maw-9-t":"u-maw-9-t--3HXNq","u-mih-9-t":"u-mih-9-t--30ib2","u-mah-9-t":"u-mah-9-t--RLCjB","u-miw-100-t":"u-miw-100-t--toR5s","u-maw-100-t":"u-maw-100-t--2UZFf","u-mih-100-t":"u-mih-100-t--1Cdox","u-mah-100-t":"u-mah-100-t--2tJ06","u-maw-none-t":"u-maw-none-t--2hw7F","u-mah-none-t":"u-mah-none-t--3DtRx","u-miw-auto-t":"u-miw-auto-t--10PdC","u-mih-auto-t":"u-mih-auto-t--Urlt9","u-miw-half-t":"u-miw-half-t--3O3_g","u-maw-half-t":"u-maw-half-t--D6tKG","u-mih-half-t":"u-mih-half-t--2pmEz","u-mah-half-t":"u-mah-half-t--2aXbJ","u-miw-1-half-t":"u-miw-1-half-t--2E-Nw","u-maw-1-half-t":"u-maw-1-half-t--j4J_9","u-mih-1-half-t":"u-mih-1-half-t--3xLfY","u-mah-1-half-t":"u-mah-1-half-t--2rjKx","u-miw-2-half-t":"u-miw-2-half-t--erR_5","u-maw-2-half-t":"u-maw-2-half-t--3CN80","u-mih-2-half-t":"u-mih-2-half-t--34EYt","u-mah-2-half-t":"u-mah-2-half-t--1U8VT","u-miw-1-s":"u-miw-1-s--3htCe","u-maw-1-s":"u-maw-1-s--1SvV1","u-mih-1-s":"u-mih-1-s--2UOyr","u-mah-1-s":"u-mah-1-s--jpb_1","u-miw-2-s":"u-miw-2-s--1Jszk","u-maw-2-s":"u-maw-2-s--1_Gzt","u-mih-2-s":"u-mih-2-s--1WrA_","u-mah-2-s":"u-mah-2-s--2DsY4","u-miw-3-s":"u-miw-3-s--DD44j","u-maw-3-s":"u-maw-3-s---xavh","u-mih-3-s":"u-mih-3-s--1Qh1E","u-mah-3-s":"u-mah-3-s--V-T1c","u-miw-4-s":"u-miw-4-s--kld3T","u-maw-4-s":"u-maw-4-s--WF9uP","u-mih-4-s":"u-mih-4-s--27mz4","u-mah-4-s":"u-mah-4-s--2-69d","u-miw-5-s":"u-miw-5-s--3pogj","u-maw-5-s":"u-maw-5-s--epTn_","u-mih-5-s":"u-mih-5-s--3DLqW","u-mah-5-s":"u-mah-5-s--CBchG","u-miw-6-s":"u-miw-6-s--3EhEY","u-maw-6-s":"u-maw-6-s--15A6t","u-mih-6-s":"u-mih-6-s--if4k2","u-mah-6-s":"u-mah-6-s--3QntL","u-miw-7-s":"u-miw-7-s--I70-y","u-maw-7-s":"u-maw-7-s--25N1i","u-mih-7-s":"u-mih-7-s--2Gqi3","u-mah-7-s":"u-mah-7-s--2rDps","u-miw-8-s":"u-miw-8-s--151Rv","u-maw-8-s":"u-maw-8-s--2WVkX","u-mih-8-s":"u-mih-8-s--2-z4s","u-mah-8-s":"u-mah-8-s--3-4Mh","u-miw-9-s":"u-miw-9-s--3mMpB","u-maw-9-s":"u-maw-9-s--IVDj0","u-mih-9-s":"u-mih-9-s--3cgEZ","u-mah-9-s":"u-mah-9-s--3pkZw","u-miw-100-s":"u-miw-100-s--2FN9E","u-maw-100-s":"u-maw-100-s--3NH0D","u-mih-100-s":"u-mih-100-s--3CvGV","u-mah-100-s":"u-mah-100-s--2SM8s","u-maw-none-s":"u-maw-none-s--1B77n","u-mah-none-s":"u-mah-none-s--Qz1rb","u-miw-auto-s":"u-miw-auto-s--1WbjD","u-mih-auto-s":"u-mih-auto-s--2eTUN","u-miw-half-s":"u-miw-half-s--2DNHH","u-maw-half-s":"u-maw-half-s--4LmaY","u-mih-half-s":"u-mih-half-s--2TD6h","u-mah-half-s":"u-mah-half-s--1ob87","u-miw-1-half-s":"u-miw-1-half-s--1oDzq","u-maw-1-half-s":"u-maw-1-half-s--18bb8","u-mih-1-half-s":"u-mih-1-half-s--1PLyw","u-mah-1-half-s":"u-mah-1-half-s--vP5TD","u-miw-2-half-s":"u-miw-2-half-s--238uv","u-maw-2-half-s":"u-maw-2-half-s--3cl2R","u-mih-2-half-s":"u-mih-2-half-s--2UPIn","u-mah-2-half-s":"u-mah-2-half-s--3POxh","u-miw-1-m":"u-miw-1-m--2yuzO","u-maw-1-m":"u-maw-1-m--3q840","u-mih-1-m":"u-mih-1-m--2hhlS","u-mah-1-m":"u-mah-1-m--38QjT","u-miw-2-m":"u-miw-2-m--11Xxh","u-maw-2-m":"u-maw-2-m--34NKm","u-mih-2-m":"u-mih-2-m--1nQX5","u-mah-2-m":"u-mah-2-m--2tki1","u-miw-3-m":"u-miw-3-m--2gG-i","u-maw-3-m":"u-maw-3-m--1WgTV","u-mih-3-m":"u-mih-3-m--1-O73","u-mah-3-m":"u-mah-3-m--3tKhJ","u-miw-4-m":"u-miw-4-m--3diPf","u-maw-4-m":"u-maw-4-m--10erG","u-mih-4-m":"u-mih-4-m--3Wox5","u-mah-4-m":"u-mah-4-m--3ilhH","u-miw-5-m":"u-miw-5-m--_YM0x","u-maw-5-m":"u-maw-5-m--3wCQ5","u-mih-5-m":"u-mih-5-m--2PDtZ","u-mah-5-m":"u-mah-5-m--1yS-8","u-miw-6-m":"u-miw-6-m--C4Ku1","u-maw-6-m":"u-maw-6-m--U9jea","u-mih-6-m":"u-mih-6-m--3xRY9","u-mah-6-m":"u-mah-6-m--2Fks3","u-miw-7-m":"u-miw-7-m--DEaEQ","u-maw-7-m":"u-maw-7-m--CSMBv","u-mih-7-m":"u-mih-7-m--3LeUa","u-mah-7-m":"u-mah-7-m--jcbUJ","u-miw-8-m":"u-miw-8-m--HC3xv","u-maw-8-m":"u-maw-8-m--3-WHa","u-mih-8-m":"u-mih-8-m--3GLHZ","u-mah-8-m":"u-mah-8-m--1SICL","u-miw-9-m":"u-miw-9-m--16gj1","u-maw-9-m":"u-maw-9-m--1m7M7","u-mih-9-m":"u-mih-9-m--20ZE4","u-mah-9-m":"u-mah-9-m--3RJ8m","u-miw-100-m":"u-miw-100-m--mhK9T","u-maw-100-m":"u-maw-100-m--3fwGm","u-mih-100-m":"u-mih-100-m--2zixh","u-mah-100-m":"u-mah-100-m--1HKNy","u-maw-none-m":"u-maw-none-m--3yd6n","u-mah-none-m":"u-mah-none-m--1sG3f","u-miw-auto-m":"u-miw-auto-m--31pbI","u-mih-auto-m":"u-mih-auto-m--3eKnT","u-miw-half-m":"u-miw-half-m--3OydP","u-maw-half-m":"u-maw-half-m--1vW9J","u-mih-half-m":"u-mih-half-m--23H0B","u-mah-half-m":"u-mah-half-m--3x1fi","u-miw-1-half-m":"u-miw-1-half-m--3cmvV","u-maw-1-half-m":"u-maw-1-half-m--2TJUP","u-mih-1-half-m":"u-mih-1-half-m--34HHu","u-mah-1-half-m":"u-mah-1-half-m--3eiFR","u-miw-2-half-m":"u-miw-2-half-m--3Vz9m","u-maw-2-half-m":"u-maw-2-half-m--f-hJS","u-mih-2-half-m":"u-mih-2-half-m--ypMQS","u-mah-2-half-m":"u-mah-2-half-m--2MFqE","u-w-1":"u-w-1--3VH0u","u-h-1":"u-h-1--8lBKM","u-w-2":"u-w-2--39x3l","u-h-2":"u-h-2--19u91","u-w-3":"u-w-3--1nxYM","u-h-3":"u-h-3--Eaqkv","u-w-4":"u-w-4--2aJSh","u-h-4":"u-h-4--2hH6X","u-w-5":"u-w-5--d58zs","u-h-5":"u-h-5--22TfM","u-w-6":"u-w-6--1K2ws","u-h-6":"u-h-6--1oaCr","u-w-7":"u-w-7--b19H1","u-h-7":"u-h-7--2L4Sk","u-w-8":"u-w-8--2z1Kx","u-h-8":"u-h-8--1S7jV","u-w-9":"u-w-9--2-r_m","u-h-9":"u-h-9--2lKoV","u-w-100":"u-w-100--ACXhw","u-h-100":"u-h-100--1wLjF","u-w-auto":"u-w-auto--3FORA","u-h-auto":"u-h-auto--DPkbz","u-w-half":"u-w-half--2TqeR","u-h-half":"u-h-half--3kjT4","u-w-1-half":"u-w-1-half--33E64","u-h-1-half":"u-h-1-half--2YlfG","u-w-2-half":"u-w-2-half--1633y","u-h-2-half":"u-h-2-half--2dwgW","u-w-1-t":"u-w-1-t--3oY-3","u-h-1-t":"u-h-1-t--YEPLy","u-w-2-t":"u-w-2-t--332tV","u-h-2-t":"u-h-2-t--3-2Jx","u-w-3-t":"u-w-3-t--1dQWV","u-h-3-t":"u-h-3-t--yba2Z","u-w-4-t":"u-w-4-t--3CsIY","u-h-4-t":"u-h-4-t--3Ux0e","u-w-5-t":"u-w-5-t--31qUY","u-h-5-t":"u-h-5-t--MV-M2","u-w-6-t":"u-w-6-t--1LsmJ","u-h-6-t":"u-h-6-t--3mfjl","u-w-7-t":"u-w-7-t--DUDUu","u-h-7-t":"u-h-7-t--2XhNh","u-w-8-t":"u-w-8-t--3p43s","u-h-8-t":"u-h-8-t--4W1ot","u-w-9-t":"u-w-9-t--1LCzR","u-h-9-t":"u-h-9-t--QbDMF","u-w-100-t":"u-w-100-t--3Lyij","u-h-100-t":"u-h-100-t--34Gbi","u-w-auto-t":"u-w-auto-t--H5HPc","u-h-auto-t":"u-h-auto-t--TqO6m","u-w-half-t":"u-w-half-t--N0fxN","u-h-half-t":"u-h-half-t--tVBiA","u-w-1-half-t":"u-w-1-half-t--1ojFO","u-h-1-half-t":"u-h-1-half-t--2JMf_","u-w-2-half-t":"u-w-2-half-t--3BjY6","u-h-2-half-t":"u-h-2-half-t--2N1p6","u-w-1-s":"u-w-1-s--3f124","u-h-1-s":"u-h-1-s--2hul0","u-w-2-s":"u-w-2-s--100Cj","u-h-2-s":"u-h-2-s--ecToI","u-w-3-s":"u-w-3-s--25EQa","u-h-3-s":"u-h-3-s--1xU7M","u-w-4-s":"u-w-4-s--1-5HO","u-h-4-s":"u-h-4-s--1PiwS","u-w-5-s":"u-w-5-s--1A6nl","u-h-5-s":"u-h-5-s--310oO","u-w-6-s":"u-w-6-s--2ImB6","u-h-6-s":"u-h-6-s--ZfY8m","u-w-7-s":"u-w-7-s--XlUqZ","u-h-7-s":"u-h-7-s--z0dty","u-w-8-s":"u-w-8-s--3zpeE","u-h-8-s":"u-h-8-s--3uHN4","u-w-9-s":"u-w-9-s--tNmXs","u-h-9-s":"u-h-9-s--24gYC","u-w-100-s":"u-w-100-s--TGFKu","u-h-100-s":"u-h-100-s--1UNRx","u-w-auto-s":"u-w-auto-s--1syVB","u-h-auto-s":"u-h-auto-s--2tvot","u-w-half-s":"u-w-half-s--dRpUq","u-h-half-s":"u-h-half-s--3wK05","u-w-1-half-s":"u-w-1-half-s--xm9yH","u-h-1-half-s":"u-h-1-half-s--2nyrh","u-w-2-half-s":"u-w-2-half-s--2xeIl","u-h-2-half-s":"u-h-2-half-s--3uvmX","u-w-1-m":"u-w-1-m--1fPk1","u-h-1-m":"u-h-1-m--aA2U6","u-w-2-m":"u-w-2-m--1oexe","u-h-2-m":"u-h-2-m--3QCwm","u-w-3-m":"u-w-3-m--1RRxK","u-h-3-m":"u-h-3-m--3ptj9","u-w-4-m":"u-w-4-m--11Zpc","u-h-4-m":"u-h-4-m--20rW7","u-w-5-m":"u-w-5-m--3Zsj1","u-h-5-m":"u-h-5-m--1ddoO","u-w-6-m":"u-w-6-m--37zQR","u-h-6-m":"u-h-6-m--hTuca","u-w-7-m":"u-w-7-m--10pP3","u-h-7-m":"u-h-7-m--2tHwk","u-w-8-m":"u-w-8-m--3lZUN","u-h-8-m":"u-h-8-m--fwere","u-w-9-m":"u-w-9-m--6RE2o","u-h-9-m":"u-h-9-m--y3fiN","u-w-100-m":"u-w-100-m--Lu-Xj","u-h-100-m":"u-h-100-m--1WuGH","u-w-auto-m":"u-w-auto-m--3ziIe","u-h-auto-m":"u-h-auto-m--jh31R","u-w-half-m":"u-w-half-m--1SHef","u-h-half-m":"u-h-half-m--1d-Qm","u-w-1-half-m":"u-w-1-half-m--uB7-h","u-h-1-half-m":"u-h-1-half-m--3hYjR","u-w-2-half-m":"u-w-2-half-m--3ty43","u-h-2-half-m":"u-h-2-half-m--1Rquw","u-shake":"u-shake--3X0rg","shake":"shake--Dso-n","u-flex":"u-flex--1Jo2E","u-inline-flex":"u-inline-flex--3Q8J5","u-flex-none":"u-flex-none--2VWxS","u-flex-column":"u-flex-column--2s4iH","u-flex-row":"u-flex-row--2V77z","u-flex-wrap":"u-flex-wrap--2cQ2O","u-flex-nowrap":"u-flex-nowrap--n247O","u-flex-wrap-reverse":"u-flex-wrap-reverse--YjBSy","u-flex-column-reverse":"u-flex-column-reverse--2PDG-","u-flex-row-reverse":"u-flex-row-reverse--Z9QuU","u-flex-auto":"u-flex-auto--3kbE8","u-flex-items-start":"u-flex-items-start--21v8M","u-flex-items-end":"u-flex-items-end--2vpQQ","u-flex-items-center":"u-flex-items-center--23IR3","u-flex-items-baseline":"u-flex-items-baseline--3yFBu","u-flex-items-stretch":"u-flex-items-stretch--NBoVs","u-flex-self-start":"u-flex-self-start--2SefM","u-flex-self-end":"u-flex-self-end--2sE6S","u-flex-self-center":"u-flex-self-center--3mQqU","u-flex-self-baseline":"u-flex-self-baseline--3_qpc","u-flex-self-stretch":"u-flex-self-stretch--zx-3B","u-flex-justify-start":"u-flex-justify-start--311kB","u-flex-justify-end":"u-flex-justify-end--2hr0W","u-flex-justify-center":"u-flex-justify-center--wBzbs","u-flex-justify-between":"u-flex-justify-between--2Q8ZS","u-flex-justify-around":"u-flex-justify-around--3RClL","u-flex-content-start":"u-flex-content-start--36ecT","u-flex-content-end":"u-flex-content-end--1Sly7","u-flex-content-center":"u-flex-content-center--1ifW1","u-flex-content-between":"u-flex-content-between--pJiz4","u-flex-content-around":"u-flex-content-around--3FiFF","u-flex-content-stretch":"u-flex-content-stretch--174IP","u-flex-order-0":"u-flex-order-0--2suRo","u-flex-order-1":"u-flex-order-1--1Xhhp","u-flex-order-2":"u-flex-order-2--Ffvgx","u-flex-order-3":"u-flex-order-3--wvilB","u-flex-order-4":"u-flex-order-4--1nt9T","u-flex-order-5":"u-flex-order-5--3aNh3","u-flex-order-6":"u-flex-order-6--3Vyxt","u-flex-order-7":"u-flex-order-7--wh9ld","u-flex-order-8":"u-flex-order-8--3GoA0","u-flex-order-last":"u-flex-order-last--iycIu","u-flex-grow-0":"u-flex-grow-0--1p6gS","u-flex-grow-1":"u-flex-grow-1--3MO3C","u-flex-shrink-0":"u-flex-shrink-0--2XX2K","u-flex-shrink-1":"u-flex-shrink-1--3GwWh","u-flex-t":"u-flex-t--3bx5k","u-inline-flex-t":"u-inline-flex-t--19qEj","u-flex-none-t":"u-flex-none-t--1mAKW","u-flex-column-t":"u-flex-column-t--3kLMl","u-flex-row-t":"u-flex-row-t--2XMcM","u-flex-wrap-t":"u-flex-wrap-t--1vdOn","u-flex-nowrap-t":"u-flex-nowrap-t--tNGMy","u-flex-wrap-reverse-t":"u-flex-wrap-reverse-t--1clSz","u-flex-column-reverse-t":"u-flex-column-reverse-t--3HF6H","u-flex-row-reverse-t":"u-flex-row-reverse-t--3hrHN","u-flex-auto-t":"u-flex-auto-t--2UDlP","u-flex-items-start-t":"u-flex-items-start-t--3XzjB","u-flex-items-end-t":"u-flex-items-end-t--3lGH8","u-flex-items-center-t":"u-flex-items-center-t--1lgqA","u-flex-items-baseline-t":"u-flex-items-baseline-t--3vbbI","u-flex-items-stretch-t":"u-flex-items-stretch-t--HwhzZ","u-flex-self-start-t":"u-flex-self-start-t--1TiAD","u-flex-self-end-t":"u-flex-self-end-t--1wSzs","u-flex-self-center-t":"u-flex-self-center-t--2hIdR","u-flex-self-baseline-t":"u-flex-self-baseline-t--3MZz-","u-flex-self-stretch-t":"u-flex-self-stretch-t--2V-eb","u-flex-justify-start-t":"u-flex-justify-start-t--3ykDq","u-flex-justify-end-t":"u-flex-justify-end-t--3kzy0","u-flex-justify-center-t":"u-flex-justify-center-t--2tT9W","u-flex-justify-between-t":"u-flex-justify-between-t--R61QL","u-flex-justify-around-t":"u-flex-justify-around-t--3cj88","u-flex-content-start-t":"u-flex-content-start-t--2Fe7T","u-flex-content-end-t":"u-flex-content-end-t--1MuYO","u-flex-content-center-t":"u-flex-content-center-t--2EinK","u-flex-content-between-t":"u-flex-content-between-t--3AUVq","u-flex-content-around-t":"u-flex-content-around-t--HljdH","u-flex-content-stretch-t":"u-flex-content-stretch-t--qWtlO","u-flex-order-0-t":"u-flex-order-0-t--2xCTQ","u-flex-order-1-t":"u-flex-order-1-t--2__ro","u-flex-order-2-t":"u-flex-order-2-t--3rAx8","u-flex-order-3-t":"u-flex-order-3-t--7d9Fz","u-flex-order-4-t":"u-flex-order-4-t--2UG07","u-flex-order-5-t":"u-flex-order-5-t--79iKS","u-flex-order-6-t":"u-flex-order-6-t--1SVqM","u-flex-order-7-t":"u-flex-order-7-t--1tqFg","u-flex-order-8-t":"u-flex-order-8-t--1tzS7","u-flex-order-last-t":"u-flex-order-last-t--3snHd","u-flex-grow-0-t":"u-flex-grow-0-t--38wdB","u-flex-grow-1-t":"u-flex-grow-1-t--1_llt","u-flex-shrink-0-t":"u-flex-shrink-0-t--1wp__","u-flex-shrink-1-t":"u-flex-shrink-1-t--2ANEM","u-flex-s":"u-flex-s--bRNZe","u-inline-flex-s":"u-inline-flex-s--1_4en","u-flex-none-s":"u-flex-none-s--1L_69","u-flex-column-s":"u-flex-column-s--12htc","u-flex-row-s":"u-flex-row-s--1YR08","u-flex-wrap-s":"u-flex-wrap-s--3kX0q","u-flex-nowrap-s":"u-flex-nowrap-s--5cJwP","u-flex-wrap-reverse-s":"u-flex-wrap-reverse-s--1O56z","u-flex-column-reverse-s":"u-flex-column-reverse-s--2z3o9","u-flex-row-reverse-s":"u-flex-row-reverse-s--3lMxz","u-flex-auto-s":"u-flex-auto-s--2rxun","u-flex-items-start-s":"u-flex-items-start-s--hR4LX","u-flex-items-end-s":"u-flex-items-end-s--2aYmW","u-flex-items-center-s":"u-flex-items-center-s--1SHPV","u-flex-items-baseline-s":"u-flex-items-baseline-s--2W_ZX","u-flex-items-stretch-s":"u-flex-items-stretch-s--2N5XH","u-flex-self-start-s":"u-flex-self-start-s--30pwR","u-flex-self-end-s":"u-flex-self-end-s--1b8fR","u-flex-self-center-s":"u-flex-self-center-s--3TRR5","u-flex-self-baseline-s":"u-flex-self-baseline-s--2hBRK","u-flex-self-stretch-s":"u-flex-self-stretch-s--dFk9R","u-flex-justify-start-s":"u-flex-justify-start-s--1CCGA","u-flex-justify-end-s":"u-flex-justify-end-s--1HhsX","u-flex-justify-center-s":"u-flex-justify-center-s--1utWe","u-flex-justify-between-s":"u-flex-justify-between-s--GZoki","u-flex-justify-around-s":"u-flex-justify-around-s--3Dgtv","u-flex-content-start-s":"u-flex-content-start-s--3_7Og","u-flex-content-end-s":"u-flex-content-end-s--3tBex","u-flex-content-center-s":"u-flex-content-center-s--2qbo0","u-flex-content-between-s":"u-flex-content-between-s--2YJoe","u-flex-content-around-s":"u-flex-content-around-s--2fj5A","u-flex-content-stretch-s":"u-flex-content-stretch-s--3BOsM","u-flex-order-0-s":"u-flex-order-0-s--60dJ2","u-flex-order-1-s":"u-flex-order-1-s--3JQo2","u-flex-order-2-s":"u-flex-order-2-s--1p8RM","u-flex-order-3-s":"u-flex-order-3-s--30Mki","u-flex-order-4-s":"u-flex-order-4-s--24Wt7","u-flex-order-5-s":"u-flex-order-5-s--y9Epz","u-flex-order-6-s":"u-flex-order-6-s--_nIxn","u-flex-order-7-s":"u-flex-order-7-s--2S-EJ","u-flex-order-8-s":"u-flex-order-8-s--3A_d1","u-flex-order-last-s":"u-flex-order-last-s--2PeQT","u-flex-grow-0-s":"u-flex-grow-0-s--3YUDp","u-flex-grow-1-s":"u-flex-grow-1-s--FLqvm","u-flex-shrink-0-s":"u-flex-shrink-0-s--SvoWo","u-flex-shrink-1-s":"u-flex-shrink-1-s--P84ev","u-flex-m":"u-flex-m--1Y3Er","u-inline-flex-m":"u-inline-flex-m--35LYV","u-flex-none-m":"u-flex-none-m--22TN5","u-flex-column-m":"u-flex-column-m--3Q_9D","u-flex-row-m":"u-flex-row-m--Up1oP","u-flex-wrap-m":"u-flex-wrap-m--2TD_s","u-flex-nowrap-m":"u-flex-nowrap-m--38LMk","u-flex-wrap-reverse-m":"u-flex-wrap-reverse-m--2iSic","u-flex-column-reverse-m":"u-flex-column-reverse-m--1SE83","u-flex-row-reverse-m":"u-flex-row-reverse-m--1hh5_","u-flex-auto-m":"u-flex-auto-m--LkF1x","u-flex-items-start-m":"u-flex-items-start-m--8Tp6J","u-flex-items-end-m":"u-flex-items-end-m--Dex4S","u-flex-items-center-m":"u-flex-items-center-m--2lZuF","u-flex-items-baseline-m":"u-flex-items-baseline-m--2XzRV","u-flex-items-stretch-m":"u-flex-items-stretch-m--285gK","u-flex-self-start-m":"u-flex-self-start-m--1dLa7","u-flex-self-end-m":"u-flex-self-end-m--3v-s2","u-flex-self-center-m":"u-flex-self-center-m--32ILF","u-flex-self-baseline-m":"u-flex-self-baseline-m--2NPnA","u-flex-self-stretch-m":"u-flex-self-stretch-m--2ssUS","u-flex-justify-start-m":"u-flex-justify-start-m--17_4p","u-flex-justify-end-m":"u-flex-justify-end-m--1UJG-","u-flex-justify-center-m":"u-flex-justify-center-m--2WuOM","u-flex-justify-between-m":"u-flex-justify-between-m--6sNpY","u-flex-justify-around-m":"u-flex-justify-around-m--S1Mtb","u-flex-content-start-m":"u-flex-content-start-m--3EPkS","u-flex-content-end-m":"u-flex-content-end-m--2n1W7","u-flex-content-center-m":"u-flex-content-center-m--3zFFn","u-flex-content-between-m":"u-flex-content-between-m--2m-yz","u-flex-content-around-m":"u-flex-content-around-m--1-pLV","u-flex-content-stretch-m":"u-flex-content-stretch-m--3P3KS","u-flex-order-0-m":"u-flex-order-0-m--14kGe","u-flex-order-1-m":"u-flex-order-1-m--2fQ0L","u-flex-order-2-m":"u-flex-order-2-m--18wWP","u-flex-order-3-m":"u-flex-order-3-m--2SkKY","u-flex-order-4-m":"u-flex-order-4-m--3Uy-J","u-flex-order-5-m":"u-flex-order-5-m--3aCE_","u-flex-order-6-m":"u-flex-order-6-m--3vF4-","u-flex-order-7-m":"u-flex-order-7-m--3wAiY","u-flex-order-8-m":"u-flex-order-8-m--1yOzx","u-flex-order-last-m":"u-flex-order-last-m--19U6a","u-flex-grow-0-m":"u-flex-grow-0-m--2Q7VJ","u-flex-grow-1-m":"u-flex-grow-1-m--eTqOm","u-flex-shrink-0-m":"u-flex-shrink-0-m--KXk7-","u-flex-shrink-1-m":"u-flex-shrink-1-m--20926","u-nolist":"u-nolist--3F7JW","u-nolist-t":"u-nolist-t--3BxA6","u-nolist-s":"u-nolist-s--1ZOyZ","u-nolist-m":"u-nolist-m--3Bkyb","u-o-100":"u-o-100--2qad-","u-o-90":"u-o-90--NuNtO","u-o-80":"u-o-80--18KvO","u-o-70":"u-o-70--mkgyE","u-o-60":"u-o-60--2a_eL","u-o-50":"u-o-50--2pxWq","u-o-40":"u-o-40--27sIg","u-o-30":"u-o-30--2i4gP","u-o-20":"u-o-20--1pDqb","u-o-10":"u-o-10--1mUpe","u-o-05":"u-o-05--1H0uD","u-o-025":"u-o-025--22NxD","u-o-0":"u-o-0--7GTd2","u-ov-visible":"u-ov-visible--5lv2P","u-ov-hidden":"u-ov-hidden--sWwpY","u-ov-scroll":"u-ov-scroll--3HLgf","u-ov-auto":"u-ov-auto--1O4II","u-pos-absolute":"u-pos-absolute--zocdo","u-pos-relative":"u-pos-relative--2MWm8","u-pos-fixed":"u-pos-fixed--1vQ4F","u-pos-sticky":"u-pos-sticky--XmUk9","u-pos-static":"u-pos-static--1dFKE","u-pos-absolute-t":"u-pos-absolute-t--1-4su","u-pos-relative-t":"u-pos-relative-t--15QQT","u-pos-fixed-t":"u-pos-fixed-t--3m6ti","u-pos-sticky-t":"u-pos-sticky-t--3d2mX","u-pos-static-t":"u-pos-static-t--2Zetg","u-pos-absolute-s":"u-pos-absolute-s--1Vcmz","u-pos-relative-s":"u-pos-relative-s--3R2IX","u-pos-fixed-s":"u-pos-fixed-s--gCWNg","u-pos-sticky-s":"u-pos-sticky-s--2c00g","u-pos-static-s":"u-pos-static-s--3iDSN","u-pos-absolute-m":"u-pos-absolute-m--3LduC","u-pos-relative-m":"u-pos-relative-m--3kk8R","u-pos-fixed-m":"u-pos-fixed-m--KHSz6","u-pos-sticky-m":"u-pos-sticky-m--YaMoQ","u-pos-static-m":"u-pos-static-m--1tuql","u-top-m":"u-top-m--26C5S","u-top-xs":"u-top-xs--1JcbL","u-top-s":"u-top-s--2QQsh","u-top-l":"u-top-l--sZal9","u-top-xl":"u-top-xl--Dwf9M","u-top-xxl":"u-top-xxl--2dsr2","u-top-0":"u-top-0--3BCLN","u-bottom-m":"u-bottom-m--w1kt7","u-bottom-xs":"u-bottom-xs--1rEKy","u-bottom-s":"u-bottom-s--1L52A","u-bottom-l":"u-bottom-l--342ze","u-bottom-xl":"u-bottom-xl--5C-n3","u-bottom-xxl":"u-bottom-xxl--zwlm4","u-bottom-0":"u-bottom-0--1BsqT","u-left-m":"u-left-m--36gt5","u-left-xs":"u-left-xs--2aVvu","u-left-s":"u-left-s--3kE3j","u-left-l":"u-left-l--2d-h1","u-left-xl":"u-left-xl--3hFrA","u-left-xxl":"u-left-xxl--gz965","u-left-0":"u-left-0--29kP6","u-right-m":"u-right-m--2Abg7","u-right-xs":"u-right-xs--17vUt","u-right-s":"u-right-s--3g3Lq","u-right-l":"u-right-l--1J_yB","u-right-xl":"u-right-xl--1SaBe","u-right-xxl":"u-right-xxl--3DXPa","u-right-0":"u-right-0--2tFkX","u-stack-m":"u-stack-m--MWFXD","u-stack-xs":"u-stack-xs--1Y_AK","u-stack-s":"u-stack-s--1drmi","u-stack-l":"u-stack-l--2KZ1g","u-stack-xl":"u-stack-xl--3WkaE","u-stack-xxl":"u-stack-xxl--alb2_","u-row-m":"u-row-m--33TEs","u-row-xs":"u-row-xs--1dOFb","u-row-s":"u-row-s--2UJdF","u-row-l":"u-row-l--Xlnil","u-row-xl":"u-row-xl--1fYA-","u-row-xxl":"u-row-xxl--8R_K7","u-title-h1":"u-title-h1--1SAE6","u-title-h2":"u-title-h2--2bUL8","u-title-h3":"u-title-h3--3yxk1","u-title-h4":"u-title-h4--2gAs1","u-text":"u-text--3RI5Y","u-caption":"u-caption--d81VX","u-uppercase":"u-uppercase--3k7q5","c-input-checkbox--svg":"c-input-checkbox--svg--Bogch","c-input-checkbox-icon":"c-input-checkbox-icon--30X0Q","fil-content":"fil-content--3-eRD","--working":"_--working--2fAwj","spin":"spin--3dzoz"};

/***/ }),

/***/ "8jCc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRedirectUri", function() { return getRedirectUri; });
/* harmony import */ var cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("sCMN");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_mobile_lib_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("Ow0/");



/**
  The redirect_uri is needed by the stack to redirect the user logged from the app (OAuth Client)
  
  We need to add a custom_scheme and custom_path search params in order to be able to 
  deal with an iOS bug during apple-app-site json file retrieving. (https://openradar.appspot.com/33893852)
  Since the json file is not downloaded, the device and the app don't know they have to 
  handle the universal link so we are redirected to the registry (the server behind the universalink domain)
  This server only does redirection. If we reach it, it redirects the client to the fallback_url which is 
  the web version of the app.

  But as we know that we are on the mobile app if we use this method, we add the custom_scheme to the 
  request. This way, if we reach the server, it can check if the url has the custom_scheme params and 
  instead of redirecting to the web version of the app, redirect to the native app via the custom scheme.
*/

var getRedirectUri = function getRedirectUri(appSlug) {
  //needed for our Drive standalone mode
  if (!Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_1__["isMobileApp"])()) return 'http://localhost';
  var redirectedPath = 'auth';
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_1__["isAndroidApp"])() ? drive_mobile_lib_constants__WEBPACK_IMPORTED_MODULE_2__["PROTOCOL"] + redirectedPath : Object(cozy_ui_transpiled_react_AppLinker__WEBPACK_IMPORTED_MODULE_0__["getUniversalLinkDomain"])() + '/' + appSlug + "/".concat(redirectedPath, "?custom_scheme=").concat(drive_mobile_lib_constants__WEBPACK_IMPORTED_MODULE_2__["PROTOCOL"], "&custom_path=").concat(redirectedPath);
};

/***/ }),

/***/ "90+y":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("kyGY");
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("X+Uv");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("4kcP");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var drive_web_modules_upload_withInstance__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("GNTO");
/* harmony import */ var drive_web_modules_upload_QuotaAlert__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("tFpY");
/* harmony import */ var _withDiskUsage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("vEXA");
/* harmony import */ var _supportUs_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("ce8z");
/* harmony import */ var _supportUs_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_supportUs_styl__WEBPACK_IMPORTED_MODULE_12__);













var GB = 1000 * 1000 * 1000;
var PREMIUM_QUOTA = 50 * GB;

var trackEvent = function trackEvent() {
  var tracker = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_6__["getTracker"])();

  if (tracker) {
    tracker.push(['trackEvent', 'Drive', 'CTAOffers', 'LEFT_BUTTON']);
  }
}; //TODO use cozy-client helpers after https://github.com/cozy/cozy-client/pull/567 merge


var SupportUs = function SupportUs(_ref) {
  var t = _ref.t,
      client = _ref.client;
  if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_8__["isMobileApp"])()) return null;
  var instanceInfo = Object(drive_web_modules_upload_withInstance__WEBPACK_IMPORTED_MODULE_9__["default"])(client);
  var uuid = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(instanceInfo, 'instance.data.attributes.uuid');
  var managerUrl = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(instanceInfo, 'context.data.attributes.manager_url');
  var enable_premium_links = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(instanceInfo, 'context.data.attributes.enable_premium_links');
  var diskUsage = Object(_withDiskUsage__WEBPACK_IMPORTED_MODULE_11__["default"])(client);
  var quota = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(diskUsage, 'data.attributes.quota', false);
  /**
   * enable_prenium_links is set on a context (cozy_default and so on)
   * if quota < 50Gb then, the user is freemium
   * if managerUrl then user is not self hosted
   */

  if (enable_premium_links && managerUrl && uuid && quota && parseInt(quota) <= PREMIUM_QUOTA) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: _supportUs_styl__WEBPACK_IMPORTED_MODULE_12___default.a['SupportUs__wrapper'],
    spacing: "s"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Text__WEBPACK_IMPORTED_MODULE_3__["Caption"], {
    className: _supportUs_styl__WEBPACK_IMPORTED_MODULE_12___default.a['SupportUs__description']
  }, t('Nav.support-us-description')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__["ButtonLink"], {
    size: "tiny",
    href: Object(drive_web_modules_upload_QuotaAlert__WEBPACK_IMPORTED_MODULE_10__["buildPremiumLink"])(uuid, managerUrl),
    target: "_blank",
    label: t('Nav.support-us'),
    className: _supportUs_styl__WEBPACK_IMPORTED_MODULE_12___default.a['Supportus__button'],
    theme: "secondary",
    onClick: trackEvent
  }));
  return null;
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["translate"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_7__["withClient"])(SupportUs)));

/***/ }),

/***/ "9Etc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("V2U0");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("Le8U");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("mdCN");
/* harmony import */ var drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("3tyQ");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Dialog_DialogCloseButton__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("6vAj");
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("SNP2");
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("buk/");










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }










var ENTER_KEY = 13;
var ESC_KEY = 27;

var valueIsEmpty = function valueIsEmpty(value) {
  return value.toString() === '';
};

var FilenameInput = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(FilenameInput, _Component);

  var _super = _createSuper(FilenameInput);

  function FilenameInput(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FilenameInput);

    _this = _super.call(this, props);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "save", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (_this.props.onSubmit) {
                _context.next = 2;
                break;
              }

              return _context.abrupt("return");

            case 2:
              _context.prev = 2;
              _context.next = 5;
              return _this.props.onSubmit(_this.state.value);

            case 5:
              _context.next = 10;
              break;

            case 7:
              _context.prev = 7;
              _context.t0 = _context["catch"](2);

              _this.setState({
                working: false,
                error: true
              });

            case 10:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[2, 7]]);
    })));

    _this.textInput = react__WEBPACK_IMPORTED_MODULE_9___default.a.createRef();
    _this.state = {
      value: props.name || '',
      working: false,
      error: false,
      hasBeenSubmitedOrAborted: false,
      isModalOpened: false
    };
    _this.fileNameOnMount = props.name;
    _this.abort = _this.abort.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    _this.save = _this.save.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FilenameInput, [{
    key: "handleKeyDown",
    value: function handleKeyDown(e) {
      if (e.keyCode === ENTER_KEY && !valueIsEmpty(this.state.value)) {
        this.setState({
          hasBeenSubmitedOrAborted: true
        });
        this.submit();
      } else if (e.keyCode === ESC_KEY) {
        this.setState({
          hasBeenSubmitedOrAborted: true
        });
        this.abort();
      }
    }
  }, {
    key: "handleChange",
    value: function handleChange(e) {
      var value = e.target.value;
      this.setState({
        value: value
      });
      this.props.onChange && this.props.onChange(value);
    }
  }, {
    key: "handleBlur",
    value: function handleBlur() {
      // On top of "normal" blurs, the event happens all the time after a submit or an abort, because this component is removed from the DOM while having the focus.
      // we want to do things only on "normal" blurs, *not* after a submit/abort
      if (!this.state.hasBeenSubmitedOrAborted) {
        // when it's a regular blur, we want to abort, except is the value is non-empty
        if (valueIsEmpty(this.state.value)) this.abort(true);else this.submit();
      }
    }
  }, {
    key: "submit",
    value: function submit() {
      this.setState({
        working: true,
        error: false
      });
      if (!this.fileNameOnMount) this.save();
      var previousExtension = cozy_doctypes__WEBPACK_IMPORTED_MODULE_11__["CozyFile"].splitFilename({
        name: this.fileNameOnMount,
        type: 'file'
      }).extension;
      var newExtension = cozy_doctypes__WEBPACK_IMPORTED_MODULE_11__["CozyFile"].splitFilename({
        name: this.state.value,
        type: 'file'
      }).extension;

      if (previousExtension !== newExtension) {
        this.setState({
          isModalOpened: true
        });
      } else {
        this.save();
      }
    }
  }, {
    key: "abort",
    value: function abort() {
      var accidental = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      if (this.state.isModalOpened) this.setState({
        isModalOpened: false
      });
      this.props.onAbort && this.props.onAbort(accidental);
    }
  }, {
    key: "handleFocus",
    value: function handleFocus() {
      var _this2 = this;

      var name = this.props.name;

      var _CozyFile$splitFilena = cozy_doctypes__WEBPACK_IMPORTED_MODULE_11__["CozyFile"].splitFilename({
        name: name,
        type: 'file'
      }),
          filename = _CozyFile$splitFilena.filename; //Since we're mounting the component and focusing it at the same time
      // let's add a small timeout to be sure the ref is populated


      setTimeout(function () {
        if (_this2.textInput.current) _this2.textInput.current.setSelectionRange(0, filename.length);
      }, 5);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var _this$state = this.state,
          value = _this$state.value,
          working = _this$state.working,
          error = _this$state.error;
      var t = this.props.t;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        "data-testid": "name-input",
        className: drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-file-name-input']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("input", {
        type: "text",
        value: value,
        ref: this.textInput,
        disabled: working,
        onChange: function onChange(e) {
          return _this3.handleChange(e);
        },
        onFocus: function onFocus() {
          return _this3.handleFocus();
        },
        onBlur: function onBlur() {
          return _this3.handleBlur();
        },
        onKeyDown: function onKeyDown(e) {
          return _this3.handleKeyDown(e);
        },
        className: error ? drive_styles_filenameinput_styl__WEBPACK_IMPORTED_MODULE_12___default.a['error'] : null,
        autoFocus: "autofocus"
      }), working && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_10__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_13__["default"], {
        onClose: this.abort,
        open: this.state.isModalOpened
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Dialog_DialogCloseButton__WEBPACK_IMPORTED_MODULE_14__["default"], {
        onClick: this.abort
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_13__["ExperimentalDialogTitle"], null, t('RenameModal.title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_15___default.a, null, t('RenameModal.description')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_13__["ExperimentalDialogActions"], {
        layout: "row"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_16__["default"], {
        theme: "secondary",
        onClick: this.abort,
        label: t('RenameModal.cancel')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_16__["default"], {
        theme: "primary",
        label: t('RenameModal.continue'),
        onClick: this.save
      }))));
    }
  }]);

  return FilenameInput;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_17__["translate"])()(FilenameInput));

/***/ }),

/***/ "9j6G":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QVEU");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("7oMs");





var withHideSelectionBarDispatch = function withHideSelectionBarDispatch(action, dispatch) {
  if (!action.action) return action;
  var actionFn = action.action;

  var actionFnWithSelectionDispatch = function actionFnWithSelectionDispatch() {
    actionFn.apply(void 0, arguments);
    dispatch(Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_3__["hideSelectionBar"])());
  };

  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, action, {
    action: actionFnWithSelectionDispatch
  });
};

var useActions = function useActions(actionCreators) {
  var actionOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])();
  return lodash_keyBy__WEBPACK_IMPORTED_MODULE_1___default()(actionCreators.map(function (createAction) {
    return withHideSelectionBarDispatch(createAction(actionOptions), dispatch);
  }), 'icon');
};

/* harmony default export */ __webpack_exports__["default"] = (useActions);

/***/ }),

/***/ "A3Xe":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REF_PHOTOS", function() { return REF_PHOTOS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REF_UPLOAD", function() { return REF_UPLOAD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REF_BACKUP", function() { return REF_BACKUP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReferencedFolders", function() { return getReferencedFolders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOrCreateFolderWithReference", function() { return getOrCreateFolderWithReference; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("z6Q1");



var REF_PHOTOS = "".concat(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"], "/photos");
var REF_UPLOAD = "".concat(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"], "/photos/upload");
var REF_BACKUP = "".concat(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"], "/photos/mobile");
var getReferencedFolders = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, reference) {
    var _yield$client$collect, included;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return client.collection(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_FILES"]).findReferencedBy({
              _type: drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"],
              _id: reference
            });

          case 2:
            _yield$client$collect = _context.sent;
            included = _yield$client$collect.included;
            return _context.abrupt("return", included.filter(function (folder) {
              return /^\/\.cozy_trash/.test(folder.attributes.path) === false;
            }));

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getReferencedFolders(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();
var getOrCreateFolderWithReference = /*#__PURE__*/function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, path, reference) {
    var existingFolders, collection, dirId, _yield$collection$get, dirInfos;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return getReferencedFolders(client, reference);

          case 2:
            existingFolders = _context2.sent;

            if (!existingFolders.length) {
              _context2.next = 7;
              break;
            }

            return _context2.abrupt("return", existingFolders[0]);

          case 7:
            collection = client.collection(drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_FILES"]);
            _context2.next = 10;
            return collection.ensureDirectoryExists(path);

          case 10:
            dirId = _context2.sent;
            _context2.next = 13;
            return collection.addReferencesTo({
              _id: reference,
              _type: drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_2__["DOCTYPE_APPS"]
            }, [{
              _id: dirId
            }]);

          case 13:
            _context2.next = 15;
            return collection.get(dirId);

          case 15:
            _yield$collection$get = _context2.sent;
            dirInfos = _yield$collection$get.data;
            return _context2.abrupt("return", dirInfos);

          case 18:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function getOrCreateFolderWithReference(_x3, _x4, _x5) {
    return _ref2.apply(this, arguments);
  };
}();

/***/ }),

/***/ "AnwN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-list_eb4be84b8e983bfc674592d4a3cf78da",
  "use": "icon-list_eb4be84b8e983bfc674592d4a3cf78da-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-list_eb4be84b8e983bfc674592d4a3cf78da\">\n    <path fill-rule=\"evenodd\" d=\"M0 0h4v4H0V0zm6 0h10v4H6V0zM0 6h4v4H0V6zm6 0h10v4H6V6zm-6 6h4v4H0v-4zm6 0h10v4H6v-4z\" />\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "AzIT":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"coz-btn-client":"coz-btn-client--1LuMZ","coz-banner-client":"coz-banner-client--xEL17","coz-btn-clientMobile":"coz-btn-clientMobile--3n2yA","coz-banner-text":"coz-banner-text--tBptv","close-banner":"close-banner---KAV7","spin":"spin--2_Zjm","shake":"shake--1oABm"};

/***/ }),

/***/ "B6p6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ONBOARDED_ITEM", function() { return ONBOARDED_ITEM; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return OnBoarding; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _components_Wizard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("2gvL");
/* harmony import */ var _components_Files__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("dpS8");
/* harmony import */ var _components_BackupPhotosVideos__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("hLxD");
/* harmony import */ var _components_Analytics__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("FMUz");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_14__);










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }







var ONBOARDED_ITEM = 'ONBOARDED';

var OnBoarding = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(OnBoarding, _Component);

  var _super = _createSuper(OnBoarding);

  function OnBoarding() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, OnBoarding);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "onboardingSteps", [_components_Files__WEBPACK_IMPORTED_MODULE_11__["default"], _components_BackupPhotosVideos__WEBPACK_IMPORTED_MODULE_12__["default"], _components_Analytics__WEBPACK_IMPORTED_MODULE_13__["default"]]);

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(OnBoarding, [{
    key: "redirectToApp",
    value: function () {
      var _redirectToApp = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.props.router.replace('/');

              case 1:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function redirectToApp() {
        return _redirectToApp.apply(this, arguments);
      }

      return redirectToApp;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_Wizard__WEBPACK_IMPORTED_MODULE_10__["default"], {
        steps: this.onboardingSteps,
        onComplete: function onComplete() {
          localforage__WEBPACK_IMPORTED_MODULE_14___default.a.setItem(ONBOARDED_ITEM, true);
          return _this2.redirectToApp();
        }
      });
    }
  }]);

  return OnBoarding;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);



/***/ }),

/***/ "BEGz":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getToken", function() { return getToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getClientSettings", function() { return getClientSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClientRevoked", function() { return isClientRevoked; });
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("cSBT");


var getProp = function getProp(state, key) {
  if (state.mobile && state.mobile.authorization && state.mobile.authorization[key] !== undefined) {
    return state.mobile.authorization[key];
  }

  return undefined;
};

var getToken = function getToken(state) {
  return getProp(state, 'token');
};
var getClientSettings = function getClientSettings(state) {
  return getProp(state, 'client');
};
var isClientRevoked = function isClientRevoked(error, state) {
  return Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_0__["getServerUrl"])(state) && (error.status === 404 || error.status === 401 || error.message.match(/Client has been revoked/));
};

/***/ }),

/***/ "BIwB":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("UmWK");
/* harmony import */ var drive_lib_ThumbnailSizeContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("EM1p");
/* harmony import */ var drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("6TdX");
/* harmony import */ var drive_web_modules_drive_StyledApp__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("cV3X");










var App = function App(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__["Provider"], {
    store: props.store
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["I18n"], {
    lang: props.lang,
    polyglot: props.polyglot
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_3__["CozyProvider"], {
    client: props.client
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_5__["default"], {
    doctype: "io.cozy.files",
    documentType: "Files"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_lib_ThumbnailSizeContext__WEBPACK_IMPORTED_MODULE_6__["ThumbnailSizeContextProvider"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_7__["ModalContextProvider"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_drive_StyledApp__WEBPACK_IMPORTED_MODULE_8__["default"], null, props.children)))))));
};

App.propTypes = {
  store: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,
  lang: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  polyglot: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,
  client: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (App);

/***/ }),

/***/ "CsTO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getServerUrl", function() { return getServerUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isOfflineCapable", function() { return isOfflineCapable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isImagesBackupOn", function() { return isImagesBackupOn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWifiOnlyOn", function() { return isWifiOnlyOn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAnalyticsOn", function() { return isAnalyticsOn; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("UWrV");


var initialState = {
  serverUrl: '',
  offline: false,
  analytics: false,
  backupImages: false,
  wifiOnly: true
};

var settings = function settings() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_URL"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        serverUrl: action.url
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_OFFLINE"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        offline: action.offline
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_ANALYTICS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        analytics: action.analytics
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["BACKUP_IMAGES"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        backupImages: action.backupImages
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["BACKUP_CONTACTS"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        backupContacts: action.backupContacts
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["WIFI_ONLY"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        wifiOnly: action.wifiOnly
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (settings);

var getSetting = function getSetting(state, key) {
  if (state.mobile && state.mobile.settings && state.mobile.settings[key] !== undefined) {
    return state.mobile.settings[key];
  }

  return undefined;
};

var getServerUrl = function getServerUrl(state) {
  return getSetting(state, 'serverUrl');
};
var isOfflineCapable = function isOfflineCapable(state) {
  return getSetting(state, 'offline');
};
var isImagesBackupOn = function isImagesBackupOn(state) {
  return getSetting(state, 'backupImages');
};
var isWifiOnlyOn = function isWifiOnlyOn(state) {
  return getSetting(state, 'wifiOnly');
};
var isAnalyticsOn = function isAnalyticsOn(state) {
  return getSetting(state, 'analytics');
};

/***/ }),

/***/ "CxWN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("GoJ1");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("KXWi");
/* harmony import */ var _drive_assets_icons_icon_folder_broken_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Xbs7");
/* harmony import */ var _oops_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("/OCp");
/* harmony import */ var _oops_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_oops_styl__WEBPACK_IMPORTED_MODULE_5__);







var reload = function reload() {
  window.location.reload();
};

var Oops = function Oops(_ref) {
  var t = _ref.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_2__["default"], {
    title: t('error.open_folder'),
    icon: _drive_assets_icons_icon_folder_broken_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
    className: _oops_styl__WEBPACK_IMPORTED_MODULE_5___default.a['oops']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onClick: reload,
    label: t('error.button.reload')
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["translate"])()(Oops));

/***/ }),

/***/ "D2Hl":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenameInput", function() { return RenameInput; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("67rm");
/* harmony import */ var drive_web_modules_filelist_FilenameInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("9Etc");
/* harmony import */ var _rename__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("JZSQ");








 // If we set the _rev then CozyClient tries to update. Else
// it tries to create

var updateFileNameQuery = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, file, newName) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            return _context.abrupt("return", client.save(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, file, {
              name: newName,
              _rev: file._rev || file.meta.rev
            })));

          case 1:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function updateFileNameQuery(_x, _x2, _x3) {
    return _ref.apply(this, arguments);
  };
}();

var RenameInput = function RenameInput(_ref2) {
  var onAbort = _ref2.onAbort,
      file = _ref2.file,
      refreshFolderContent = _ref2.refreshFolderContent;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useClient"])();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_filelist_FilenameInput__WEBPACK_IMPORTED_MODULE_7__["default"], {
    name: file.name,
    onSubmit: /*#__PURE__*/function () {
      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(newName) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.prev = 0;
                _context2.next = 3;
                return updateFileNameQuery(client, file, newName);

              case 3:
                if (refreshFolderContent) refreshFolderContent();
                _context2.next = 9;
                break;

              case 6:
                _context2.prev = 6;
                _context2.t0 = _context2["catch"](0);
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].error('alert.file_name', {
                  fileName: newName
                });

              case 9:
                _context2.prev = 9;
                onAbort();
                return _context2.finish(9);

              case 12:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[0, 6, 9, 12]]);
      }));

      return function (_x4) {
        return _ref3.apply(this, arguments);
      };
    }(),
    onAbort: onAbort
  });
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    onAbort: function onAbort() {
      return dispatch(Object(_rename__WEBPACK_IMPORTED_MODULE_8__["abortRenaming"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(null, mapDispatchToProps)(RenameInput));

/***/ }),

/***/ "D2vr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_LoadMore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("ZLzk");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_5__);







var LoadMoreFiles = function LoadMoreFiles(_ref) {
  var fetchMore = _ref.fetchMore;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_5___default.a['fil-content-row'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_5___default.a['fil-content-row--center'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_LoadMore__WEBPACK_IMPORTED_MODULE_3__["default"], {
    fetchMore: fetchMore,
    label: t('table.load_more')
  }));
};

LoadMoreFiles.propTypes = {
  fetchMore: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (LoadMoreFiles);

/***/ }),

/***/ "DVxU":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadProgression = function UploadProgression(_ref) {
  var t = _ref.t,
      current = _ref.current,
      total = _ref.total,
      progress = _ref.progress;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-wrapper']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("progress", {
    max: total,
    value: current,
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-progress'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-progress--global'])
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-progress-pic']
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, t('mobile.settings.media_backup.media_upload', {
    smart_count: total - current
  }), progress !== undefined ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("progress", {
    max: 100,
    value: progress,
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-progress'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-progress--individual'])
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['infinite-progress']
  }))));
};

UploadProgression.propTypes = {
  current: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  total: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  progress: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadProgression);

/***/ }),

/***/ "E3qw":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("y6ex");
/* harmony import */ var _selectable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("TI+A");






var SelectableItem = function SelectableItem(_ref) {
  var t = _ref.t,
      showSelectionBar = _ref.showSelectionBar;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__["ActionMenuItem"], {
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: "check-square"
    }),
    onClick: showSelectionBar
  }, t('toolbar.menu_select'));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(_selectable__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["translate"])()(SelectableItem)));

/***/ }),

/***/ "EGzn":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"file-opener":"file-opener--1sIzy","file-opener__a":"file-opener__a--ZWfuw"};

/***/ }),

/***/ "EM1p":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThumbnailSizeContext", function() { return ThumbnailSizeContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThumbnailSizeContextProvider", function() { return ThumbnailSizeContextProvider; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


var ThumbnailSizeContext = react__WEBPACK_IMPORTED_MODULE_1___default.a.createContext();
var ThumbnailSizeContextProvider = function ThumbnailSizeContextProvider(_ref) {
  var children = _ref.children;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
      isBigThumbnail = _useState2[0],
      setIsBigThumbnail = _useState2[1];

  var toggleThumbnailSize = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return setIsBigThumbnail(!isBigThumbnail);
  }, [isBigThumbnail, setIsBigThumbnail]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ThumbnailSizeContext.Provider, {
    value: {
      isBigThumbnail: isBigThumbnail,
      toggleThumbnailSize: toggleThumbnailSize
    }
  }, children);
};

/***/ }),

/***/ "EqME":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_TOKEN", function() { return SET_TOKEN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_CLIENT", function() { return SET_CLIENT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REVOKE", function() { return REVOKE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNREVOKE", function() { return UNREVOKE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNLINK", function() { return UNLINK; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setClient", function() { return setClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setToken", function() { return setToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "revokeClient", function() { return revokeClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unlink", function() { return unlink; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_mobile_lib_cozy_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q3u0");
/* harmony import */ var drive_store_persistedState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("1eh9");




var SET_TOKEN = 'SET_TOKEN';
var SET_CLIENT = 'SET_CLIENT';
var REVOKE = 'REVOKE';
var UNREVOKE = 'UNREVOKE';
var UNLINK = 'UNLINK';
var setClient = function setClient(client) {
  return {
    type: SET_CLIENT,
    client: client
  };
};
var setToken = function setToken(token) {
  return {
    type: SET_TOKEN,
    token: token
  };
};
var revokeClient = function revokeClient() {
  return {
    type: REVOKE
  };
};
var unlink = function unlink(client, clientInfo) {
  return /*#__PURE__*/function () {
    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              client.logout();
              Object(drive_mobile_lib_cozy_helper__WEBPACK_IMPORTED_MODULE_2__["resetClient"])(client, clientInfo);
              _context.next = 4;
              return Object(drive_store_persistedState__WEBPACK_IMPORTED_MODULE_3__["resetPersistedState"])();

            case 4:
              return _context.abrupt("return", dispatch({
                type: UNLINK
              }));

            case 5:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }();
};

/***/ }),

/***/ "FKqX":
/***/ (function(module) {

module.exports = {"promoteDesktop":{"isActivated":true}};

/***/ }),

/***/ "FMUz":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Analytics", function() { return Analytics; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("cSBT");
/* harmony import */ var _OnBoardingStep__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+qQ");




var Analytics = function Analytics(_ref) {
  var onActivate = _ref.onActivate,
      onSkip = _ref.onSkip,
      breadcrumbs = _ref.breadcrumbs;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_OnBoardingStep__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onActivate: onActivate,
    onSkip: onSkip,
    stepName: "analytics",
    breadcrumbs: breadcrumbs
  });
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    onActivate: function onActivate() {
      dispatch(Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_2__["setAnalytics"])(true, 'onboarbing'));
      ownProps.nextStep();
    },
    onSkip: function onSkip() {
      dispatch(Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_2__["setAnalytics"])(false));
      ownProps.nextStep();
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps)(Analytics));

/***/ }),

/***/ "Fczp":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-list-min_b90fb9f20d1fd4118bc6735785b3db57",
  "use": "icon-list-min_b90fb9f20d1fd4118bc6735785b3db57-usage",
  "viewBox": "0 0 16 16",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" id=\"icon-list-min_b90fb9f20d1fd4118bc6735785b3db57\">\n    <path fill-rule=\"evenodd\" d=\"M2 13v2H0v-2h2zm14 0v2H4v-2h12zM2 9v2H0V9h2zm14 0v2H4V9h12zM2 5v2H0V5h2zm14 0v2H4V5h12zM2 1v2H0V1h2zm14 0v2H4V1h12z\" />\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "Fnja":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FeedbackForm", function() { return FeedbackForm; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("BJ98");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("buk/");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("rH+U");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("qxHO");
/* harmony import */ var drive_appMetadata__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("unzg");










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }











var FEEDBACK_EMAIL = 'contact@cozycloud.cc';

var FeedbackForm = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(FeedbackForm, _Component);

  var _super = _createSuper(FeedbackForm);

  function FeedbackForm() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FeedbackForm);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      sending: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "submitForm", /*#__PURE__*/function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(e) {
        var _this$props, t, client, envInfo, mailContent, mailData, jobCollection;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                e.preventDefault();
                _this$props = _this.props, t = _this$props.t, client = _this$props.client;
                envInfo = "Cozy Drive Mobile v".concat(drive_appMetadata__WEBPACK_IMPORTED_MODULE_18__["default"].version) + "\nOn ".concat(navigator.platform) + "\nFrom ".concat(navigator.vendor) + "\n".concat(navigator.userAgent);
                mailContent = _this.textarea.value.toString() + '\n_______________\n' + envInfo;
                mailData = {
                  mode: 'from',
                  to: [{
                    name: 'Support',
                    email: FEEDBACK_EMAIL
                  }],
                  subject: t('mobile.rating.email.subject'),
                  parts: [{
                    type: 'text/plain',
                    body: mailContent
                  }]
                };
                _context.prev = 5;

                _this.setState({
                  sending: true
                });

                Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_17__["logInfo"])("feedback logs: ".concat(_this.textarea.value.toString().substr(0, 40)), client.stackClient.uri);
                jobCollection = client.collection('io.cozy.jobs');
                _context.next = 11;
                return jobCollection.create('sendmail', mailData);

              case 11:
                _context.next = 16;
                break;

              case 13:
                _context.prev = 13;
                _context.t0 = _context["catch"](5);
                // Sending the email failed; this can happen because of insuficient permissions for example. Not a big deal either in this context.
                // eslint-disable-next-line no-console
                console.error(_context.t0);

              case 16:
                _this.clearInput();

                _this.setState({
                  sending: false
                });

                _this.props.onClose(true);

              case 19:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[5, 13]]);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FeedbackForm, [{
    key: "registerElement",
    value: function registerElement(element) {
      this.textarea = element;
    }
  }, {
    key: "clearInput",
    value: function clearInput() {
      this.textarea.value = '';
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          onClose = _this$props2.onClose,
          t = _this$props2.t;
      var sending = this.state.sending;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_13__["default"], {
        title: t('mobile.rating.feedback.title'),
        dismissAction: function dismissAction() {
          _this2.clearInput();

          onClose(false);
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_13__["ModalContent"], {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_16___default.a['feedback-form']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("form", {
        className: 'coz-form',
        onSubmit: this.submitForm
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("textarea", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_16___default.a['feedback-text'],
        placeholder: t('mobile.rating.email.placeholder'),
        ref: this.registerElement.bind(this)
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_16___default.a['button-block']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_14__["Button"], {
        theme: 'secondary',
        onClick: function onClick(e) {
          e.preventDefault();

          _this2.clearInput();

          onClose(false);
        },
        label: t('mobile.rating.feedback.no')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_14__["Button"], {
        busy: sending,
        label: t('mobile.rating.feedback.yes')
      })))));
    }
  }]);

  return FeedbackForm;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

FeedbackForm.propTypes = {
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
};

/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_11___default()(cozy_client__WEBPACK_IMPORTED_MODULE_12__["withClient"], Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_15__["translate"])())(FeedbackForm));

/***/ }),

/***/ "GNTO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);





var withInstance = function withInstance(client) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
      instance = _useState2[0],
      setInstance = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
      context = _useState4[0],
      setContext = _useState4[1];

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    var fetchData = /*#__PURE__*/function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var instancePromise, contextPromise, promises, _yield$Promise$all, _yield$Promise$all2, instanceFetched, contextFetched;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                instancePromise = client.getStackClient().fetchJSON('GET', '/settings/instance');
                contextPromise = client.getStackClient().fetchJSON('GET', '/settings/context');
                promises = [instancePromise, contextPromise];
                _context.next = 6;
                return Promise.all(promises.map(function (p) {
                  return p.catch(function (e) {
                    return e;
                  });
                }));

              case 6:
                _yield$Promise$all = _context.sent;
                _yield$Promise$all2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_yield$Promise$all, 2);
                instanceFetched = _yield$Promise$all2[0];
                contextFetched = _yield$Promise$all2[1];

                if (!(instanceFetched instanceof Error)) {
                  setInstance(instanceFetched);
                }

                if (!(contextFetched instanceof Error)) {
                  setContext(contextFetched);
                }

                _context.next = 16;
                break;

              case 14:
                _context.prev = 14;
                _context.t0 = _context["catch"](0);

              case 16:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[0, 14]]);
      }));

      return function fetchData() {
        return _ref.apply(this, arguments);
      };
    }();

    fetchData();
  }, []);
  return {
    instance: instance,
    context: context
  };
};

/* harmony default export */ __webpack_exports__["default"] = (withInstance);

/***/ }),

/***/ "GpAf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("Yo2A");
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("UmWK");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("fD9B");






var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    share: function share(displayedFolder) {
      return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_2__["showModal"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_3__["ShareModal"], {
        document: displayedFolder,
        documentType: "Files",
        sharingDesc: displayedFolder.name
      })));
    }
  };
};

var shareContainer = function shareContainer(component) {
  return Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps)(Object(_toolbar__WEBPACK_IMPORTED_MODULE_4__["default"])(component));
};

/* harmony default export */ __webpack_exports__["default"] = (shareContainer);

/***/ }),

/***/ "Gsrt":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("y6ex");
/* harmony import */ var cozy_ui_transpiled_react_Text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("kyGY");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("buk/");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("OjRq");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("ommj");
/* harmony import */ var drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("QQky");
/* harmony import */ var _MenuItem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("s4+x");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("32XB");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_scanner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("YDfd");













var Menu = function Menu(props) {
  var t = props.t,
      file = props.file,
      actions = props.actions,
      onClose = props.onClose;
  var actionNames = Object.keys(actions).filter(function (actionName) {
    var action = actions[actionName];
    return action.displayCondition === undefined || action.displayCondition([file]);
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default.a['fil-mobileactionmenu'],
    onClose: onClose
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MenuHeaderFile, {
    file: file,
    t: t
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", null), actionNames.map(function (actionName) {
    var Component = actions[actionName].Component || _MenuItem__WEBPACK_IMPORTED_MODULE_9__["default"];
    var action = actions[actionName].action;
    var onClick = action ? function () {
      var promise = action([file]);
      onClose();
      return promise;
    } : null;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, {
      key: actionName,
      className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default.a["fil-action-".concat(actionName)],
      onClick: onClick,
      files: [file]
    }, t("SelectionBar.".concat(actionName)));
  }));
};

var MenuHeaderFile = function MenuHeaderFile(_ref) {
  var file = _ref.file,
      lang = _ref.lang;

  var _CozyFile$splitFilena = models__WEBPACK_IMPORTED_MODULE_6__["CozyFile"].splitFilename(file),
      filename = _CozyFile$splitFilena.filename,
      extension = _CozyFile$splitFilena.extension;

  var scannerT = Object(cozy_scanner__WEBPACK_IMPORTED_MODULE_11__["getBoundT"])(lang);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: 'u-p-1 u-flex u-flex-items-center'
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
    icon: Object(drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_8__["default"])(Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_7__["isDirectory"])(file), file.name, file.mime),
    size: 32,
    className: "u-mr-1"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default.a['fil-mobileactionmenu-header'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default.a['fil-mobileactionmenu-file-name']
  }, filename), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default.a['fil-mobileactionmenu-file-ext']
  }, extension)), file.metadata && file.metadata.label && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "u-coolGrey u-fz-tiny u-fs-normal u-flex u-flex-items-center"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
    icon: "qualify",
    size: "10"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Text__WEBPACK_IMPORTED_MODULE_4__["Caption"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_10___default.a['fil-mobileactionmenu-category'])
  }, scannerT("Scan.items.".concat(file.metadata.label)))))));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])()(Menu));

/***/ }),

/***/ "H+qQ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnBoarding", function() { return OnBoarding; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("jyPq");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_4__);





var OnBoarding = function OnBoarding(_ref) {
  var t = _ref.t,
      breadcrumbs = _ref.breadcrumbs,
      onActivate = _ref.onActivate,
      onSkip = _ref.onSkip,
      stepName = _ref.stepName;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['wizard'], _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['photos-backup'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['wizard-header']
  }, onSkip && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['skipLink'],
    onClick: onSkip
  }, t('mobile.onboarding.step.skip'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['wizard-main']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['illustration'], _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['illustration-' + stepName])
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['title']
  }, t('mobile.onboarding.' + stepName + '.title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['description']
  }, t('mobile.onboarding.' + stepName + '.description'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_4___default.a['wizard-footer']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_3__["Button"], {
    onClick: onActivate,
    label: t(onSkip ? 'mobile.onboarding.step.button' : 'mobile.onboarding.step.next')
  }), breadcrumbs));
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["translate"])()(OnBoarding));

/***/ }),

/***/ "HK68":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fvjX");
/* harmony import */ var redux_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("1mXj");
/* harmony import */ var redux_logger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(redux_logger__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var redux_raven_middleware__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("5yeP");
/* harmony import */ var redux_raven_middleware__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(redux_raven_middleware__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("4kcP");
/* harmony import */ var redux_thunk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("sINF");
/* harmony import */ var _rootReducer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("huNH");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("qxHO");
/* harmony import */ var _connectedRouter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("wj43");
/* global __DEVELOPMENT__, __TARGET__ */








/**
 * Creates the redux store
 *
 * Contains cozy-client's state and router state
 *
 * @param  {Object} options Options
 * @param  {Object} options.client CozyClient
 * @param  {Object} options.t Polygot t function
 * @param  {Object} options.history History
 *
 * @return {ReduxStore}
 */

var configureStore = function configureStore(options) {
  var client = options.client,
      t = options.t,
      _options$initialState = options.initialState,
      initialState = _options$initialState === void 0 ? {} : _options$initialState,
      history = options.history;
  var middlewares = [redux_thunk__WEBPACK_IMPORTED_MODULE_4__["default"].withExtraArgument({
    client: client,
    t: t
  })];

  if (false) {}

  if (Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__["shouldEnableTracking"])() && Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__["getTracker"])()) {
    middlewares.push(Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__["createTrackerMiddleware"])());
  }

  if (options.logger !== false) {
    middlewares.push(Object(redux_logger__WEBPACK_IMPORTED_MODULE_1__["createLogger"])(loggerOptions()));
  } // Enable Redux dev tools


  var composeEnhancers =  true && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || redux__WEBPACK_IMPORTED_MODULE_0__["compose"];
  var rootReducer = Object(_rootReducer__WEBPACK_IMPORTED_MODULE_5__["default"])(client);
  var store = Object(redux__WEBPACK_IMPORTED_MODULE_0__["createStore"])(rootReducer, initialState, composeEnhancers(redux__WEBPACK_IMPORTED_MODULE_0__["applyMiddleware"].apply(void 0, middlewares)));

  if (history) {
    Object(_connectedRouter__WEBPACK_IMPORTED_MODULE_7__["connectStoreToHistory"])(store, history);
  }

  client.setStore(store);
  return store;
};

var loggerOptions = function loggerOptions() {
  return  true ? {} : undefined;
};

/* harmony default export */ __webpack_exports__["default"] = (configureStore);

/***/ }),

/***/ "IFEr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DESKTOP_SOFTWARE_ID", function() { return DESKTOP_SOFTWARE_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "track", function() { return track; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLinux", function() { return isLinux; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAndroid", function() { return isAndroid; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIOS", function() { return isIOS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DESKTOP_BANNER", function() { return DESKTOP_BANNER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NOVIEWER_DESKTOP_CTA", function() { return NOVIEWER_DESKTOP_CTA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClientAlreadyInstalled", function() { return isClientAlreadyInstalled; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("4kcP");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);



var DESKTOP_SOFTWARE_ID = 'github.com/cozy-labs/cozy-desktop';

var track = function track(element) {
  var tracker = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_2__["getTracker"])();
  tracker && tracker.push(['trackEvent', 'interaction', 'desktop-prompt', element]);
};
var isLinux = function isLinux() {
  return window.navigator && window.navigator.appVersion.indexOf('Win') === -1 && window.navigator.appVersion.indexOf('Mac') === -1;
};
var isAndroid = function isAndroid() {
  return window.navigator.userAgent && window.navigator.userAgent.indexOf('Android') >= 0;
};
var isIOS = function isIOS() {
  return window.navigator.userAgent && /iPad|iPhone|iPod/.test(window.navigator.userAgent);
};
var DESKTOP_BANNER = 'desktop_banner';
var NOVIEWER_DESKTOP_CTA = 'noviewer_desktop_cta';
var isClientAlreadyInstalled = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client) {
    var _yield$client$query, data;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return client.query(client.get('io.cozy.settings', 'clients'));

          case 2:
            _yield$client$query = _context.sent;
            data = _yield$client$query.data;
            return _context.abrupt("return", Object.values(data).some(function (device) {
              return lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(device, 'attributes.software_id') === DESKTOP_SOFTWARE_ID;
            }));

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function isClientAlreadyInstalled(_x) {
    return _ref.apply(this, arguments);
  };
}();

/***/ }),

/***/ "IdOc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("buk/");
/* harmony import */ var drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("MM/P");
/* harmony import */ var drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_6__);








var EmptyTrashConfirm = function EmptyTrashConfirm(_ref) {
  var t = _ref.t,
      onConfirm = _ref.onConfirm,
      onClose = _ref.onClose;
  var confirmationTexts = ['forbidden', 'restore'].map(function (type) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_6___default.a['fil-confirm-text'], drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_6___default.a["icon-".concat(type)]),
      key: type
    }, t("emptytrashconfirmation.".concat(type)));
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_4__["default"], {
    title: t('emptytrashconfirmation.title'),
    description: confirmationTexts,
    secondaryType: "secondary",
    secondaryText: t('emptytrashconfirmation.cancel'),
    secondaryAction: onClose,
    primaryType: "danger",
    primaryText: t('emptytrashconfirmation.delete'),
    primaryAction: /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return onConfirm();

            case 2:
              onClose();

            case 3:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }))
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])()(EmptyTrashConfirm));

/***/ }),

/***/ "Ieni":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFileMimetype", function() { return getFileMimetype; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var mime_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("zB2q");
/* harmony import */ var mime_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mime_types__WEBPACK_IMPORTED_MODULE_1__);



var getMimetypeFromFilename = function getMimetypeFromFilename(name) {
  return mime_types__WEBPACK_IMPORTED_MODULE_1___default.a.lookup(name) || 'application/octet-stream';
};

var mappingMimetypeSubtype = {
  word: 'text',
  text: 'text',
  zip: 'zip',
  pdf: 'pdf',
  spreadsheet: 'sheet',
  excel: 'sheet',
  sheet: 'sheet',
  presentation: 'slide',
  powerpoint: 'slide'
};
var getFileMimetype = function getFileMimetype(collection) {
  return function () {
    var mime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    var mimetype = mime === 'application/octet-stream' ? getMimetypeFromFilename(name.toLowerCase()) : mime;

    var _mimetype$split = mimetype.split('/'),
        _mimetype$split2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_mimetype$split, 2),
        type = _mimetype$split2[0],
        subtype = _mimetype$split2[1];

    if (collection[type]) {
      return type;
    }

    if (type === 'application') {
      var existingType = subtype.match(Object.keys(mappingMimetypeSubtype).join('|'));
      return existingType ? mappingMimetypeSubtype[existingType[0]] : undefined;
    }

    return undefined;
  };
};

/***/ }),

/***/ "Ifgp":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react_AppLinker_native__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("AHTZ");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("y6ex");
/* harmony import */ var drive_web_modules_drive_Toolbar_toolbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("fD9B");











var CreateNoteItem = function CreateNoteItem(_ref) {
  var client = _ref.client,
      t = _ref.t,
      displayedFolder = _ref.displayedFolder,
      _ref$hasAppsPermissio = _ref.hasAppsPermissions,
      hasAppsPermissions = _ref$hasAppsPermissio === void 0 ? true : _ref$hasAppsPermissio;
  var capabilities = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useCapabilities"])(client);
  var isFlatDomain = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(capabilities, 'capabilities.data.attributes.flat_subdomains');
  var notesAppUrl = undefined;
  var notesAppIsInstalled = true;

  if (hasAppsPermissions) {
    var _useAppLinkWithStoreF = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useAppLinkWithStoreFallback"])('notes', client),
        fetchStatus = _useAppLinkWithStoreF.fetchStatus,
        url = _useAppLinkWithStoreF.url,
        isInstalled = _useAppLinkWithStoreF.isInstalled;

    if (fetchStatus === 'loaded') {
      notesAppUrl = url;
      notesAppIsInstalled = isInstalled;
    }
  } else {
    notesAppUrl = Object(cozy_ui_transpiled_react_AppLinker_native__WEBPACK_IMPORTED_MODULE_6__["generateWebLink"])({
      slug: 'notes',
      cozyUrl: client.getStackClient().uri,
      subDomainType: isFlatDomain ? 'flat' : 'nested'
    });
  }

  var returnUrl = '';

  if (displayedFolder) {
    returnUrl = Object(cozy_ui_transpiled_react_AppLinker_native__WEBPACK_IMPORTED_MODULE_6__["generateUniversalLink"])({
      slug: 'drive',
      cozyUrl: client.getStackClient().uri,
      subDomainType: isFlatDomain ? 'flat' : 'nested',
      nativePath: "/files/".concat(displayedFolder.id)
    });
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_7__["ActionMenuItem"], {
    "data-test-id": "create-a-note",
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
      icon: "note"
    }),
    onClick: /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      var _yield$client$create, file;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (!(notesAppUrl === undefined)) {
                _context.next = 2;
                break;
              }

              return _context.abrupt("return");

            case 2:
              if (!notesAppIsInstalled) {
                _context.next = 12;
                break;
              }

              _context.next = 5;
              return client.create('io.cozy.notes', {
                dir_id: displayedFolder.id
              });

            case 5:
              _yield$client$create = _context.sent;
              file = _yield$client$create.data;
              _context.next = 9;
              return cozy_client__WEBPACK_IMPORTED_MODULE_5__["models"].note.generatePrivateUrl(notesAppUrl, file, {
                returnUrl: returnUrl
              });

            case 9:
              window.location.href = _context.sent;
              _context.next = 13;
              break;

            case 12:
              window.location.href = notesAppUrl;

            case 13:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }))
  }, t('toolbar.menu_create_note'));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["withClient"])(Object(drive_web_modules_drive_Toolbar_toolbar__WEBPACK_IMPORTED_MODULE_9__["default"])(CreateNoteItem))));

/***/ }),

/***/ "J3YJ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("XxWZ");
/* harmony import */ var drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3__);


/* global __TARGET__ */




var Topbar = function Topbar(_ref) {
  var _classNames;

  var children = _ref.children,
      _ref$hideOnMobile = _ref.hideOnMobile,
      hideOnMobile = _ref$hideOnMobile === void 0 ? true : _ref$hideOnMobile;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['fil-topbar'], (_classNames = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_classNames, drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['mobile'], "browser" === 'mobile'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_classNames, drive_styles_topbar_styl__WEBPACK_IMPORTED_MODULE_3___default.a['hidden-mobile'], hideOnMobile), _classNames))
  }, children);
};

/* harmony default export */ __webpack_exports__["default"] = (Topbar);

/***/ }),

/***/ "JZSQ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRenaming", function() { return isRenaming; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRenamingFile", function() { return getRenamingFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUpdatedName", function() { return getUpdatedName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startRenaming", function() { return startRenaming; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "abortRenaming", function() { return abortRenaming; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startRenamingAsync", function() { return startRenamingAsync; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__);



// constants
var START_RENAMING = 'START_RENAMING';
var ABORT_RENAMING = 'ABORT_RENAMING'; // reducers

var initialState = {
  file: null,
  name: null
};

var renameReducer = function renameReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case START_RENAMING:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, state, {
        file: action.file,
        name: action.file.name
      });

    case ABORT_RENAMING:
      return initialState;

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (renameReducer); // selectors

var isRenaming = function isRenaming(state) {
  return state.rename !== initialState;
};
var getRenamingFile = function getRenamingFile(state) {
  return state.rename.file;
};
var getUpdatedName = function getUpdatedName(state) {
  return state.rename.name;
}; // action creators sync

var startRenaming = function startRenaming(file) {
  return {
    type: START_RENAMING,
    file: file
  };
};
var abortRenaming = function abortRenaming() {
  return {
    type: ABORT_RENAMING
  };
}; // action creators async

var startRenamingAsync = function startRenamingAsync(file) {
  return /*#__PURE__*/function () {
    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return dispatch(startRenaming(file));

            case 2:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }();
};

/***/ }),

/***/ "K65c":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8IyR");
/* harmony import */ var drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("bZMm");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("i8i4");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("dtw8");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("buk/");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("4kcP");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("qxHO");
/* harmony import */ var drive_lib_registerClientPlugins__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("LW8N");
/* harmony import */ var drive_appMetadata__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("unzg");
/* harmony import */ var drive_web_modules_navigation_AppRoute__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("YJGQ");
/* harmony import */ var drive_store_configureStore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("HK68");
/* harmony import */ var drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("z6Q1");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("0cfB");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("Le8U");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var components_App_App__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("BIwB");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("kdbL");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_17__);
/* global cozy, __DEVELOPMENT__ */
// eslint-disable-next-line no-unused-vars



















if (true) {
  window.flag = cozy_flags__WEBPACK_IMPORTED_MODULE_17___default.a;
}

document.addEventListener('DOMContentLoaded', function () {
  var root = document.querySelector('[role=application]');
  var data = root.dataset;
  var protocol = window.location ? window.location.protocol : 'https:';
  var cozyUrl = "".concat(protocol, "//").concat(data.cozyDomain);
  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__["configureReporter"])();
  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__["setCozyUrl"])(cozyUrl);
  var client = new cozy_client__WEBPACK_IMPORTED_MODULE_6___default.a({
    uri: cozyUrl,
    token: data.cozyToken,
    appMetadata: drive_appMetadata__WEBPACK_IMPORTED_MODULE_10__["default"],
    schema: drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_13__["schema"]
  });

  if (!cozy_doctypes__WEBPACK_IMPORTED_MODULE_15__["Document"].cozyClient) {
    cozy_doctypes__WEBPACK_IMPORTED_MODULE_15__["Document"].registerClient(client);
  }

  Object(drive_lib_registerClientPlugins__WEBPACK_IMPORTED_MODULE_9__["default"])(client);
  var polyglot = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["initTranslation"])(data.cozyLocale, function (lang) {
    return __webpack_require__("tqYW")("./".concat(lang));
  });
  var history = react_router__WEBPACK_IMPORTED_MODULE_4__["hashHistory"];
  var store = Object(drive_store_configureStore__WEBPACK_IMPORTED_MODULE_12__["default"])({
    client: client,
    t: polyglot.t.bind(polyglot),
    history: history
  });
  cozy.client.init({
    cozyURL: cozyUrl,
    token: data.cozyToken
  });
  cozy.bar.init({
    appName: data.cozyAppName,
    appEditor: data.cozyAppEditor,
    cozyClient: client,
    iconPath: data.cozyIconPath,
    lang: data.cozyLocale,
    replaceTitleOnMobile: false
  });

  if (Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_7__["shouldEnableTracking"])() && Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_7__["getTracker"])()) {
    var trackerInstance = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_7__["getTracker"])();
    history = trackerInstance.connectToHistory(react_router__WEBPACK_IMPORTED_MODULE_4__["hashHistory"]);
    trackerInstance.track(react_router__WEBPACK_IMPORTED_MODULE_4__["hashHistory"].getCurrentLocation()); // when using a hash history, the initial visit is not tracked by piwik react router
  }

  Object(react_dom__WEBPACK_IMPORTED_MODULE_3__["render"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(HotedApp, {
    lang: data.cozyLocale,
    polyglot: polyglot,
    client: client,
    history: history,
    store: store
  }), root);
});

var AppComponent = function AppComponent(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(components_App_App__WEBPACK_IMPORTED_MODULE_16__["default"], props, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_4__["Router"], {
    history: props.history,
    routes: drive_web_modules_navigation_AppRoute__WEBPACK_IMPORTED_MODULE_11__["default"]
  }));
};

var HotedApp = Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_14__["hot"])(module)(AppComponent);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("3UD+")(module)))

/***/ }),

/***/ "KOJc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyDrive", function() { return EmptyDrive; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyPhotos", function() { return EmptyPhotos; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyTrash", function() { return EmptyTrash; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("GoJ1");
/* harmony import */ var drive_assets_icons_icon_type_folder_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("w0Z6");
/* harmony import */ var photos_assets_icons_icon_main_app_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a4ea");
/* harmony import */ var drive_assets_icons_icon_trash_big_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Wu9Y");







var EmptyIcon = {
  drive: drive_assets_icons_icon_type_folder_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
  photos: photos_assets_icons_icon_main_app_svg__WEBPACK_IMPORTED_MODULE_5__["default"],
  trash: drive_assets_icons_icon_trash_big_svg__WEBPACK_IMPORTED_MODULE_6__["default"]
};
var EmptyCanvas = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["translate"])()(function (_ref) {
  var t = _ref.t,
      type = _ref.type,
      canUpload = _ref.canUpload,
      localeKey = _ref.localeKey;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_3__["default"], {
    "data-test-id": "empty-folder",
    icon: EmptyIcon[type],
    title: localeKey ? t("empty.".concat(localeKey, "_title")) : t('empty.title'),
    text: localeKey && t("empty.".concat(localeKey, "_text")) || canUpload && t('empty.text')
  });
});
/* harmony default export */ __webpack_exports__["default"] = (EmptyCanvas);
var EmptyDrive = function EmptyDrive(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(EmptyCanvas, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    type: "drive"
  }, props));
};
var EmptyPhotos = function EmptyPhotos(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(EmptyCanvas, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    type: "photos"
  }, props));
};
var EmptyTrash = function EmptyTrash(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(EmptyCanvas, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    type: "trash",
    localeKey: "trash"
  }, props));
};

/***/ }),

/***/ "KaFd":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadPreparing = function UploadPreparing(_ref) {
  var t = _ref.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-wrapper']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['infinite-progress'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['infinite-progress--global'])
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status--waiting'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, t('mobile.settings.media_backup.preparing'))));
};

UploadPreparing.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadPreparing);

/***/ }),

/***/ "LQkU":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("KGD5");
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_5__);







var RealTimeQueries = function RealTimeQueries(_ref) {
  var doctype = _ref.doctype;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useClient"])();

  var dispatchChange = function dispatchChange(document, mutationDefinitionCreator) {
    var response = {
      data: cozy_client__WEBPACK_IMPORTED_MODULE_4__["models"].file.normalize(document)
    };
    var options = {};
    client.dispatch(Object(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_5__["receiveMutationResult"])(client.generateId(), response, options, mutationDefinitionCreator(document)));
  };

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    var realtime = client.plugins.realtime;

    var dispatchCreate = function dispatchCreate(document) {
      dispatchChange(document, cozy_client__WEBPACK_IMPORTED_MODULE_4__["Mutations"].createDocument);
    };

    var dispatchUpdate = function dispatchUpdate(document) {
      dispatchChange(document, cozy_client__WEBPACK_IMPORTED_MODULE_4__["Mutations"].updateDocument);
    };

    var dispatchDelete = function dispatchDelete(document) {
      dispatchChange(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({}, document, {
        _deleted: true
      }), cozy_client__WEBPACK_IMPORTED_MODULE_4__["Mutations"].deleteDocument);
    };

    var subscribe = /*#__PURE__*/function () {
      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return realtime.subscribe('created', doctype, dispatchCreate);

              case 2:
                _context.next = 4;
                return realtime.subscribe('updated', doctype, dispatchUpdate);

              case 4:
                _context.next = 6;
                return realtime.subscribe('deleted', doctype, dispatchDelete);

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function subscribe() {
        return _ref2.apply(this, arguments);
      };
    }();

    subscribe();
    return function () {
      realtime.unsubscribe('created', doctype, dispatchCreate);
      realtime.unsubscribe('updated', doctype, dispatchUpdate);
      realtime.unsubscribe('deleted', doctype, dispatchDelete);
    };
  }, [client, dispatchChange]);
  return null;
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_3__["memo"])(RealTimeQueries));

/***/ }),

/***/ "LW8N":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("oBqo");
/* harmony import */ var cozy_realtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_realtime__WEBPACK_IMPORTED_MODULE_0__);


var registerClientPlugins = function registerClientPlugins(client) {
  client.registerPlugin(cozy_realtime__WEBPACK_IMPORTED_MODULE_0__["RealtimePlugin"]);
};

/* harmony default export */ __webpack_exports__["default"] = (registerClientPlugins);

/***/ }),

/***/ "MCe/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("BJ98");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("y6ex");
/* harmony import */ var _delete__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("ebEV");








var DeleteItem = function DeleteItem(_ref) {
  var t = _ref.t,
      isSharedWithMe = _ref.isSharedWithMe,
      displayedFolder = _ref.displayedFolder,
      trashFolder = _ref.trashFolder,
      onLeave = _ref.onLeave;
  return isSharedWithMe ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__["ActionMenuItem"], {
    "data-test-id": "fil-action-delete",
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
      icon: "trash",
      color: "var(--pomegranate)"
    }),
    onClick: function onClick() {
      return onLeave(displayedFolder).then(function () {
        return trashFolder(displayedFolder);
      });
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "u-pomegranate"
  }, t('toolbar.leave'))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__["ActionMenuItem"], {
    "data-test-id": "fil-action-delete",
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
      icon: "trash",
      color: "var(--pomegranate)"
    }),
    onClick: function onClick() {
      trashFolder(displayedFolder);
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "u-pomegranate"
  }, t('toolbar.trash')));
};

DeleteItem.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  isSharedWithMe: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  displayedFolder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  trashFolder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  onLeave: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])(), _delete__WEBPACK_IMPORTED_MODULE_6__["default"])(DeleteItem));

/***/ }),

/***/ "MFii":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAnyFileReferencedByAlbum", function() { return isAnyFileReferencedByAlbum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "downloadFiles", function() { return downloadFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trashFiles", function() { return trashFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exportFilesNative", function() { return exportFilesNative; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openFileWith", function() { return openFileWith; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "restoreFiles", function() { return restoreFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteFilesPermanently", function() { return deleteFilesPermanently; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "emptyTrash", function() { return emptyTrash; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("KGD5");
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("67rm");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("ommj");
/* harmony import */ var cozy_stack_client_dist_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("aLBg");
/* harmony import */ var cozy_stack_client_dist_utils__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_stack_client_dist_utils__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("1aVK");



function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }





 // TODO move to cozy-client models



var fileModel = cozy_client__WEBPACK_IMPORTED_MODULE_2__["models"].file;
var isDirectory = fileModel.isDirectory;
var isAnyFileReferencedByAlbum = function isAnyFileReferencedByAlbum(files) {
  for (var i = 0, l = files.length; i < l; ++i) {
    if (Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_6__["isReferencedByAlbum"])(files[i])) return true;
  }

  return false;
};

var isMissingFileError = function isMissingFileError(error) {
  return error.status === 404;
};

var downloadFileError = function downloadFileError(error) {
  return isMissingFileError(error) ? 'error.download_file.missing' : 'error.download_file.offline';
};

var openFileDownloadError = function openFileDownloadError(error) {
  return isMissingFileError(error) ? 'mobile.error.open_with.missing' : 'mobile.error.open_with.offline';
};
/**
 * An instance of cozy-client
 * @typedef {object} CozyClient
 */

/**
 * downloadFiles - Triggers the download of one or multiple files by the browser
 *
 * @param {CozyClient} client
 * @param {array} files  One or more files to download
 */


var downloadFiles = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, files) {
    var file, filename, downloadURL, ids, href, fullpath;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!(files.length === 1 && !isDirectory(files[0]))) {
              _context.next = 15;
              break;
            }

            file = files[0];
            _context.prev = 2;
            filename = file.name;
            _context.next = 6;
            return client.collection('io.cozy.files').getDownloadLinkById(file.id, filename);

          case 6:
            downloadURL = _context.sent;
            Object(cozy_stack_client_dist_utils__WEBPACK_IMPORTED_MODULE_7__["forceFileDownload"])("".concat(downloadURL, "?Dl=1"), filename);
            _context.next = 13;
            break;

          case 10:
            _context.prev = 10;
            _context.t0 = _context["catch"](2);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error(downloadFileError(_context.t0));

          case 13:
            _context.next = 21;
            break;

          case 15:
            ids = files.map(function (f) {
              return f.id;
            });
            _context.next = 18;
            return client.collection('io.cozy.files').getArchiveLinkByIds(ids);

          case 18:
            href = _context.sent;
            fullpath = "".concat(client.getStackClient().uri).concat(href);
            Object(cozy_stack_client_dist_utils__WEBPACK_IMPORTED_MODULE_7__["forceFileDownload"])(fullpath, 'files.zip');

          case 21:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[2, 10]]);
  }));

  return function downloadFiles(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

var isAlreadyInTrash = function isAlreadyInTrash(err) {
  var reasons = err.reason !== undefined ? err.reason.errors : undefined;

  if (reasons) {
    var _iterator = _createForOfIteratorHelper(reasons),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var reason = _step.value;

        if (reason.detail === 'File or directory is already in the trash') {
          return true;
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  }

  return false;
};
/**
 * trashFiles - Moves a set of files to the cozy trash
 *
 * @param {CozyClient} client
 * @param {array} files  One or more files to trash
 */


var trashFiles = /*#__PURE__*/function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, files) {
    var _iterator2, _step2, file, _yield$client$collect, updatedFile;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.prev = 0;
            _iterator2 = _createForOfIteratorHelper(files);
            _context2.prev = 2;

            _iterator2.s();

          case 4:
            if ((_step2 = _iterator2.n()).done) {
              _context2.next = 14;
              break;
            }

            file = _step2.value;
            _context2.next = 8;
            return client.collection('io.cozy.files').destroy(file);

          case 8:
            _yield$client$collect = _context2.sent;
            updatedFile = _yield$client$collect.data;
            client.store.dispatch(Object(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__["receiveQueryResult"])(null, {
              data: updatedFile
            }));
            client.collection('io.cozy.permissions').revokeSharingLink(file);

          case 12:
            _context2.next = 4;
            break;

          case 14:
            _context2.next = 19;
            break;

          case 16:
            _context2.prev = 16;
            _context2.t0 = _context2["catch"](2);

            _iterator2.e(_context2.t0);

          case 19:
            _context2.prev = 19;

            _iterator2.f();

            return _context2.finish(19);

          case 22:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].success('alert.trash_file_success');
            _context2.next = 28;
            break;

          case 25:
            _context2.prev = 25;
            _context2.t1 = _context2["catch"](0);

            if (!isAlreadyInTrash(_context2.t1)) {
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error('alert.try_again');
            }

          case 28:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[0, 25], [2, 16, 19, 22]]);
  }));

  return function trashFiles(_x3, _x4) {
    return _ref2.apply(this, arguments);
  };
}();
/**
 * exportFilesNative - Triggers a prompt to download a file on mobile devices
 *
 * @param {CozyClient} client
 * @param {array} files    One or more files to download
 * @param {string} filename The name of the file that will be saved
 */

var exportFilesNative = /*#__PURE__*/function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(client, files, filename) {
    var downloadAllFiles, urls;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            downloadAllFiles = files.map( /*#__PURE__*/function () {
              var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(file) {
                var response, blob, filenameToUse, localFile;
                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
                  while (1) {
                    switch (_context3.prev = _context3.next) {
                      case 0:
                        _context3.next = 2;
                        return client.collection('io.cozy.files').fetchFileContent(file.id);

                      case 2:
                        response = _context3.sent;
                        _context3.next = 5;
                        return response.blob();

                      case 5:
                        blob = _context3.sent;
                        filenameToUse = filename ? filename : file.name;
                        _context3.next = 9;
                        return Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_8__["saveFileWithCordova"])(blob, filenameToUse);

                      case 9:
                        localFile = _context3.sent;
                        return _context3.abrupt("return", localFile.nativeURL);

                      case 11:
                      case "end":
                        return _context3.stop();
                    }
                  }
                }, _callee3);
              }));

              return function (_x8) {
                return _ref4.apply(this, arguments);
              };
            }());
            _context4.prev = 1;
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].info('alert.preparing', {
              duration: Math.min(downloadAllFiles.length * 2000, 6000)
            }); // TODO use a promise pool here

            _context4.next = 5;
            return Promise.all(downloadAllFiles);

          case 5:
            urls = _context4.sent;

            if (urls.length === 1 && Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isIOS"])()) {
              //TODO
              //It seems that files: is not well supported on iOS. url seems to work well
              //at with one file. Need to check when severals
              window.plugins.socialsharing.shareWithOptions({
                url: urls[0]
              }, function (result) {
                if (result.completed === true) {
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].success('mobile.download.success');
                }
              }, function (error) {
                throw error;
              });
            } else {
              window.plugins.socialsharing.shareWithOptions({
                files: urls
              }, null, function (error) {
                throw error;
              });
            }

            _context4.next = 12;
            break;

          case 9:
            _context4.prev = 9;
            _context4.t0 = _context4["catch"](1);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error(downloadFileError(_context4.t0));

          case 12:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4, null, [[1, 9]]);
  }));

  return function exportFilesNative(_x5, _x6, _x7) {
    return _ref3.apply(this, arguments);
  };
}();
/**
 * openFileWith - Opens a file on a mobile device
 *
 * @param {CozyClient} client
 * @param {object} file   io.cozy.files document
 */

var openFileWith = /*#__PURE__*/function () {
  var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(client, file) {
    var fileData, blob;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            if (!(Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isMobileApp"])() && window.cordova.plugins.fileOpener2)) {
              _context5.next = 24;
              break;
            }

            _context5.prev = 1;
            _context5.next = 4;
            return client.collection('io.cozy.files').fetchFileContent(file.id);

          case 4:
            fileData = _context5.sent;
            _context5.next = 11;
            break;

          case 7:
            _context5.prev = 7;
            _context5.t0 = _context5["catch"](1);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error(openFileDownloadError(_context5.t0));
            throw _context5.t0;

          case 11:
            _context5.next = 13;
            return fileData.blob();

          case 13:
            blob = _context5.sent;
            _context5.prev = 14;
            _context5.next = 17;
            return Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_8__["saveAndOpenWithCordova"])(blob, file);

          case 17:
            _context5.next = 22;
            break;

          case 19:
            _context5.prev = 19;
            _context5.t1 = _context5["catch"](14);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].info('mobile.error.open_with.noapp', {
              fileMime: file.mime
            });

          case 22:
            _context5.next = 25;
            break;

          case 24:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].info('mobile.error.open_with.noapp', {
              fileMime: file.mime
            });

          case 25:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5, null, [[1, 7], [14, 19]]);
  }));

  return function openFileWith(_x9, _x10) {
    return _ref5.apply(this, arguments);
  };
}();
var restoreFiles = /*#__PURE__*/function () {
  var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(client, files) {
    var _iterator3, _step3, file;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _iterator3 = _createForOfIteratorHelper(files);
            _context6.prev = 1;

            _iterator3.s();

          case 3:
            if ((_step3 = _iterator3.n()).done) {
              _context6.next = 9;
              break;
            }

            file = _step3.value;
            _context6.next = 7;
            return client.collection('io.cozy.files').restore(file.id);

          case 7:
            _context6.next = 3;
            break;

          case 9:
            _context6.next = 14;
            break;

          case 11:
            _context6.prev = 11;
            _context6.t0 = _context6["catch"](1);

            _iterator3.e(_context6.t0);

          case 14:
            _context6.prev = 14;

            _iterator3.f();

            return _context6.finish(14);

          case 17:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6, null, [[1, 11, 14, 17]]);
  }));

  return function restoreFiles(_x11, _x12) {
    return _ref6.apply(this, arguments);
  };
}();
var deleteFilesPermanently = /*#__PURE__*/function () {
  var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(client, files) {
    var _iterator4, _step4, file;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            _iterator4 = _createForOfIteratorHelper(files);
            _context7.prev = 1;

            _iterator4.s();

          case 3:
            if ((_step4 = _iterator4.n()).done) {
              _context7.next = 9;
              break;
            }

            file = _step4.value;
            _context7.next = 7;
            return client.collection('io.cozy.files').deleteFilePermanently(file.id);

          case 7:
            _context7.next = 3;
            break;

          case 9:
            _context7.next = 14;
            break;

          case 11:
            _context7.prev = 11;
            _context7.t0 = _context7["catch"](1);

            _iterator4.e(_context7.t0);

          case 14:
            _context7.prev = 14;

            _iterator4.f();

            return _context7.finish(14);

          case 17:
          case "end":
            return _context7.stop();
        }
      }
    }, _callee7, null, [[1, 11, 14, 17]]);
  }));

  return function deleteFilesPermanently(_x13, _x14) {
    return _ref7.apply(this, arguments);
  };
}();
var emptyTrash = /*#__PURE__*/function () {
  var _ref8 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee8(client) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].info('alert.empty_trash_progress');
            _context8.prev = 1;
            _context8.next = 4;
            return client.collection('io.cozy.files').emptyTrash();

          case 4:
            _context8.next = 9;
            break;

          case 6:
            _context8.prev = 6;
            _context8.t0 = _context8["catch"](1);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error('alert.try_again');

          case 9:
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].info('alert.empty_trash_success');

          case 10:
          case "end":
            return _context8.stop();
        }
      }
    }, _callee8, null, [[1, 6]]);
  }));

  return function emptyTrash(_x15) {
    return _ref8.apply(this, arguments);
  };
}();

/***/ }),

/***/ "MM/P":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"u-debug":"u-debug--_mty_","u-shake":"u-shake--nuBmh","shake":"shake--lpeSa","u-o-100":"u-o-100--3su7-","u-o-90":"u-o-90--3yl8f","u-o-80":"u-o-80--21qpX","u-o-70":"u-o-70--3_en4","u-o-60":"u-o-60--gYFeo","u-o-50":"u-o-50--thX1V","u-o-40":"u-o-40--3p3K-","u-o-30":"u-o-30--2-49_","u-o-20":"u-o-20--10CPa","u-o-10":"u-o-10--3ZS1T","u-o-05":"u-o-05--290NQ","u-o-025":"u-o-025--N7xEh","u-o-0":"u-o-0--2w0iM","fil-confirm-text":"fil-confirm-text--1mg03","icon-trash":"icon-trash--2KM7n","icon-restore":"icon-restore--pj-pW","icon-shared":"icon-shared--2V24-","icon-referenced":"icon-referenced--sXXbJ","icon-forbidden":"icon-forbidden--mnnYN","fil-confirm-recipients":"fil-confirm-recipients--ktcey","spin":"spin--oXa2w"};

/***/ }),

/***/ "MpOc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddFolder", function() { return AddFolder; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("BJ98");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("ufaa");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("67rm");
/* harmony import */ var drive_web_modules_filelist_FilenameInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("9Etc");
/* harmony import */ var drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("37ak");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("yEaX");
/* harmony import */ var drive_web_modules_filelist_Cell__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("o3iJ");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var drive_web_modules_filelist_FileThumbnail__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("oRqk");















var AddFolder = function AddFolder(_ref) {
  var f = _ref.f,
      visible = _ref.visible,
      onSubmit = _ref.onSubmit,
      onAbort = _ref.onAbort,
      isMobile = _ref.breakpoints.isMobile;
  return !visible ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-content-row']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_Cell__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-content-file-select']
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileThumbnail__WEBPACK_IMPORTED_MODULE_13__["default"], {
    file: {
      type: 'directory'
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_Cell__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-content-file'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FilenameInput__WEBPACK_IMPORTED_MODULE_8__["default"], {
    onSubmit: onSubmit,
    onAbort: onAbort
  })), !isMobile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_Cell__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-content-date']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("time", {
    dateTime: ""
  }, f(Date.now(), 'MMM D, YYYY'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_Cell__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-content-size']
  }, "\u2014"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_Cell__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-content-status']
  }, "\u2014")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_Cell__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-content-file-action']
  }));
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    visible: Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_9__["isTypingNewFolderName"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    onSubmit: function onSubmit(name) {
      return dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_10__["createFolder"])(ownProps.client, name)).then(function () {
        if (ownProps.refreshFolderContent) ownProps.refreshFolderContent();
        return dispatch(Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_9__["hideNewFolderInput"])());
      });
    },
    onAbort: function onAbort(accidental) {
      if (accidental) {
        cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_7__["default"].info('alert.folder_abort');
      }

      dispatch(Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_9__["hideNewFolderInput"])());
    }
  };
};


/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_4___default()(cozy_client__WEBPACK_IMPORTED_MODULE_3__["withClient"], Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])(), Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps), Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_6__["default"])())(AddFolder));

/***/ }),

/***/ "N7KD":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("qxHO");
/* harmony import */ var _duck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("cSBT");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }







var Checkbox = function Checkbox(_ref) {
  var onChange = _ref.onChange,
      value = _ref.value,
      title = _ref.title;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", null, title, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input", {
    type: "checkbox",
    checked: value,
    onChange: onChange
  }));
};

var DebugTools = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(DebugTools, _Component);

  var _super = _createSuper(DebugTools);

  function DebugTools() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, DebugTools);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(DebugTools, [{
    key: "sendSentryException",
    value: function sendSentryException() {
      Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__["logException"])('a debug exception');
    }
  }, {
    key: "sendSentryMessage",
    value: function sendSentryMessage() {
      Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_8__["logInfo"])('a debug message');
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h4", null, "Sentry"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_7__["Button"], {
        onClick: function onClick() {
          return _this.sendSentryException();
        },
        label: "send exception"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_7__["Button"], {
        onClick: function onClick() {
          return _this.sendSentryMessage();
        },
        label: "send message"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h4", null, "Offline"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Checkbox, {
        title: "First Replication",
        value: this.props.firstReplication,
        onChange: this.props.setFirstReplication
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Checkbox, {
        title: "Offline",
        value: this.props.offline,
        onChange: this.props.setOffline
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("hr", null));
    }
  }]);

  return DebugTools;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

var mapStateToProps = function mapStateToProps(state) {
  return {
    offline: Object(_duck__WEBPACK_IMPORTED_MODULE_9__["isOfflineCapable"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    setOffline: function setOffline(e) {
      return dispatch(Object(_duck__WEBPACK_IMPORTED_MODULE_9__["setOffline"])(e.target.checked));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["connect"])(mapStateToProps, mapDispatchToProps)(DebugTools));

/***/ }),

/***/ "NMd3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cancelMediaBackup", function() { return cancelMediaBackup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startMediaBackup", function() { return startMediaBackup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backupImages", function() { return backupImages; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("fKGi");
/* harmony import */ var drive_mobile_lib_network__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("nfx8");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("qxHO");
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("cSBT");
/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("QASb");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("aNx5");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _reducer__WEBPACK_IMPORTED_MODULE_7__["default"]; });




function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }







var cancelMediaBackup = function cancelMediaBackup() {
  return {
    type: _reducer__WEBPACK_IMPORTED_MODULE_7__["MEDIA_UPLOAD_CANCEL"]
  };
};

var currentMediaUpload = function currentMediaUpload(media, uploadCounter, totalUpload) {
  return {
    type: _reducer__WEBPACK_IMPORTED_MODULE_7__["CURRENT_UPLOAD"],
    media: media,
    messageData: {
      current: uploadCounter,
      total: totalUpload
    }
  };
};

var canBackup = function canBackup(isManualBackup, getState) {
  var backupOnAnyNetworkType = !getState().mobile.settings.wifiOnly;
  return (isManualBackup || getState().mobile.settings.backupImages) && (Object(drive_mobile_lib_network__WEBPACK_IMPORTED_MODULE_3__["isWifi"])() || backupOnAnyNetworkType);
};

var startMediaBackup = function startMediaBackup() {
  var isManualBackup = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return /*#__PURE__*/function () {
    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch, getState, _ref) {
      var client, promptForPermissions, receivedAuthorisation, photosOnDevice, alreadyUploaded, photosToUpload, totalUpload, _yield$getUploadDir, uploadDirId, uploadDirPath, uploadCounter, _iterator, _step, photo;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              client = _ref.client;
              dispatch({
                type: _reducer__WEBPACK_IMPORTED_MODULE_7__["MEDIA_UPLOAD_START"]
              });
              client.getStackClient().fetchJSON('POST', '/settings/synchronized');
              _context.next = 5;
              return Object(drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_2__["isAuthorized"])();

            case 5:
              if (_context.sent) {
                _context.next = 14;
                break;
              }

              promptForPermissions = isManualBackup;
              _context.next = 9;
              return updateValueAfterRequestAuthorization(promptForPermissions);

            case 9:
              receivedAuthorisation = _context.sent;
              // manual backup is only possible if the authorization is accepted
              if (isManualBackup && !receivedAuthorisation) isManualBackup = false; // disable backupImages when authorization is refused

              if (!(getState().mobile.settings.backupImages && !receivedAuthorisation)) {
                _context.next = 14;
                break;
              }

              _context.next = 14;
              return dispatch(Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__["setBackupImages"])(false));

            case 14:
              if (!canBackup(isManualBackup, getState)) {
                _context.next = 58;
                break;
              }

              _context.prev = 15;
              _context.next = 18;
              return Object(drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_2__["getPhotos"])();

            case 18:
              photosOnDevice = _context.sent;
              alreadyUploaded = getState().mobile.mediaBackup.uploaded;
              photosToUpload = photosOnDevice.filter(function (photo) {
                return !alreadyUploaded.includes(photo.id);
              });
              totalUpload = photosToUpload.length;

              if (!(totalUpload > 0)) {
                _context.next = 49;
                break;
              }

              _context.next = 25;
              return Object(_files__WEBPACK_IMPORTED_MODULE_6__["getUploadDir"])(client);

            case 25:
              _yield$getUploadDir = _context.sent;
              uploadDirId = _yield$getUploadDir._id;
              uploadDirPath = _yield$getUploadDir.attributes.path;
              uploadCounter = 0;
              _iterator = _createForOfIteratorHelper(photosToUpload);
              _context.prev = 30;

              _iterator.s();

            case 32:
              if ((_step = _iterator.n()).done) {
                _context.next = 41;
                break;
              }

              photo = _step.value;

              if (!(getState().mobile.mediaBackup.cancelMediaBackup || getState().mobile.mediaBackup.diskQuotaReached || !canBackup(isManualBackup, getState))) {
                _context.next = 36;
                break;
              }

              return _context.abrupt("break", 41);

            case 36:
              dispatch(currentMediaUpload(photo, uploadCounter++, totalUpload));
              _context.next = 39;
              return dispatch(Object(_files__WEBPACK_IMPORTED_MODULE_6__["uploadPhoto"])(uploadDirPath, uploadDirId, photo, client));

            case 39:
              _context.next = 32;
              break;

            case 41:
              _context.next = 46;
              break;

            case 43:
              _context.prev = 43;
              _context.t0 = _context["catch"](30);

              _iterator.e(_context.t0);

            case 46:
              _context.prev = 46;

              _iterator.f();

              return _context.finish(46);

            case 49:
              client.getStackClient().fetchJSON('POST', '/settings/synchronized');
              _context.next = 56;
              break;

            case 52:
              _context.prev = 52;
              _context.t1 = _context["catch"](15);
              dispatch({
                type: _reducer__WEBPACK_IMPORTED_MODULE_7__["MEDIA_UPLOAD_ABORT"]
              });
              if (!_context.t1.message.match(/Failed to fetch/)) Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_4__["logException"])("Unexpected error during the files backup (".concat(_context.t1.message, ")"));

            case 56:
              _context.next = 59;
              break;

            case 58:
              dispatch({
                type: _reducer__WEBPACK_IMPORTED_MODULE_7__["MEDIA_UPLOAD_ABORT"]
              });

            case 59:
              dispatch({
                type: _reducer__WEBPACK_IMPORTED_MODULE_7__["MEDIA_UPLOAD_END"]
              });

            case 60:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[15, 52], [30, 43, 46, 49]]);
    }));

    return function (_x, _x2, _x3) {
      return _ref2.apply(this, arguments);
    };
  }();
};
var backupImages = function backupImages(_backupImages) {
  var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return /*#__PURE__*/function () {
    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(dispatch, getState) {
      var isAuthorized, _require, updateStatusBackgroundService;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              if (!(getState().mobile.mediaBackup.running === true && !force)) {
                _context2.next = 2;
                break;
              }

              return _context2.abrupt("return");

            case 2:
              if (!(_backupImages === undefined)) {
                _context2.next = 6;
                break;
              }

              _backupImages = getState().mobile.settings.backupImages;
              _context2.next = 8;
              break;

            case 6:
              _context2.next = 8;
              return dispatch(Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__["setBackupImages"])(_backupImages));

            case 8:
              _context2.next = 10;
              return updateValueAfterRequestAuthorization(_backupImages);

            case 10:
              isAuthorized = _context2.sent;

              if (_backupImages && !isAuthorized) {
                _backupImages = isAuthorized;
                dispatch(Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__["setBackupImages"])(_backupImages));
              }

              _require = __webpack_require__("UQWb"), updateStatusBackgroundService = _require.updateStatusBackgroundService;
              updateStatusBackgroundService(_backupImages);

              if (_backupImages) {
                dispatch(startMediaBackup());
              }

              return _context2.abrupt("return", _backupImages);

            case 16:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));

    return function (_x4, _x5) {
      return _ref3.apply(this, arguments);
    };
  }();
};

var updateValueAfterRequestAuthorization = /*#__PURE__*/function () {
  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(value) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            if (!value) {
              _context3.next = 4;
              break;
            }

            _context3.next = 3;
            return Object(drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_2__["requestAuthorization"])();

          case 3:
            value = _context3.sent;

          case 4:
            return _context3.abrupt("return", value);

          case 5:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function updateValueAfterRequestAuthorization(_x6) {
    return _ref4.apply(this, arguments);
  };
}();



/***/ }),

/***/ "NQEN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");




var areTargetsInCurrentDir = function areTargetsInCurrentDir(targets, currentDirId) {
  var targetsInCurrentDir = targets.filter(function (target) {
    return target.dir_id === currentDirId;
  });
  return targetsInCurrentDir.length === targets.length;
};

var Footer = function Footer(_ref, _ref2) {
  var onConfirm = _ref.onConfirm,
      onClose = _ref.onClose,
      targets = _ref.targets,
      currentDirId = _ref.currentDirId,
      isMoving = _ref.isMoving,
      primaryTextAction = _ref.primaryTextAction,
      secondaryTextAction = _ref.secondaryTextAction;
  var t = _ref2.t;
  var primaryText = primaryTextAction ? primaryTextAction : t('Move.action');
  var secondaryText = secondaryTextAction ? secondaryTextAction : t('Move.cancel');
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["ModalFooter"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["ModalButtons"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    label: secondaryText,
    theme: "secondary",
    onClick: onClose
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    label: primaryText,
    onClick: onConfirm,
    disabled: areTargetsInCurrentDir(targets, currentDirId) || isMoving,
    busy: isMoving
  })));
};

Footer.propTypes = {
  onConfirm: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  targets: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  currentDirId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  isMoving: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  primaryTextAction: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  secondaryTextAction: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
Footer.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
Footer.defaultProps = {
  isMoving: false
};
/* harmony default export */ __webpack_exports__["default"] = (Footer);

/***/ }),

/***/ "NirP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileListBody", function() { return FileListBody; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectedFileListBody", function() { return ConnectedFileListBody; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("/MKj");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7oMs");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_6__);







var FileListBody = function FileListBody(_ref) {
  var children = _ref.children,
      selectionModeActive = _ref.selectionModeActive;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    "data-test-id": "fil-content-body",
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_6___default.a['fil-content-body'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_6___default.a['fil-content-body--selectable'], selectionModeActive))
  }, children);
};
FileListBody.propTypes = {
  selectionModeActive: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_5__["isSelectionBarVisible"])(state)
  };
};

var ConnectedFileListBody = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps)(FileListBody);

/***/ }),

/***/ "Nm6/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Toggle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Vmsy");
/* harmony import */ var drive_web_modules_actionmenu_MenuItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("s4+x");
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("iTW1");







var MakeAvailableOfflineMenuItem = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(function (state, ownProps) {
  return {
    checked: Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_6__["isAvailableOffline"])(state, ownProps.file.id)
  };
}, function (dispatch, ownProps) {
  return {
    toggleOfflineAvailability: function toggleOfflineAvailability(client) {
      return dispatch(Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_6__["toggleAvailableOffline"])(ownProps.file, client));
    }
  };
})(function (_ref) {
  var checked = _ref.checked,
      toggleOfflineAvailability = _ref.toggleOfflineAvailability,
      children = _ref.children,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, ["checked", "toggleOfflineAvailability", "children"]);

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useClient"])();
  var onToggle = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return toggleOfflineAvailability(client);
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_actionmenu_MenuItem__WEBPACK_IMPORTED_MODULE_5__["default"], rest, children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Toggle__WEBPACK_IMPORTED_MODULE_4__["default"], {
    id: children,
    checked: checked,
    onToggle: onToggle
  }));
});
/* harmony default export */ __webpack_exports__["default"] = (MakeAvailableOfflineMenuItem);

/***/ }),

/***/ "NqZ9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yLV6");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _File__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("d9dq");
/* harmony import */ var _fileopener_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("EGzn");
/* harmony import */ var _fileopener_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_fileopener_styl__WEBPACK_IMPORTED_MODULE_3__);





var FileOpener = function FileOpener(_ref) {
  var file = _ref.file,
      children = _ref.children,
      disabled = _ref.disabled,
      actionMenuVisible = _ref.actionMenuVisible,
      toggle = _ref.toggle,
      open = _ref.open,
      selectionModeActive = _ref.selectionModeActive,
      isRenaming = _ref.isRenaming;
  var linkRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var gesturesHandler = null;

    if (linkRef.current !== null) {
      gesturesHandler = new hammerjs__WEBPACK_IMPORTED_MODULE_1___default.a.Manager(linkRef.current);
      gesturesHandler.add(new hammerjs__WEBPACK_IMPORTED_MODULE_1___default.a.Tap({
        event: 'singletap'
      }));
      gesturesHandler.add(new hammerjs__WEBPACK_IMPORTED_MODULE_1___default.a.Press({
        event: 'onpress'
      }));
      gesturesHandler.on('onpress singletap', function (ev) {
        if (actionMenuVisible || disabled) return;

        if (Object(_File__WEBPACK_IMPORTED_MODULE_2__["enableTouchEvents"])(ev)) {
          ev.preventDefault(); // prevent a ghost click

          if (ev.type === 'onpress' || selectionModeActive) {
            ev.srcEvent.stopImmediatePropagation();
            toggle(ev.srcEvent);
          } else {
            ev.srcEvent.stopImmediatePropagation();
            if (!isRenaming) open(ev.srcEvent, file);
          }
        }
      });
    }

    return function () {
      return gesturesHandler && gesturesHandler.destroy();
    };
  }, [linkRef.current, selectionModeActive, actionMenuVisible, disabled, isRenaming]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: _fileopener_styl__WEBPACK_IMPORTED_MODULE_3___default.a['file-opener'],
    ref: linkRef,
    id: file.id
  }, children);
};

/* harmony default export */ __webpack_exports__["default"] = (FileOpener);

/***/ }),

/***/ "OMqL":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("37ak");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("y6ex");






var AddFolderItem = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["translate"])()(function (_ref) {
  var t = _ref.t,
      addFolder = _ref.addFolder;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__["ActionMenuItem"], {
    "data-test-id": "add-folder-link",
    onClick: addFolder,
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], {
      icon: "folder-add"
    })
  }, t('toolbar.menu_new_folder'));
});

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    addFolder: function addFolder() {
      return dispatch(Object(drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_3__["showNewFolderInput"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps)(AddFolderItem));

/***/ }),

/***/ "OTOu":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var minilog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("i9cR");
/* harmony import */ var minilog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(minilog__WEBPACK_IMPORTED_MODULE_0__);
/* global __APP_SLUG__ */

var logger = minilog__WEBPACK_IMPORTED_MODULE_0___default()("cozy-".concat("drive"));
minilog__WEBPACK_IMPORTED_MODULE_0___default.a.enable();
minilog__WEBPACK_IMPORTED_MODULE_0___default.a.suggest.allow("cozy-".concat("drive"), 'log');
minilog__WEBPACK_IMPORTED_MODULE_0___default.a.suggest.allow("cozy-".concat("drive"), 'info');
/* harmony default export */ __webpack_exports__["default"] = (logger);

/***/ }),

/***/ "OZnT":
/***/ (function(module, exports) {

module.exports = "/img/app-icon.svg";

/***/ }),

/***/ "OjRq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("Le8U");
/* harmony import */ var cozy_doctypes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CozyFile", function() { return cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__["CozyFile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Group", function() { return cozy_doctypes__WEBPACK_IMPORTED_MODULE_0__["Group"]; });

/* harmony import */ var models_Contact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/WUI");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Contact", function() { return models_Contact__WEBPACK_IMPORTED_MODULE_1__["default"]; });





/***/ }),

/***/ "Ow0/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SOFTWARE_ID", function() { return SOFTWARE_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SOFTWARE_NAME", function() { return SOFTWARE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APP_STORE_ID", function() { return APP_STORE_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APP_MARKET_ID", function() { return APP_MARKET_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PROTOCOL", function() { return PROTOCOL; });
var SOFTWARE_ID = 'registry://drive';
var SOFTWARE_NAME = 'Cozy Drive';
var APP_STORE_ID = '1224102389';
var APP_MARKET_ID = 'market://details?id=io.cozy.drive.mobile';
var PROTOCOL = 'cozydrive://';

/***/ }),

/***/ "PC2r":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withPersistentState", function() { return withPersistentState; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("iWIM");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("gfRN");
/* harmony import */ var cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9__);









function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }


 // The withPersistentState HOC automatically saves the wrappped components state and restores it when the component is mounted again.
// Since the saved state will not be available immediately when the wrapped component is mounted, a `componentStateRestored` hook will be called once the state is restored

var withPersistentState = function withPersistentState(WrappedComponent, persistenceKey) {
  var WithPersistentState = /*#__PURE__*/function (_WrappedComponent) {
    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(WithPersistentState, _WrappedComponent);

    var _super = _createSuper(WithPersistentState);

    function WithPersistentState(props) {
      var _this;

      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, WithPersistentState);

      _this = _super.call(this, props);
      _this.persistedStatePromise = null;
      _this.setItemPromise = null;
      return _this;
    }

    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(WithPersistentState, [{
      key: "componentWillMount",
      value: function () {
        var _componentWillMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
          var _this2 = this;

          var persistedState;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.prev = 0;
                  this.persistedStatePromise = Object(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9__["cancelable"])(localforage__WEBPACK_IMPORTED_MODULE_8___default.a.getItem(persistenceKey));
                  _context.next = 4;
                  return this.persistedStatePromise;

                case 4:
                  persistedState = _context.sent;
                  this.setState(function (prevState) {
                    return persistedState || prevState;
                  }, function () {
                    if (_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(WithPersistentState.prototype), "componentStateRestored", _this2)) _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(WithPersistentState.prototype), "componentStateRestored", _this2).call(_this2);
                  });
                  _context.next = 11;
                  break;

                case 8:
                  _context.prev = 8;
                  _context.t0 = _context["catch"](0);

                  if (_context.t0.canceled !== true) {
                    //eslint-disable-next-line
                    console.log('error', _context.t0);
                  }

                case 11:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, this, [[0, 8]]);
        }));

        function componentWillMount() {
          return _componentWillMount.apply(this, arguments);
        }

        return componentWillMount;
      }()
    }, {
      key: "componentWillUpdate",
      value: function componentWillUpdate(nextProps, nextState) {
        try {
          if (_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(WithPersistentState.prototype), "componentWillUpdate", this)) _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(WithPersistentState.prototype), "componentWillUpdate", this).call(this, nextProps, nextState);
          this.setItemPromise = Object(cozy_client_dist_utils__WEBPACK_IMPORTED_MODULE_9__["cancelable"])(localforage__WEBPACK_IMPORTED_MODULE_8___default.a.setItem(persistenceKey, nextState));
        } catch (e) {
          if (e.canceled !== true) {
            //eslint-disable-next-line
            console.log('error', e);
          }
        }
      }
    }, {
      key: "componentWillUnmount",
      value: function componentWillUnmount() {
        this.setItemPromise && this.setItemPromise.cancel();
        this.persistedStatePromise.cancel();
      }
    }]);

    return WithPersistentState;
  }(WrappedComponent);

  WithPersistentState.displayName = "WithPersistentState(".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', ")");
  return WithPersistentState;
};
/* harmony default export */ __webpack_exports__["default"] = (withPersistentState);

/***/ }),

/***/ "PGBS":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "share", function() { return share; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "download", function() { return download; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trash", function() { return trash; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "open", function() { return open; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rename", function() { return rename; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "move", function() { return move; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "qualify", function() { return qualify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "versions", function() { return versions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "offline", function() { return offline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "restore", function() { return restore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "destroy", function() { return destroy; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("UmWK");
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("4kcP");
/* harmony import */ var drive_web_modules_drive_DeleteConfirm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("3Cim");
/* harmony import */ var drive_web_modules_move_MoveModal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("+m2E");
/* harmony import */ var cozy_scanner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("YDfd");
/* harmony import */ var drive_web_modules_drive_ShareMenuItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("0pHv");
/* harmony import */ var drive_web_modules_drive_MakeAvailableOfflineMenuItem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("Nm6/");
/* harmony import */ var drive_web_modules_trash_components_DestroyConfirm__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("rS01");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("JZSQ");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("MFii");





/* global __TARGET__ */












var fileModel = cozy_client__WEBPACK_IMPORTED_MODULE_5__["models"].file;
var isFile = fileModel.isFile;

var share = function share(_ref) {
  var hasWriteAccess = _ref.hasWriteAccess,
      pushModal = _ref.pushModal,
      popModal = _ref.popModal;
  return {
    icon: 'share',
    displayCondition: function displayCondition(selection) {
      return hasWriteAccess && selection.length === 1;
    },
    action: function action(selected) {
      return pushModal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_6__["ShareModal"], {
        document: selected[0],
        documentType: "Files",
        sharingDesc: selected[0].name,
        onClose: popModal
      }));
    },
    Component: function ShareMenuItemInMenu(_ref2) {
      var files = _ref2.files,
          rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref2, ["files"]);

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(drive_web_modules_drive_ShareMenuItem__WEBPACK_IMPORTED_MODULE_11__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default()({
        docId: files[0].id
      }, rest));
    }
  };
};
var download = function download(_ref3) {
  var client = _ref3.client;
  return  false ? undefined : {
    icon: 'download',
    action: function action(files) {
      return Object(_utils__WEBPACK_IMPORTED_MODULE_16__["downloadFiles"])(client, files);
    }
  };
};
var trash = function trash(_ref4) {
  var pushModal = _ref4.pushModal,
      popModal = _ref4.popModal,
      hasWriteAccess = _ref4.hasWriteAccess,
      refresh = _ref4.refresh;
  return {
    icon: 'trash',
    displayCondition: function displayCondition() {
      return hasWriteAccess;
    },
    action: function action(files) {
      return pushModal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(drive_web_modules_drive_DeleteConfirm__WEBPACK_IMPORTED_MODULE_8__["default"], {
        files: files,
        referenced: Object(_utils__WEBPACK_IMPORTED_MODULE_16__["isAnyFileReferencedByAlbum"])(files),
        afterConfirmation: function afterConfirmation() {
          refresh();
        },
        onClose: popModal
      }));
    }
  };
};
var open = function open(_ref5) {
  var client = _ref5.client;
  return {
    icon: 'openWith',
    displayCondition: function displayCondition(selection) {
      return  false && false;
    },
    action: function action(files) {
      return Object(_utils__WEBPACK_IMPORTED_MODULE_16__["openFileWith"])(client, files[0]);
    }
  };
};
var rename = function rename(_ref6) {
  var hasWriteAccess = _ref6.hasWriteAccess,
      dispatch = _ref6.dispatch;
  return {
    icon: 'rename',
    displayCondition: function displayCondition(selection) {
      return hasWriteAccess && selection.length === 1;
    },
    action: function action(files) {
      return dispatch(Object(drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_15__["startRenamingAsync"])(files[0]));
    }
  };
};
var move = function move(_ref7) {
  var canMove = _ref7.canMove,
      pushModal = _ref7.pushModal,
      popModal = _ref7.popModal;
  return {
    icon: 'moveto',
    displayCondition: function displayCondition() {
      return canMove;
    },
    action: function action(files) {
      return pushModal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(drive_web_modules_move_MoveModal__WEBPACK_IMPORTED_MODULE_9__["default"], {
        entries: files,
        onClose: popModal
      }));
    }
  };
};
var qualify = function qualify(_ref8) {
  var pushModal = _ref8.pushModal,
      popModal = _ref8.popModal;
  return {
    icon: 'qualify',
    displayCondition: function displayCondition(selection) {
      return selection.length === 1 && isFile(selection[0]);
    },
    action: function action(files) {
      return pushModal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(cozy_scanner__WEBPACK_IMPORTED_MODULE_10__["EditDocumentQualification"], {
        document: files[0],
        onQualified: function onQualified() {
          popModal(); // changes should be retrieved through cozy-client
        },
        onClose: popModal
      }));
    }
  };
};
var versions = function versions(_ref9) {
  var router = _ref9.router,
      location = _ref9.location;
  return {
    icon: 'history',
    displayCondition: function displayCondition(selection) {
      return selection.length === 1 && isFile(selection[0]);
    },
    action: function action(files) {
      var tracker = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_7__["getTracker"])();

      if (tracker) {
        tracker.push(['trackEvent', 'Drive', 'Versioning', 'ClickFromMenuFile']);
      }

      return router.push("".concat(location.pathname, "/file/").concat(files[0].id, "/revision"));
    }
  };
};
var offline = function offline() {
  return {
    icon: 'phone-download',
    displayCondition: function displayCondition(selections) {
      return  false && false;
    },
    Component: function MakeAvailableOfflineMenuItemInMenu(_ref10) {
      var files = _ref10.files,
          rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref10, ["files"]);

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(drive_web_modules_drive_MakeAvailableOfflineMenuItem__WEBPACK_IMPORTED_MODULE_12__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2___default()({
        file: files[0]
      }, rest));
    }
  };
};
var restore = function restore(_ref11) {
  var refresh = _ref11.refresh,
      client = _ref11.client;
  return {
    icon: 'restore',
    action: function () {
      var _action = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(files) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return Object(_utils__WEBPACK_IMPORTED_MODULE_16__["restoreFiles"])(client, files);

              case 2:
                refresh();

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      function action(_x) {
        return _action.apply(this, arguments);
      }

      return action;
    }()
  };
};
var destroy = function destroy(_ref12) {
  var pushModal = _ref12.pushModal,
      popModal = _ref12.popModal;
  return {
    icon: 'destroy',
    action: function action(files) {
      return pushModal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(drive_web_modules_trash_components_DestroyConfirm__WEBPACK_IMPORTED_MODULE_13__["default"], {
        files: files,
        onClose: popModal
      }));
    }
  };
};

/***/ }),

/***/ "PL+6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadStatus", function() { return UploadStatus; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("cSBT");
/* harmony import */ var _components_UploadProgression__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("DVxU");
/* harmony import */ var _components_UploadAbortedWifi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("pGdt");
/* harmony import */ var _components_UploadQuotaError__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lotC");
/* harmony import */ var _components_UploadUptodate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("XHeq");
/* harmony import */ var _components_UploadPreparing__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("KaFd");
/* harmony import */ var _duck_reducer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("aNx5");













var mapStateToProps = function mapStateToProps(state) {
  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({
    serverUrl: Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__["getServerUrl"])(state),
    isEnabled: Object(drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_5__["isImagesBackupOn"])(state),
    isPreparing: Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["isPreparingBackup"])(state),
    isUploading: Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["isUploading"])(state),
    isAborted: Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["isAborted"])(state),
    isQuotaReached: Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["isQuotaReached"])(state)
  }, Object(_duck_reducer__WEBPACK_IMPORTED_MODULE_11__["getUploadStatus"])(state));
};

var UploadStatus = function UploadStatus(props) {
  var isEnabled = props.isEnabled,
      isPreparing = props.isPreparing,
      isUploading = props.isUploading,
      isAborted = props.isAborted,
      isQuotaReached = props.isQuotaReached;
  var t = props.t,
      current = props.current,
      total = props.total,
      progress = props.progress,
      serverUrl = props.serverUrl;
  var storageUpgradeUrl = serverUrl ? serverUrl.replace(/(\w+)\./, '$1-settings.') + '/#/storage' : '';

  if (!isEnabled) {
    return null;
  }

  if (isPreparing) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadPreparing__WEBPACK_IMPORTED_MODULE_10__["default"], {
      t: t
    });
  }

  if (isUploading) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadProgression__WEBPACK_IMPORTED_MODULE_6__["default"], {
      t: t,
      current: current,
      total: total,
      progress: progress
    });
  }

  if (isAborted) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadAbortedWifi__WEBPACK_IMPORTED_MODULE_7__["default"], {
      t: t
    });
  }

  if (isQuotaReached) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadQuotaError__WEBPACK_IMPORTED_MODULE_8__["default"], {
      t: t,
      url: storageUpgradeUrl
    });
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_UploadUptodate__WEBPACK_IMPORTED_MODULE_9__["default"], {
    t: t
  });
};
UploadStatus.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  current: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
  total: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
  progress: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
  isEnabled: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isPreparing: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isUploading: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isAborted: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isQuotaReached: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  serverUrl: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps)(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(UploadStatus)));

/***/ }),

/***/ "PhqT":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"CozyTheme--normal":"CozyTheme--normal--3rdSw","pho-viewer-noviewer-cta":"pho-viewer-noviewer-cta--2RT0a","pho-viewer-noviewer-cta-cross":"pho-viewer-noviewer-cta-cross--1E-8f"};

/***/ }),

/***/ "PzXC":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("67rm");
/* harmony import */ var drive_web_modules_layout_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("vX5W");
/* harmony import */ var _components_DebugTools__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("N7KD");
/* harmony import */ var _components_About__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("eCpu");
/* harmony import */ var _components_Support__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("ixLX");
/* harmony import */ var _components_MediaBackup__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("wxig");
/* harmony import */ var _components_Unlink__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("+Egv");
/* harmony import */ var _components_FeedbackForm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("Fnja");
/* harmony import */ var drive_web_modules_navigation_ScrollToTop__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("SZVt");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("rH+U");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_19__);









function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/* globals __DEVELOPMENT__ cozy */












var BarCenter = cozy.bar.BarCenter;

var Settings = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Settings, _Component);

  var _super = _createSuper(Settings);

  function Settings() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Settings);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), "state", {
      tapCount: 0,
      displayFeedback: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), "incrementTapCount", function () {
      _this.setState(function (state) {
        return {
          tapCount: state.tapCount + 1
        };
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), "displayFeedbackForm", function () {
      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          displayFeedback: true
        });
      });
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), "hideFeedbackForm", function (result) {
      _this.setState(function (state) {
        return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
          displayFeedback: false
        });
      });

      result && cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_10__["default"].info('mobile.rating.alert.feedback');
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Settings, [{
    key: "render",
    value: function render() {
      var t = this.props.t;
      var isDebug = this.state.tapCount >= 3;
      /*
      See https://reacttraining.com/react-router/web/guides/scroll-restoration
      for the ScrollToTop explanation
      */

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(drive_web_modules_layout_Main__WEBPACK_IMPORTED_MODULE_11__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(drive_web_modules_navigation_ScrollToTop__WEBPACK_IMPORTED_MODULE_18__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(BarCenter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("h2", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_19___default.a['settings__title']
      }, t('mobile.settings.title'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_19___default.a['settings']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_MediaBackup__WEBPACK_IMPORTED_MODULE_15__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_Support__WEBPACK_IMPORTED_MODULE_14__["default"], {
        isDebug: isDebug,
        sendFeedback: this.displayFeedbackForm
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_About__WEBPACK_IMPORTED_MODULE_13__["default"], {
        onTap: this.incrementTapCount
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_Unlink__WEBPACK_IMPORTED_MODULE_16__["default"], null),  true && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("hr", {
        key: 1
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("h3", {
        key: 2
      }, "Debug Zone"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_DebugTools__WEBPACK_IMPORTED_MODULE_12__["default"], {
        key: 3
      })]), this.state.displayFeedback && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_FeedbackForm__WEBPACK_IMPORTED_MODULE_17__["default"], {
        onClose: this.hideFeedbackForm
      })));
    }
  }]);

  return Settings;
}(react__WEBPACK_IMPORTED_MODULE_8__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_9__["translate"])()(Settings));

/***/ }),

/***/ "QASb":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUploadDir", function() { return getUploadDir; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadPhoto", function() { return uploadPhoto; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("DzJC");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("fKGi");
/* harmony import */ var folder_references__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("A3Xe");
/* harmony import */ var _fixBackupFolderNamesBug__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("cYxt");
/* harmony import */ var drive_mobile_lib_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("/GQe");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("qxHO");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("aNx5");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("OTOu");










var ERROR_CODE_TOO_LARGE = 413;
var getUploadDir = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client) {
    var uploadedFolders, t, mediaFolderName, uploadFolderName, legacyUploadFolderName, _yield$client$collect, legacyFolder, uploadFolder;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_4__["getReferencedFolders"])(client, folder_references__WEBPACK_IMPORTED_MODULE_4__["REF_BACKUP"]);

          case 2:
            uploadedFolders = _context.sent;

            if (!(uploadedFolders.length >= 1)) {
              _context.next = 9;
              break;
            }

            _context.next = 6;
            return Object(_fixBackupFolderNamesBug__WEBPACK_IMPORTED_MODULE_5__["fixMagicFolderName"])(client, uploadedFolders[0]);

          case 6:
            return _context.abrupt("return", uploadedFolders[0]);

          case 9:
            t = Object(drive_mobile_lib_i18n__WEBPACK_IMPORTED_MODULE_6__["getTranslateFunction"])();
            mediaFolderName = t('mobile.settings.media_backup.media_folder');
            uploadFolderName = t('mobile.settings.media_backup.backup_folder');
            legacyUploadFolderName = t('mobile.settings.media_backup.legacy_backup_folder');
            _context.next = 15;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_4__["getOrCreateFolderWithReference"])(client, "/".concat(mediaFolderName), folder_references__WEBPACK_IMPORTED_MODULE_4__["REF_PHOTOS"]);

          case 15:
            _context.prev = 15;
            _context.next = 18;
            return client.collection('io.cozy.files').statByPath("/".concat(mediaFolderName, "/").concat(legacyUploadFolderName, "/plop"));

          case 18:
            _yield$client$collect = _context.sent;
            legacyFolder = _yield$client$collect.data;
            _context.next = 22;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_4__["getOrCreateFolderWithReference"])(client, "/".concat(mediaFolderName, "/").concat(legacyUploadFolderName), folder_references__WEBPACK_IMPORTED_MODULE_4__["REF_BACKUP"]);

          case 22:
            return _context.abrupt("return", legacyFolder);

          case 25:
            _context.prev = 25;
            _context.t0 = _context["catch"](15);

            if (!(_context.t0.status === 404)) {
              _context.next = 34;
              break;
            }

            _context.next = 30;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_4__["getOrCreateFolderWithReference"])(client, "/".concat(mediaFolderName, "/").concat(uploadFolderName), folder_references__WEBPACK_IMPORTED_MODULE_4__["REF_BACKUP"]);

          case 30:
            uploadFolder = _context.sent;
            return _context.abrupt("return", uploadFolder);

          case 34:
            throw _context.t0;

          case 35:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[15, 25]]);
  }));

  return function getUploadDir(_x) {
    return _ref.apply(this, arguments);
  };
}();

var mediaUploadSucceed = function mediaUploadSucceed(_ref2) {
  var id = _ref2.id;
  return {
    type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_SUCCESS"],
    id: id
  };
};

var uploadPhoto = function uploadPhoto(dirName, dirID, photo, client) {
  return /*#__PURE__*/function () {
    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(dispatch) {
      var path, MILLISECOND, SECOND, MINUTE, maxBackupTime, timeout, onProgressUpdate, onThumbnailGenerated, reason;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.prev = 0;
              path = dirName + '/' + photo.fileName;
              _context2.next = 4;
              return client.collection('io.cozy.files').statByPath(path);

            case 4:
              dispatch(mediaUploadSucceed(photo));
              return _context2.abrupt("return");

            case 8:
              _context2.prev = 8;
              _context2.t0 = _context2["catch"](0);

            case 10:
              // if an exception is throw, the file doesn't exist yet and we can safely upload it
              MILLISECOND = 1;
              SECOND = 1000 * MILLISECOND;
              MINUTE = 60 * SECOND;
              maxBackupTime = 5 * MINUTE;
              timeout = setTimeout(function () {
                lib_logger__WEBPACK_IMPORTED_MODULE_9__["default"].info(JSON.stringify(photo));
                Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_7__["logException"])("Backup duration exceeded ".concat(maxBackupTime, " milliseconds"));
              }, maxBackupTime);
              _context2.prev = 15;

              onProgressUpdate = function onProgressUpdate(progress) {
                dispatch({
                  type: _reducer__WEBPACK_IMPORTED_MODULE_8__["CURRENT_UPLOAD_PROGRESS"],
                  progress: progress
                });
              };

              onThumbnailGenerated = function onThumbnailGenerated() {};

              _context2.next = 20;
              return Object(drive_mobile_lib_media__WEBPACK_IMPORTED_MODULE_3__["uploadLibraryItem"])(dirID, photo, lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default()(onProgressUpdate, 500), onThumbnailGenerated);

            case 20:
              clearTimeout(timeout);
              dispatch(mediaUploadSucceed(photo));
              _context2.next = 27;
              break;

            case 24:
              _context2.prev = 24;
              _context2.t1 = _context2["catch"](15);

              if (_context2.t1.code && parseInt(_context2.t1.code) === ERROR_CODE_TOO_LARGE) {
                clearTimeout(timeout);
                dispatch({
                  type: _reducer__WEBPACK_IMPORTED_MODULE_8__["MEDIA_UPLOAD_QUOTA"]
                });
              } else {
                lib_logger__WEBPACK_IMPORTED_MODULE_9__["default"].warn('startMediaBackup upload item error');
                lib_logger__WEBPACK_IMPORTED_MODULE_9__["default"].warn(JSON.stringify(_context2.t1));
                lib_logger__WEBPACK_IMPORTED_MODULE_9__["default"].info(JSON.stringify(photo));
                reason = _context2.t1.message ? _context2.t1.message : JSON.stringify(_context2.t1);
                Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_7__["logException"])('Backup error: ' + reason, null, ['backup error']);
              }

            case 27:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2, null, [[0, 8], [15, 24]]);
    }));

    return function (_x2) {
      return _ref3.apply(this, arguments);
    };
  }();
};

/***/ }),

/***/ "QDdI":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("EqME");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UNLINK", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["UNLINK"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setClient", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setClient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setToken", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setToken"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "revokeClient", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["revokeClient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "unlink", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["unlink"]; });

/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("arUP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _reducer__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("BEGz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getClientSettings", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["getClientSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getToken", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["getToken"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isClientRevoked", function() { return _selectors__WEBPACK_IMPORTED_MODULE_2__["isClientRevoked"]; });





/***/ }),

/***/ "QFrT":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("y6ex");
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("4kcP");
/* harmony import */ var cozy_scanner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("YDfd");
/* harmony import */ var _ScanWrapper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Qt5O");








var StartScanner = function StartScanner(_ref) {
  var t = _ref.t;
  var scannerContextValue = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(_ScanWrapper__WEBPACK_IMPORTED_MODULE_6__["ScannerContext"]);
  if (!scannerContextValue) return null;
  var status = scannerContextValue.status,
      online = scannerContextValue.online,
      startScanner = scannerContextValue.startScanner;

  var offlineMessage = function offlineMessage() {
    return alert(t('Scan.error.offlinee'));
  };

  var uploadingMessage = function uploadingMessage() {
    return alert(t('Scan.error.uploading'));
  };

  var actionOnClick = function () {
    if (status === cozy_scanner__WEBPACK_IMPORTED_MODULE_5__["SCANNER_UPLOADING"]) return uploadingMessage;
    if (!online) return offlineMessage;
    return startScanner;
  }();

  var trackEvent = function trackEvent() {
    var tracker = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_4__["getTracker"])();

    if (tracker) {
      tracker.push(['trackEvent', 'Drive', 'Scanner', 'Scan Click']);
    }
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_2__["ActionMenuItem"], {
    onClick: function onClick() {
      trackEvent();
      actionOnClick();
    },
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: "camera"
    })
  }, t('Scan.scan_a_doc'));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["translate"])()(StartScanner));

/***/ }),

/***/ "QQky":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var drive_lib_getFileMimetype__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("Ieni");
/* harmony import */ var drive_assets_icons_icon_type_folder_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("w0Z6");
/* harmony import */ var drive_assets_icons_icon_type_audio_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("hehj");
/* harmony import */ var drive_assets_icons_icon_type_bin_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Qi6R");
/* harmony import */ var drive_assets_icons_icon_type_code_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("5lZ0");
/* harmony import */ var drive_assets_icons_icon_type_files_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("nhFO");
/* harmony import */ var drive_assets_icons_icon_type_image_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("TD9l");
/* harmony import */ var drive_assets_icons_icon_type_pdf_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("gbp9");
/* harmony import */ var drive_assets_icons_icon_type_slide_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("f/2S");
/* harmony import */ var drive_assets_icons_icon_type_sheet_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("0GJX");
/* harmony import */ var drive_assets_icons_icon_type_text_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("xNZN");
/* harmony import */ var drive_assets_icons_icon_type_video_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("T3Sg");
/* harmony import */ var drive_assets_icons_icon_type_zip_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("pr+u");
/* harmony import */ var drive_assets_icons_icon_type_note_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("3nSB");
















var getMimeTypeIcon = function getMimeTypeIcon(isDirectory, name, mime) {
  if (isDirectory) {
    return drive_assets_icons_icon_type_folder_svg__WEBPACK_IMPORTED_MODULE_2__["default"];
  } else if (/\.cozy-note$/.test(name)) {
    return drive_assets_icons_icon_type_note_svg__WEBPACK_IMPORTED_MODULE_14__["default"];
  } else {
    var iconsByMimeType = {
      audio: drive_assets_icons_icon_type_audio_svg__WEBPACK_IMPORTED_MODULE_3__["default"],
      bin: drive_assets_icons_icon_type_bin_svg__WEBPACK_IMPORTED_MODULE_4__["default"],
      code: drive_assets_icons_icon_type_code_svg__WEBPACK_IMPORTED_MODULE_5__["default"],
      image: drive_assets_icons_icon_type_image_svg__WEBPACK_IMPORTED_MODULE_7__["default"],
      pdf: drive_assets_icons_icon_type_pdf_svg__WEBPACK_IMPORTED_MODULE_8__["default"],
      slide: drive_assets_icons_icon_type_slide_svg__WEBPACK_IMPORTED_MODULE_9__["default"],
      sheet: drive_assets_icons_icon_type_sheet_svg__WEBPACK_IMPORTED_MODULE_10__["default"],
      text: drive_assets_icons_icon_type_text_svg__WEBPACK_IMPORTED_MODULE_11__["default"],
      video: drive_assets_icons_icon_type_video_svg__WEBPACK_IMPORTED_MODULE_12__["default"],
      zip: drive_assets_icons_icon_type_zip_svg__WEBPACK_IMPORTED_MODULE_13__["default"]
    };
    var type = Object(drive_lib_getFileMimetype__WEBPACK_IMPORTED_MODULE_1__["getFileMimetype"])(iconsByMimeType)(mime, name);
    return lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(iconsByMimeType, type, drive_assets_icons_icon_type_files_svg__WEBPACK_IMPORTED_MODULE_6__["default"]);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (getMimeTypeIcon);

/***/ }),

/***/ "Qi6R":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-bin_37ea77f144ebbef7aab118258b0f643e",
  "use": "icon-type-bin_37ea77f144ebbef7aab118258b0f643e-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-bin_37ea77f144ebbef7aab118258b0f643e\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#D1D5DB\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#A3ACB8\" d=\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\" />\n    <path fill=\"#4F5B69\" d=\"M4,15.5675676 C4,14.971332 4.05925097,14.4488147 4.17775468,14 C4.29625839,13.5511853 4.46309664,13.1793627 4.67827443,12.8845209 C4.89345222,12.5896791 5.15072615,12.3685511 5.45010395,12.2211302 C5.74948175,12.0737093 6.08315824,12 6.45114345,12 C7.23701017,12 7.84199372,12.2899234 8.26611227,12.8697789 C8.69023081,13.4496343 8.9022869,14.3488883 8.9022869,15.5675676 C8.9022869,16.1703552 8.84303594,16.6961485 8.72453222,17.1449631 C8.60602851,17.5937778 8.43919027,17.9672385 8.22401247,18.2653563 C8.00883468,18.5634741 7.75000151,18.78624 7.4475052,18.9336609 C7.14500888,19.0810818 6.80977315,19.1547912 6.44178794,19.1547912 C5.64968419,19.1547912 5.04470063,18.8484879 4.62681913,18.2358722 C4.20893762,17.6232566 4,16.7338306 4,15.5675676 L4,15.5675676 Z M7.7047817,15.5675676 C7.7047817,15.4627349 7.70322247,15.3628178 7.70010395,15.2678133 C7.69698543,15.1728087 7.69230772,15.0794435 7.68607069,14.987715 L5.39397089,17.1793612 C5.58731905,17.7755968 5.93970638,18.0737101 6.45114345,18.0737101 C6.85031385,18.0737101 7.15904257,17.8738759 7.37733888,17.4742015 C7.59563519,17.0745271 7.7047817,16.4389888 7.7047817,15.5675676 L7.7047817,15.5675676 Z M5.1975052,15.5675676 C5.1975052,15.6658482 5.19906443,15.7592133 5.20218295,15.8476658 C5.20530147,15.9361184 5.20997918,16.0262076 5.21621622,16.1179361 L7.4989605,13.9262899 C7.31184938,13.3628145 6.95946205,13.0810811 6.44178794,13.0810811 C6.04261755,13.0810811 5.73544806,13.2825533 5.52027027,13.6855037 C5.30509248,14.0884541 5.1975052,14.7158025 5.1975052,15.5675676 L5.1975052,15.5675676 Z M10.5488565,15.5675676 C10.5488565,14.971332 10.6081075,14.4488147 10.7266112,14 C10.8451149,13.5511853 11.0119532,13.1793627 11.227131,12.8845209 C11.4423088,12.5896791 11.6995827,12.3685511 11.9989605,12.2211302 C12.2983383,12.0737093 12.6320148,12 13,12 C13.7858667,12 14.3908503,12.2899234 14.8149688,12.8697789 C15.2390874,13.4496343 15.4511435,14.3488883 15.4511435,15.5675676 C15.4511435,16.1703552 15.3918925,16.6961485 15.2733888,17.1449631 C15.1548851,17.5937778 14.9880468,17.9672385 14.772869,18.2653563 C14.5576912,18.5634741 14.2988581,18.78624 13.9963617,18.9336609 C13.6938654,19.0810818 13.3586297,19.1547912 12.9906445,19.1547912 C12.1985407,19.1547912 11.5935572,18.8484879 11.1756757,18.2358722 C10.7577942,17.6232566 10.5488565,16.7338306 10.5488565,15.5675676 L10.5488565,15.5675676 Z M14.2536383,15.5675676 C14.2536383,15.4627349 14.252079,15.3628178 14.2489605,15.2678133 C14.245842,15.1728087 14.2411643,15.0794435 14.2349272,14.987715 L11.9428274,17.1793612 C12.1361756,17.7755968 12.4885629,18.0737101 13,18.0737101 C13.3991704,18.0737101 13.7078991,17.8738759 13.9261954,17.4742015 C14.1444917,17.0745271 14.2536383,16.4389888 14.2536383,15.5675676 L14.2536383,15.5675676 Z M11.7463617,15.5675676 C11.7463617,15.6658482 11.747921,15.7592133 11.7510395,15.8476658 C11.754158,15.9361184 11.7588357,16.0262076 11.7650728,16.1179361 L14.047817,13.9262899 C13.8607059,13.3628145 13.5083186,13.0810811 12.9906445,13.0810811 C12.5914741,13.0810811 12.2843046,13.2825533 12.0691268,13.6855037 C11.853949,14.0884541 11.7463617,14.7158025 11.7463617,15.5675676 L11.7463617,15.5675676 Z M17.7338877,17.9361179 L19.1652807,17.9361179 L19.1652807,13.6412776 L17.9303534,14.6339066 L17.3690229,13.8476658 L19.502079,12.1375921 L20.3253638,12.1375921 L20.3253638,17.9361179 L21.7286902,17.9361179 L21.7286902,19.017199 L17.7338877,19.017199 L17.7338877,17.9361179 Z M4,24.4127764 C4,23.8165408 4.05925097,23.2940235 4.17775468,22.8452088 C4.29625839,22.3963942 4.46309664,22.0245715 4.67827443,21.7297297 C4.89345222,21.434888 5.15072615,21.21376 5.45010395,21.0663391 C5.74948175,20.9189182 6.08315824,20.8452088 6.45114345,20.8452088 C7.23701017,20.8452088 7.84199372,21.1351322 8.26611227,21.7149877 C8.69023081,22.2948432 8.9022869,23.1940971 8.9022869,24.4127764 C8.9022869,25.015564 8.84303594,25.5413573 8.72453222,25.990172 C8.60602851,26.4389867 8.43919027,26.8124473 8.22401247,27.1105651 C8.00883468,27.4086829 7.75000151,27.6314489 7.4475052,27.7788698 C7.14500888,27.9262907 6.80977315,28 6.44178794,28 C5.64968419,28 5.04470063,27.6936968 4.62681913,27.0810811 C4.20893762,26.4684654 4,25.5790394 4,24.4127764 L4,24.4127764 Z M7.7047817,24.4127764 C7.7047817,24.3079438 7.70322247,24.2080267 7.70010395,24.1130221 C7.69698543,24.0180175 7.69230772,23.9246524 7.68607069,23.8329238 L5.39397089,26.02457 C5.58731905,26.6208056 5.93970638,26.9189189 6.45114345,26.9189189 C6.85031385,26.9189189 7.15904257,26.7190847 7.37733888,26.3194103 C7.59563519,25.9197359 7.7047817,25.2841976 7.7047817,24.4127764 L7.7047817,24.4127764 Z M5.1975052,24.4127764 C5.1975052,24.511057 5.19906443,24.6044222 5.20218295,24.6928747 C5.20530147,24.7813272 5.20997918,24.8714164 5.21621622,24.963145 L7.4989605,22.7714988 C7.31184938,22.2080234 6.95946205,21.9262899 6.44178794,21.9262899 C6.04261755,21.9262899 5.73544806,22.1277621 5.52027027,22.5307125 C5.30509248,22.9336629 5.1975052,23.5610113 5.1975052,24.4127764 L5.1975052,24.4127764 Z M11.1850312,26.7813268 L12.6164241,26.7813268 L12.6164241,22.4864865 L11.3814969,23.4791155 L10.8201663,22.6928747 L12.9532225,20.982801 L13.7765073,20.982801 L13.7765073,26.7813268 L15.1798337,26.7813268 L15.1798337,27.8624079 L11.1850312,27.8624079 L11.1850312,26.7813268 Z M17.0977131,24.4127764 C17.0977131,23.8165408 17.1569641,23.2940235 17.2754678,22.8452088 C17.3939715,22.3963942 17.5608097,22.0245715 17.7759875,21.7297297 C17.9911653,21.434888 18.2484393,21.21376 18.547817,21.0663391 C18.8471948,20.9189182 19.1808713,20.8452088 19.5488565,20.8452088 C20.3347233,20.8452088 20.9397068,21.1351322 21.3638254,21.7149877 C21.7879439,22.2948432 22,23.1940971 22,24.4127764 C22,25.015564 21.940749,25.5413573 21.8222453,25.990172 C21.7037416,26.4389867 21.5369034,26.8124473 21.3217256,27.1105651 C21.1065478,27.4086829 20.8477146,27.6314489 20.5452183,27.7788698 C20.242722,27.9262907 19.9074862,28 19.539501,28 C18.7473973,28 18.1424137,27.6936968 17.7245322,27.0810811 C17.3066507,26.4684654 17.0977131,25.5790394 17.0977131,24.4127764 L17.0977131,24.4127764 Z M20.8024948,24.4127764 C20.8024948,24.3079438 20.8009356,24.2080267 20.797817,24.1130221 C20.7946985,24.0180175 20.7900208,23.9246524 20.7837838,23.8329238 L18.491684,26.02457 C18.6850322,26.6208056 19.0374195,26.9189189 19.5488565,26.9189189 C19.9480269,26.9189189 20.2567557,26.7190847 20.475052,26.3194103 C20.6933483,25.9197359 20.8024948,25.2841976 20.8024948,24.4127764 L20.8024948,24.4127764 Z M18.2952183,24.4127764 C18.2952183,24.511057 18.2967775,24.6044222 18.299896,24.6928747 C18.3030146,24.7813272 18.3076923,24.8714164 18.3139293,24.963145 L20.5966736,22.7714988 C20.4095625,22.2080234 20.0571751,21.9262899 19.539501,21.9262899 C19.1403306,21.9262899 18.8331612,22.1277621 18.6179834,22.5307125 C18.4028056,22.9336629 18.2952183,23.5610113 18.2952183,24.4127764 L18.2952183,24.4127764 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "QmKc":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-content-table":"fil-content-table--1HRVh","fil-content-head":"fil-content-head--3qU4k","fil-content-mobile-head":"fil-content-mobile-head--stPDy","fil-content-body":"fil-content-body--2o5N_","fil-content-row-head":"fil-content-row-head--2BxvZ","fil-content-row":"fil-content-row--3tUJY","fil-content-row-selected":"fil-content-row-selected--2YE0h","fil-content-cell":"fil-content-cell--HBfF4","fil-content-header":"fil-content-header--2G5CB","fil-content-mobile-header":"fil-content-mobile-header--3J9WD","CozyTheme--normal":"CozyTheme--normal--3iwbS","fil-content-file-select":"fil-content-file-select--3xRxR","fil-content-row--center":"fil-content-row--center--38ZfS","fil-content-row-actioned":"fil-content-row-actioned--1ZmSl","fil-content-row-disabled":"fil-content-row-disabled--zwfeB","fil-content-row-bigger":"fil-content-row-bigger--1zkOs","fil-content-ext":"fil-content-ext--3vi7B","fil-sort-menu":"fil-sort-menu--3vJKf","fil-sort-menu-item":"fil-sort-menu-item--3wQ6G","fil-sort-menu-item-selected":"fil-sort-menu-item-selected---yp6_","fil-content-header-sortableasc":"fil-content-header-sortableasc--3njaT","fil-content-header-sortabledesc":"fil-content-header-sortabledesc--n_RWE","fil-content-header-sortasc":"fil-content-header-sortasc--1wGfS","fil-content-header-sortdesc":"fil-content-header-sortdesc--HO-Uf","fil-content-file":"fil-content-file--2cyZM","fil-content-file-openable":"fil-content-file-openable--2I7DZ","fil-file-thumbnail":"fil-file-thumbnail--jxk48","fil-file-thumbnail-image":"fil-file-thumbnail-image--3UQvE","fil-content-shared":"fil-content-shared--nroRM","fil-content-date":"fil-content-date--269HK","fil-content-size":"fil-content-size--3keGT","fil-content-status":"fil-content-status--1etSl","fil-content-header-status":"fil-content-header-status--2dAhY","fil-content-offline":"fil-content-offline--LQivN","fil-content-file-action":"fil-content-file-action--V70XH","fil-content-header-action":"fil-content-header-action--3l7K_","fil-content-body--selectable":"fil-content-body--selectable--10Pwu","fil-file":"fil-file--1wFvs","fil-file-filename":"fil-file-filename--17PQJ","fil-file-filename-wrapper":"fil-file-filename-wrapper--2l4sx","fil-file-filename-and-ext":"fil-file-filename-and-ext--3XCEN","fil-file-filename-spinner":"fil-file-filename-spinner--1h6S0","fil-file-path":"fil-file-path--1SRH0","fil-file-infos":"fil-file-infos--2LE_d","fil-content-file-placeholder":"fil-content-file-placeholder--wth58","placeHolderShimmer":"placeHolderShimmer--AXJs0","fil-content-table-selection":"fil-content-table-selection--YjKJI","fil-content-sharestatus":"fil-content-sharestatus--_2V0-"};

/***/ }),

/***/ "Qt5O":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScannerContext", function() { return ScannerContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_scanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("YDfd");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _PortaledQueue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("VFG3");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("xIbs");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("NMd3");
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("4kcP");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("fD9B");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/MKj");









var ScannerContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext();
/**
 * ScanWrapper is a wrapper of Scanner. It has the responsability to :
 * - generating the filename
 * - Dispatching some events before and after the scan
 * - make the scan infos available through a context
 */

var ScanWrapper = function ScanWrapper(_ref) {
  var displayedFolder = _ref.displayedFolder,
      stopMediaBackup = _ref.stopMediaBackup,
      startMediaBackup = _ref.startMediaBackup,
      children = _ref.children;
  var isFolderOnMobileApp = Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_2__["isMobileApp"])() && displayedFolder;
  if (!isFolderOnMobileApp) return children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme__WEBPACK_IMPORTED_MODULE_4__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_scanner__WEBPACK_IMPORTED_MODULE_1__["Scanner"], {
    dirId: displayedFolder.id //Pour savoir où uploader
    ,
    pluginConfig: {
      sourceType: 1 // Camera

    },
    generateName: function generateName() {
      var date = new Date(); //We had to replace : by - since the Cordova File plugin doesn't support : in the filename
      //https://github.com/apache/cordova-plugin-file/issues/289#issuecomment-477954331

      return "Scan_".concat(date.toISOString().replace(/:/g, '-'), ".jpg");
    },
    onConflict: 'rename' //We need to cancel the MediaBackup before doing the upload since the scanned file will be
    //inserted we don't know where in the queue resulting in a non uploaded file if the queue is
    //big enough
    ,
    onBeforeUpload: function onBeforeUpload() {
      return stopMediaBackup();
    },
    onFinish: function onFinish() {
      var tracker = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_6__["getTracker"])();

      if (tracker) {
        tracker.push(['trackEvent', 'Drive', 'Scanner', 'Finished']);
      }

      startMediaBackup();
    }
  }, function (_ref2) {
    var status = _ref2.status,
        error = _ref2.error,
        startScanner = _ref2.startScanner,
        filename = _ref2.filename,
        onClear = _ref2.onClear,
        online = _ref2.online;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ScannerContext.Provider, {
      value: {
        startScanner: startScanner,
        status: status,
        error: error,
        online: online
      }
    }, children, filename && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_PortaledQueue__WEBPACK_IMPORTED_MODULE_3__["default"], {
      file: {
        file: {
          name: filename,
          isDirectory: false,
          status: status
        }
      },
      successCount: status === cozy_scanner__WEBPACK_IMPORTED_MODULE_1__["SCANNER_DONE"] ? 1 : 0,
      doneCount: 1,
      key: filename,
      onClear: onClear
    }));
  }));
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    stopMediaBackup: function stopMediaBackup() {
      return dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__["cancelMediaBackup"])());
    },
    startMediaBackup: function startMediaBackup() {
      return dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__["startMediaBackup"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(null, mapDispatchToProps)(Object(_toolbar__WEBPACK_IMPORTED_MODULE_7__["default"])(ScanWrapper)));

/***/ }),

/***/ "QwUF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SORT_FOLDER", function() { return SORT_FOLDER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sortFolder", function() { return sortFolder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadFiles", function() { return uploadFiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createFolder", function() { return createFolder; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("ommj");
/* harmony import */ var drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("2U19");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Yo2A");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("67rm");
/* harmony import */ var drive_web_modules_upload_QuotaAlert__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("tFpY");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("gb4X");









var SORT_FOLDER = 'SORT_FOLDER';
var HTTP_CODE_CONFLICT = 409;
var sortFolder = function sortFolder(folderId, sortAttribute) {
  var sortOrder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'asc';
  return {
    type: SORT_FOLDER,
    folderId: folderId,
    sortAttribute: sortAttribute,
    sortOrder: sortOrder
  };
};
/*
 * @function
 * @param {Array} files - The list of File objects to upload
 * @param {string} dirId - The id of the directory in which we upload the files
 * @param {Object} sharingState - The sharing context (provided by SharingContext.Provider)
 * @param {function} fileUploadedCallback - Optional function to call when the upload is completed
 * @returns {function} - A function that dispatches addToUploadQueue action
 */

var uploadFiles = function uploadFiles(files, dirId, sharingState) {
  var fileUploadedCallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {
    return null;
  };
  return function (dispatch) {
    dispatch(Object(drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_4__["addToUploadQueue"])(files, dirId, sharingState, // used to know if files are shared for conflicts management
    fileUploadedCallback, function (loaded, quotas, conflicts, networkErrors, errors, updated) {
      return dispatch(uploadQueueProcessed(loaded, quotas, conflicts, networkErrors, errors, updated));
    }));
  };
};

var uploadQueueProcessed = function uploadQueueProcessed(created, quotas, conflicts, networkErrors, errors, updated) {
  return function (dispatch) {
    var conflictCount = conflicts.length;
    var createdCount = created.length;
    var updatedCount = updated.length;

    if (quotas.length > 0) {
      // quota errors have their own modal instead of a notification
      dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_5__["showModal"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_upload_QuotaAlert__WEBPACK_IMPORTED_MODULE_7__["default"], null)));
    } else if (networkErrors.length > 0) {
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].info('upload.alert.network');
    } else if (errors.length > 0) {
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].info('upload.alert.errors');
    } else if (updatedCount > 0 && createdCount > 0 && conflictCount > 0) {
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].success('upload.alert.success_updated_conflicts', {
        smart_count: createdCount,
        updatedCount: updatedCount,
        conflictCount: conflictCount
      });
    } else if (updatedCount > 0 && createdCount > 0) {
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].success('upload.alert.success_updated', {
        smart_count: createdCount,
        updatedCount: updatedCount
      });
    } else if (updatedCount > 0 && conflictCount > 0) {
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].success('upload.alert.updated_conflicts', {
        smart_count: updatedCount,
        conflictCount: conflictCount
      });
    } else if (conflictCount > 0) {
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].info('upload.alert.success_conflicts', {
        smart_count: createdCount,
        conflictNumber: conflictCount
      });
    } else if (updatedCount > 0 && createdCount === 0) {
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].success('upload.alert.updated', {
        smart_count: updatedCount
      });
    } else {
      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].success('upload.alert.success', {
        smart_count: createdCount
      });
    }
  };
};
/**
 * Given a folderId, checks the current known state to return if
 * a folder with the same name exist in the given folderId.
 *
 * The local state can be incomplete so this can return false
 * negatives.
 */


var doesFolderExistByName = function doesFolderExistByName(state, parentFolderId, name) {
  var filesInCurrentView = Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_8__["getFolderContent"])(state, parentFolderId) || []; // TODO in the public view we don't use a query, so getFolderContent returns null. We could look inside the cozy-client store with a predicate to find folders with a matching dir_id.

  var existingFolder = filesInCurrentView.find(function (f) {
    return Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_3__["isDirectory"])(f) && f.name === name;
  });
  return Boolean(existingFolder);
};
/**
 * Creates a folder in the current view
 */


var createFolder = function createFolder(client, name) {
  return /*#__PURE__*/function () {
    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch, getState) {
      var state, currentFolderId, existingFolder;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              state = getState();
              currentFolderId = Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_8__["getCurrentFolderId"])(state);
              existingFolder = doesFolderExistByName(state, currentFolderId, name);

              if (!existingFolder) {
                _context.next = 6;
                break;
              }

              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].error('alert.folder_name', {
                folderName: name
              });
              throw new Error('alert.folder_name');

            case 6:
              _context.prev = 6;
              _context.next = 9;
              return client.create('io.cozy.files', {
                name: name,
                dirId: currentFolderId,
                type: 'directory'
              });

            case 9:
              _context.next = 15;
              break;

            case 11:
              _context.prev = 11;
              _context.t0 = _context["catch"](6);

              if (_context.t0.response && _context.t0.response.status === HTTP_CODE_CONFLICT) {
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].error('alert.folder_name', {
                  folderName: name
                });
              } else {
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__["default"].error('alert.folder_generic');
              }

              throw _context.t0;

            case 15:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[6, 11]]);
    }));

    return function (_x, _x2) {
      return _ref.apply(this, arguments);
    };
  }();
};

/***/ }),

/***/ "R6Il":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var drive_web_modules_layout_Topbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("J3YJ");



var FolderViewHeader = function FolderViewHeader(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_layout_Topbar__WEBPACK_IMPORTED_MODULE_1__["default"], null, children);
};

/* harmony default export */ __webpack_exports__["default"] = (FolderViewHeader);

/***/ }),

/***/ "S0v/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-drive_97875d123a5148949fad8643642c2c2b",
  "use": "icon-drive_97875d123a5148949fad8643642c2c2b-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-drive_97875d123a5148949fad8643642c2c2b\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 2)\">\n    <rect width=\"32\" height=\"26\" y=\"2\" fill=\"#B2D3FF\" rx=\"2\" />\n    <path fill=\"#197BFF\" d=\"M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "SZVt":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }



var ScrollToTop = /*#__PURE__*/function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(ScrollToTop, _React$Component);

  var _super = _createSuper(ScrollToTop);

  function ScrollToTop() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ScrollToTop);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ScrollToTop, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      window.scrollTo(0, 0);
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return ScrollToTop;
}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ScrollToTop);

/***/ }),

/***/ "SvPG":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MoreButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("qelF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MoreButton", function() { return _MoreButton__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _CozyHomeLink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("h0jr");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CozyHomeLink", function() { return _CozyHomeLink__WEBPACK_IMPORTED_MODULE_1__["default"]; });




/***/ }),

/***/ "T//5":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseFolderQueryId", function() { return parseFolderQueryId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatFolderQueryId", function() { return formatFolderQueryId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMirrorQueryId", function() { return getMirrorQueryId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildFolderQuery", function() { return buildFolderQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildDriveQuery", function() { return buildDriveQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildRecentQuery", function() { return buildRecentQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildParentsByIdsQuery", function() { return buildParentsByIdsQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildSharingsQuery", function() { return buildSharingsQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildTrashQueryFolder", function() { return buildTrashQueryFolder; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("Z7XG");



var DEFAULT_CACHE_TIMEOUT_QUERIES = 30 * 60 * 1000;
var defaultFetchPolicy = cozy_client__WEBPACK_IMPORTED_MODULE_1___default.a.fetchPolicies.olderThan(DEFAULT_CACHE_TIMEOUT_QUERIES);
var parseFolderQueryId = function parseFolderQueryId(maybeFolderQueryId) {
  var splitted = maybeFolderQueryId.split(' ');

  if (splitted.length !== 4) {
    return null;
  }

  return {
    type: splitted[0],
    folderId: splitted[1],
    sortAttribute: splitted[2],
    sortOrder: splitted[3]
  };
};
var formatFolderQueryId = function formatFolderQueryId(type, folderId, sortAttribute, sortOrder) {
  return "".concat(type, " ").concat(folderId, " ").concat(sortAttribute, " ").concat(sortOrder);
};

var buildDriveQuery = function buildDriveQuery(_ref) {
  var currentFolderId = _ref.currentFolderId,
      type = _ref.type,
      sortAttribute = _ref.sortAttribute,
      sortOrder = _ref.sortOrder;
  return {
    definition: function definition() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])('io.cozy.files').where(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({
        dir_id: currentFolderId,
        _id: {
          $ne: drive_constants_config__WEBPACK_IMPORTED_MODULE_2__["TRASH_DIR_ID"]
        },
        type: type
      }, sortAttribute, {
        $gt: null
      })).indexFields(['dir_id', 'type', sortAttribute]).sortBy([{
        dir_id: sortOrder
      }, {
        type: sortOrder
      }, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, sortAttribute, sortOrder)]).limitBy(100);
    },
    options: {
      as: formatFolderQueryId(type, currentFolderId, sortAttribute, sortOrder),
      fetchPolicy: defaultFetchPolicy
    }
  };
};

var buildRecentQuery = function buildRecentQuery() {
  return {
    definition: function definition() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])('io.cozy.files').where({
        trashed: false,
        type: 'file',
        updated_at: {
          $gt: null
        }
      }).indexFields(['updated_at', 'type', 'trashed']).sortBy([{
        updated_at: 'desc'
      }]).limitBy(100);
    },
    options: {
      as: 'recent-view-query',
      fetchPolicy: defaultFetchPolicy
    }
  };
};

var buildParentsByIdsQuery = function buildParentsByIdsQuery(ids) {
  return {
    definition: function definition() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])('io.cozy.files').getByIds(ids);
    },
    options: {
      as: "parents-by-ids-".concat(ids.join('')),
      fetchPolicy: defaultFetchPolicy
    }
  };
};

var buildSharingsQuery = function buildSharingsQuery(ids) {
  return {
    definition: function definition() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])('io.cozy.files').getByIds(ids).sortBy([{
        type: 'asc'
      }, {
        name: 'asc'
      }]);
    },
    options: {
      as: "sharings-by-ids-".concat(ids.join('')),
      fetchPolicy: defaultFetchPolicy
    }
  };
};

var buildTrashQueryFolder = function buildTrashQueryFolder(_ref3) {
  var currentFolderId = _ref3.currentFolderId,
      sortAttribute = _ref3.sortAttribute,
      sortOrder = _ref3.sortOrder,
      type = _ref3.type;
  return {
    definition: function definition() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])('io.cozy.files').where(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({
        dir_id: currentFolderId,
        type: type
      }, sortAttribute, {
        $gt: null
      })).indexFields(['dir_id', 'type', sortAttribute]).sortBy([{
        dir_id: sortOrder
      }, {
        type: sortOrder
      }, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, sortAttribute, sortOrder)]);
    },
    options: {
      as: "trash-".concat(formatFolderQueryId(type, currentFolderId, sortAttribute, sortOrder)),
      fetchPolicy: cozy_client__WEBPACK_IMPORTED_MODULE_1___default.a.fetchPolicies.olderThan(DEFAULT_CACHE_TIMEOUT_QUERIES)
    }
  };
};
/**
 * Get the query for folder if given the query for files
 * and vice versa.
 *
 * If given the queryId `directory id123 name desc`, will return
 * the query `files id123 name desc`.
 */


var getMirrorQueryId = function getMirrorQueryId(queryId) {
  var _parseFolderQueryId = parseFolderQueryId(queryId),
      type = _parseFolderQueryId.type,
      folderId = _parseFolderQueryId.folderId,
      sortAttribute = _parseFolderQueryId.sortAttribute,
      sortOrder = _parseFolderQueryId.sortOrder;

  var otherType = type === 'directory' ? 'file' : 'directory';
  var otherQueryId = formatFolderQueryId(otherType, folderId, sortAttribute, sortOrder);
  return otherQueryId;
};
var buildFolderQuery = function buildFolderQuery(folderId) {
  return {
    definition: function definition() {
      return Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["Q"])('io.cozy.files').getById(folderId).include(['parent']);
    },
    options: {
      as: 'folder-' + folderId,
      fetchPolicy: defaultFetchPolicy
    }
  };
};


/***/ }),

/***/ "T3Sg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-video_efbe0710a085efd6387e86cadaf16503",
  "use": "icon-type-video_efbe0710a085efd6387e86cadaf16503-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-video_efbe0710a085efd6387e86cadaf16503\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\">\n    <path fill=\"#FFC5CE\" d=\"M0,1.99161703 C0,0.891677316 0.89784041,0 1.99161703,0 L28.008383,0 C29.1083227,0 30,0.89784041 30,1.99161703 L30,28.008383 C30,29.1083227 29.1021596,30 28.008383,30 L1.99161703,30 C0.891677316,30 0,29.1021596 0,28.008383 L0,1.99161703 Z M1,14.0093689 C1,13.4519098 1.44335318,13 2.0093689,13 L3.9906311,13 C4.54809015,13 5,13.4433532 5,14.0093689 L5,15.9906311 C5,16.5480902 4.55664682,17 3.9906311,17 L2.0093689,17 C1.45190985,17 1,16.5566468 1,15.9906311 L1,14.0093689 Z M25,14.0093689 C25,13.4519098 25.4433532,13 26.0093689,13 L27.9906311,13 C28.5480902,13 29,13.4433532 29,14.0093689 L29,15.9906311 C29,16.5480902 28.5566468,17 27.9906311,17 L26.0093689,17 C25.4519098,17 25,16.5566468 25,15.9906311 L25,14.0093689 Z M1,7.99980749 C1,7.44762906 1.44335318,7 2.0093689,7 L3.9906311,7 C4.54809015,7 5,7.44371665 5,7.99980749 L5,11.0001925 C5,11.5523709 4.55664682,12 3.9906311,12 L2.0093689,12 C1.45190985,12 1,11.5562834 1,11.0001925 L1,7.99980749 Z M25,7.99980749 C25,7.44762906 25.4433532,7 26.0093689,7 L27.9906311,7 C28.5480902,7 29,7.44371665 29,7.99980749 L29,11.0001925 C29,11.5523709 28.5566468,12 27.9906311,12 L26.0093689,12 C25.4519098,12 25,11.5562834 25,11.0001925 L25,7.99980749 Z M1,24.9998075 C1,24.4476291 1.44335318,24 2.0093689,24 L3.9906311,24 C4.54809015,24 5,24.4437166 5,24.9998075 L5,28.0001925 C5,28.5523709 4.55664682,29 3.9906311,29 L2.0093689,29 C1.45190985,29 1,28.5562834 1,28.0001925 L1,24.9998075 Z M25,24.9998075 C25,24.4476291 25.4433532,24 26.0093689,24 L27.9906311,24 C28.5480902,24 29,24.4437166 29,24.9998075 L29,28.0001925 C29,28.5523709 28.5566468,29 27.9906311,29 L26.0093689,29 C25.4519098,29 25,28.5562834 25,28.0001925 L25,24.9998075 Z M1,1.99980749 C1,1.44762906 1.44335318,1 2.0093689,1 L3.9906311,1 C4.54809015,1 5,1.44371665 5,1.99980749 L5,5.00019251 C5,5.55237094 4.55664682,6 3.9906311,6 L2.0093689,6 C1.45190985,6 1,5.55628335 1,5.00019251 L1,1.99980749 Z M25,1.99980749 C25,1.44762906 25.4433532,1 26.0093689,1 L27.9906311,1 C28.5480902,1 29,1.44371665 29,1.99980749 L29,5.00019251 C29,5.55237094 28.5566468,6 27.9906311,6 L26.0093689,6 C25.4519098,6 25,5.55628335 25,5.00019251 L25,1.99980749 Z M1,18.9998075 C1,18.4476291 1.44335318,18 2.0093689,18 L3.9906311,18 C4.54809015,18 5,18.4437166 5,18.9998075 L5,22.0001925 C5,22.5523709 4.55664682,23 3.9906311,23 L2.0093689,23 C1.45190985,23 1,22.5562834 1,22.0001925 L1,18.9998075 Z M25,18.9998075 C25,18.4476291 25.4433532,18 26.0093689,18 L27.9906311,18 C28.5480902,18 29,18.4437166 29,18.9998075 L29,22.0001925 C29,22.5523709 28.5566468,23 27.9906311,23 L26.0093689,23 C25.4519098,23 25,22.5562834 25,22.0001925 L25,18.9998075 Z\" />\n    <path fill=\"#FF405D\" d=\"M11,9.61464155 C11,9.06099084 11.3798008,8.84004874 11.8525944,9.12372488 L20.1474056,14.1006116 C20.6182805,14.3831366 20.6201992,14.8400487 20.1474056,15.1237249 L11.8525944,20.1006116 C11.3817195,20.3831366 11,20.1564073 11,19.609695 L11,9.61464155 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "T6Hw":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("4kcP");
/* harmony import */ var _HistoryModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("yqib");






var trackEvent = function trackEvent() {
  var tracker = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_3__["getTracker"])();

  if (tracker) {
    tracker.push(['trackEvent', 'Drive', 'Versioning', 'OpenVersioningModal']);
  }
};

var FileHistory = function FileHistory(_ref) {
  var fileId = _ref.params.fileId;
  trackEvent();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_2__["Query"], {
    query: function query(client) {
      return client.get('io.cozy.files', fileId);
    }
  }, function (_ref2) {
    var file = _ref2.data,
        fileFetchStatus = _ref2.fetchStatus;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_client__WEBPACK_IMPORTED_MODULE_2__["Query"], {
      query: function query(client) {
        return client.all('io.cozy.files.versions').where({
          relationships: {
            file: {
              data: {
                _id: fileId
              }
            }
          },
          updated_at: {
            $gt: null
          }
        }).sortBy([{
          'relationships.file.data._id': 'desc'
        }, {
          updated_at: 'desc'
        }]).indexFields(['relationships.file.data._id', 'updated_at']);
      }
    }, function (_ref3) {
      var revisions = _ref3.data,
          revisionsFetchStatus = _ref3.fetchStatus;

      if (fileFetchStatus === 'loaded') {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HistoryModal__WEBPACK_IMPORTED_MODULE_4__["default"], {
          revisions: revisions,
          file: file,
          revisionsFetchStatus: revisionsFetchStatus,
          fileFetchStatus: fileFetchStatus
        });
      }

      return null;
    });
  });
};

FileHistory.propTypes = {
  params: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    fileId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
  })
};
/* harmony default export */ __webpack_exports__["default"] = (FileHistory);

/***/ }),

/***/ "TD9l":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-image_5a0af3714e77328d0c04b0d83712f645",
  "use": "icon-type-image_5a0af3714e77328d0c04b0d83712f645-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-image_5a0af3714e77328d0c04b0d83712f645\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 3)\">\n    <rect width=\"32\" height=\"26\" fill=\"#8EE39B\" rx=\"2\" />\n    <path fill=\"#1EC737\" d=\"M0,20 L6.29028051,13.7097195 C6.68224776,13.3177522 7.31387329,13.3138733 7.70591205,13.7059121 L11,17 L19.2937851,8.7062149 C19.6838168,8.31618318 20.320971,8.32097101 20.7058543,8.70585426 L32,20 L32,24.0020869 C32,25.1055038 31.1107383,26 29.9982567,26 L2.00174332,26 C0.89621101,26 0,25.1017394 0,24.0020869 L0,20 Z\" />\n    <circle cx=\"8\" cy=\"7\" r=\"3\" fill=\"#FFFFFF\" />\n    <path stroke=\"#8EE39B\" d=\"M11,16 L5.5,21.5 L11,16 Z\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "TI+A":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("7oMs");



var mapStateToProps = function mapStateToProps() {
  return {};
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    showSelectionBar: function showSelectionBar() {
      return dispatch(Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_1__["showSelectionBar"])());
    }
  };
};

var selectableContainer = function selectableContainer(component) {
  return Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(mapStateToProps, mapDispatchToProps)(component);
};

/* harmony default export */ __webpack_exports__["default"] = (selectableContainer);

/***/ }),

/***/ "UDtR":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("Bh3+");
/* harmony import */ var cozy_ui_transpiled_react_Sidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("9VR2");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("67rm");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("kdbL");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lib_flags__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("hy2B");
/* harmony import */ var drive_web_modules_navigation_Nav__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("hXE5");
/* harmony import */ var components_pushClient_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("zW80");
/* harmony import */ var components_pushClient_SupportUs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("90+y");
/* harmony import */ var drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("2U19");
/* harmony import */ var drive_mobile_modules_authorization_UserActionRequired__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("qG+M");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("H+Xc");
/* global __TARGET__ */













Object(lib_flags__WEBPACK_IMPORTED_MODULE_6__["initFlags"])();

var Layout = function Layout(_ref) {
  var t = _ref.t,
      children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_2__["Layout"], null, cozy_flags__WEBPACK_IMPORTED_MODULE_5___default()('switcher') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_flags__WEBPACK_IMPORTED_MODULE_5__["FlagSwitcher"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Sidebar__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: "u-flex-justify-between"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Nav__WEBPACK_IMPORTED_MODULE_7__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_pushClient_SupportUs__WEBPACK_IMPORTED_MODULE_9__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_pushClient_Button__WEBPACK_IMPORTED_MODULE_8__["default"], null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_4__["default"], {
    t: t
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_10__["UploadQueue"], null),  false && /*#__PURE__*/false, children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_12__["IconSprite"], null));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["translate"])()(Layout));

/***/ }),

/***/ "UQWb":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateStatusBackgroundService", function() { return updateStatusBackgroundService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startBackgroundService", function() { return startBackgroundService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disableBackgroundService", function() { return disableBackgroundService; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_store_configureStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("HK68");
/* harmony import */ var drive_store_persistedState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("1eh9");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("NMd3");
/* harmony import */ var _cozy_helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q3u0");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("qxHO");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("OTOu");
/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/GQe");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__);



/* eslint no-console: 0 */








/*
  This files is split on 4 parts:
    - GENERIC: Platform agnostic
    - SERVICE: The service background
    - ANDROID: The Android-specific part
    - IOS: The iOS-specific part

  Only 3 functions are export:
    - updateStatusBackgroundService: to enbale/disable background service
    - startBackgroundService: to start background service
    - disableBackgroundService: to disable background service

  For each platform (Android, iOS) we have:
    - has__platform__CordovaPlugin: Checks if the plugin is installed
    - enable__platform__BackgroundService and disable__platform__BackgroundService
    - start__platform__BackgroundService: Allowing to add a specific callback at the end of the service
*/
// GENERIC

var updateStatusBackgroundService = function updateStatusBackgroundService(backupImages) {
  if (backupImages) {
    enableBackgroundService();
  } else {
    disableBackgroundService();
  }
};
var startBackgroundService = function startBackgroundService() {
  if (hasIosCordovaPlugin()) {
    startIosBackgroundService();
  } else if (hasAndroidCordovaPlugin()) {
    startAndroidBackgroundService();
  } else {
    notCompatibleError();
  }
};

var enableBackgroundService = function enableBackgroundService() {
  if (hasIosCordovaPlugin()) {
    enableIosBackgroundService();
  } else if (hasAndroidCordovaPlugin()) {
    enableAndroidBackgroundService();
  } else {
    notCompatibleError();
  }
};

var disableBackgroundService = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!hasIosCordovaPlugin()) {
              _context.next = 4;
              break;
            }

            disableIosBackgroundService();
            _context.next = 10;
            break;

          case 4:
            if (!hasAndroidCordovaPlugin()) {
              _context.next = 9;
              break;
            }

            _context.next = 7;
            return disableAndroidBackgroundService();

          case 7:
            _context.next = 10;
            break;

          case 9:
            notCompatibleError();

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function disableBackgroundService() {
    return _ref.apply(this, arguments);
  };
}();

var notCompatibleError = function notCompatibleError() {
  var msg = 'Background Service is not compatible with your platform.';
  lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(msg);

  if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isMobileApp"])()) {
    lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log(Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["getPlatform"])());

    if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isIOSApp"])()) {
      lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log(window.BackgroundFetch);
    } else if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isAndroidApp"])()) {
      lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log(window.JSBackgroundService);
    }
  }

  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])(msg);
}; // SERVICE


var backgroundService = function backgroundService() {
  return new Promise(function (resolve) {
    lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log('BackgroundFetch initiated');
    Object(drive_store_persistedState__WEBPACK_IMPORTED_MODULE_3__["loadState"])().then(function (persistedState) {
      var cozyURL = persistedState.mobile.settings.serverUrl;
      Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["configureReporter"])();
      var client = Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_5__["initClient"])(cozyURL);
      var store = Object(drive_store_configureStore__WEBPACK_IMPORTED_MODULE_2__["default"])({
        client: client,
        t: Object(_i18n__WEBPACK_IMPORTED_MODULE_8__["getTranslateFunction"])(),
        initialState: persistedState
      });
      return store.dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_4__["startMediaBackup"])());
    }).then(resolve).catch(resolve);
  });
}; // ANDROID


var hasAndroidCordovaPlugin = function hasAndroidCordovaPlugin() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isAndroidApp"])() && window.JSBackgroundService !== undefined;
};

var enableAndroidBackgroundService = /*#__PURE__*/function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    var isEnable, repeatingPeriod;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return isEnableAndroidBackgroundService();

          case 2:
            isEnable = _context2.sent;

            if (!isEnable) {
              repeatingPeriod = 60 * 60 * 1000;
              window.JSBackgroundService.setRepeating(repeatingPeriod, function (err) {
                if (err) {
                  lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(err);
                  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])('enableAndroidBackgroundService error');
                }
              });
            }

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function enableAndroidBackgroundService() {
    return _ref2.apply(this, arguments);
  };
}();

var disableAndroidBackgroundService = /*#__PURE__*/function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
    var isEnable;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return isEnableAndroidBackgroundService();

          case 2:
            isEnable = _context3.sent;

            if (isEnable) {
              window.JSBackgroundService.cancelRepeating(function (err) {
                if (err) {
                  lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(err);
                  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])('disableAndroidBackgroundService error');
                }
              });
            }

          case 4:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function disableAndroidBackgroundService() {
    return _ref3.apply(this, arguments);
  };
}();

var startAndroidBackgroundService = function startAndroidBackgroundService() {
  backgroundService().then(function () {
    stopAndroidBackgroundService();
  });
};

var stopAndroidBackgroundService = function stopAndroidBackgroundService() {
  window.service.workDone();
};

var isEnableAndroidBackgroundService = function isEnableAndroidBackgroundService() {
  return new Promise(function (resolve) {
    window.JSBackgroundService.isRepeating(function (err, isSet) {
      if (err) {
        lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].warn(err);
        Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logException"])('isEnableAndroidBackgroundService error');
        resolve(false);
      }

      resolve(isSet);
    });
  });
}; // IOS


var hasIosCordovaPlugin = function hasIosCordovaPlugin() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_9__["isIOSApp"])() && window.BackgroundFetch !== undefined;
};

var enableIosBackgroundService = function enableIosBackgroundService() {
  // documentation: https://github.com/transistorsoft/cordova-plugin-background-fetch
  var fetcher = window.BackgroundFetch;

  var failureCallback = function failureCallback(error) {
    lib_logger__WEBPACK_IMPORTED_MODULE_7__["default"].log('BackgroundFetch failed', error);
  };

  var options = {
    stopOnTerminate: false
  };
  fetcher.configure(startIosBackgroundService, failureCallback, options);
};

var disableIosBackgroundService = function disableIosBackgroundService() {
  window.BackgroundFetch.stop();
};

var startIosBackgroundService = function startIosBackgroundService() {
  backgroundService().then(function () {
    stopIosBackgroundService();
  });
};

var stopIosBackgroundService = function stopIosBackgroundService() {
  window.BackgroundFetch.finish();
};

/***/ }),

/***/ "UWrV":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_URL", function() { return SET_URL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKUP_IMAGES", function() { return BACKUP_IMAGES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKUP_CONTACTS", function() { return BACKUP_CONTACTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WIFI_ONLY", function() { return WIFI_ONLY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_ANALYTICS", function() { return SET_ANALYTICS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SET_OFFLINE", function() { return SET_OFFLINE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setUrl", function() { return setUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOffline", function() { return setOffline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setWifiOnly", function() { return setWifiOnly; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setAnalytics", function() { return setAnalytics; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setBackupImages", function() { return setBackupImages; });
/* harmony import */ var drive_mobile_lib_tracker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("WBR0");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("CsTO");


var SET_URL = 'SET_URL';
var BACKUP_IMAGES = 'BACKUP_IMAGES';
var BACKUP_CONTACTS = 'BACKUP_CONTACTS';
var WIFI_ONLY = 'WIFI_ONLY';
var SET_ANALYTICS = 'SET_ANALYTICS';
var SET_OFFLINE = 'SET_OFFLINE';
var setUrl = function setUrl(url) {
  return {
    type: SET_URL,
    url: url
  };
};
var setOffline = function setOffline(offline) {
  return {
    type: SET_OFFLINE,
    offline: offline
  };
};
var setWifiOnly = function setWifiOnly(wifiOnly) {
  return {
    type: WIFI_ONLY,
    wifiOnly: wifiOnly
  };
};
var setAnalytics = function setAnalytics(analytics) {
  return function (dispatch, getState) {
    dispatch({
      type: SET_ANALYTICS,
      analytics: analytics
    });
    var serverUrl = Object(_reducers__WEBPACK_IMPORTED_MODULE_1__["getServerUrl"])(getState());

    if (analytics && serverUrl) {
      Object(drive_mobile_lib_tracker__WEBPACK_IMPORTED_MODULE_0__["startTracker"])(serverUrl);
    } else if (analytics === false) {
      Object(drive_mobile_lib_tracker__WEBPACK_IMPORTED_MODULE_0__["stopTracker"])();
    }
  };
};
var setBackupImages = function setBackupImages(backupImages) {
  return {
    type: BACKUP_IMAGES,
    backupImages: backupImages
  };
};

/***/ }),

/***/ "VEsK":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecentView", function() { return RecentView; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("UmWK");
/* harmony import */ var drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("6TdX");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("/MKj");
/* harmony import */ var _Folder_FolderView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("3vrf");
/* harmony import */ var _Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("R6Il");
/* harmony import */ var _Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("kvbT");
/* harmony import */ var drive_web_modules_drive_Toolbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("cAso");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_MobileAwareBreadcrumb__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("uty3");
/* harmony import */ var drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("9j6G");
/* harmony import */ var drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("PGBS");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("T//5");
/* harmony import */ var _useFilesQueryWithPath__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("X/fl");















var RecentView = function RecentView(_ref) {
  var router = _ref.router,
      location = _ref.location,
      children = _ref.children;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["useI18n"])(),
      t = _useI18n.t;

  var query = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_13__["buildRecentQuery"])();
  var result = Object(_useFilesQueryWithPath__WEBPACK_IMPORTED_MODULE_14__["useFilesQueryWithPath"])(query);
  var navigateToFolder = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (folderId) {
    router.push("/folder/".concat(folderId));
  });
  var navigateToFile = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (file) {
    router.push("/recent/file/".concat(file.id));
  });
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useClient"])();

  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_2__["ModalContext"]),
      pushModal = _useContext.pushModal,
      popModal = _useContext.popModal;

  var _useContext2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(cozy_sharing__WEBPACK_IMPORTED_MODULE_1__["SharingContext"]),
      refresh = _useContext2.refresh;

  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useDispatch"])();
  var actionsOptions = {
    client: client,
    pushModal: pushModal,
    popModal: popModal,
    refresh: refresh,
    dispatch: dispatch,
    router: router,
    location: location,
    hasWriteAccess: true,
    canMove: true
  };
  var actions = Object(drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_11__["default"])([drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__["download"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__["trash"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__["open"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__["rename"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__["move"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__["qualify"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__["versions"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_12__["offline"]], actionsOptions);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Folder_FolderView__WEBPACK_IMPORTED_MODULE_6__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_7__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Breadcrumb_MobileAwareBreadcrumb__WEBPACK_IMPORTED_MODULE_10__["MobileAwareBreadcrumb"], {
    path: [{
      name: t('breadcrumb.title_recent')
    }]
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_drive_Toolbar__WEBPACK_IMPORTED_MODULE_9__["default"], {
    canUpload: false,
    canCreateFolder: false
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_8__["default"], {
    navigateToFolder: navigateToFolder,
    navigateToFile: navigateToFile,
    actions: actions,
    queryResults: [result],
    canSort: false,
    withFilePath: true
  }), children);
};
/* harmony default export */ __webpack_exports__["default"] = (RecentView);

/***/ }),

/***/ "VFG3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("i8i4");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var drive_web_modules_upload_UploadQueue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("trYA");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("H+Xc");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }






var PortaledQueue = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(PortaledQueue, _Component);

  var _super = _createSuper(PortaledQueue);

  function PortaledQueue() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, PortaledQueue);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(PortaledQueue, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          file = _this$props.file,
          doneCount = _this$props.doneCount,
          successCount = _this$props.successCount,
          t = _this$props.t,
          onClear = _this$props.onClear;
      return react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(drive_web_modules_upload_UploadQueue__WEBPACK_IMPORTED_MODULE_7__["DumbUploadQueue"], {
        queue: file ? [file] : [],
        doneCount: doneCount,
        successCount: successCount,
        t: t,
        purgeQueue: onClear
      }), document.querySelector('[role=application]'));
    }
  }]);

  return PortaledQueue;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_8__["translate"])()(PortaledQueue));

/***/ }),

/***/ "VK0b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharingsView", function() { return SharingsView; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("UmWK");
/* harmony import */ var drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("6TdX");
/* harmony import */ var drive_web_modules_drive_Toolbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("cAso");
/* harmony import */ var _Folder_FolderView__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("3vrf");
/* harmony import */ var _Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("R6Il");
/* harmony import */ var _Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("kvbT");
/* harmony import */ var _withSharedDocumentIds__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("mx4X");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_MobileAwareBreadcrumb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("uty3");
/* harmony import */ var drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("9j6G");
/* harmony import */ var drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("PGBS");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("T//5");
/* harmony import */ var _Recent_useFilesQueryWithPath__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("X/fl");
















var SharingsView = function SharingsView(_ref) {
  var router = _ref.router,
      location = _ref.location,
      _ref$sharedDocumentId = _ref.sharedDocumentIds,
      sharedDocumentIds = _ref$sharedDocumentId === void 0 ? [] : _ref$sharedDocumentId,
      children = _ref.children;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["useI18n"])(),
      t = _useI18n.t;

  var query = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_14__["buildSharingsQuery"])(sharedDocumentIds);
  var result = Object(_Recent_useFilesQueryWithPath__WEBPACK_IMPORTED_MODULE_15__["useFilesQueryWithPath"])(query);
  var navigateToFolder = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (folderId) {
    router.push("/sharings/".concat(folderId));
  });
  var navigateToFile = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (file) {
    router.push("/sharings/file/".concat(file.id));
  });
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useClient"])();

  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_5__["ModalContext"]),
      pushModal = _useContext.pushModal,
      popModal = _useContext.popModal;

  var _useContext2 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(cozy_sharing__WEBPACK_IMPORTED_MODULE_4__["SharingContext"]),
      refresh = _useContext2.refresh;

  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["useDispatch"])();
  var actionsOptions = {
    client: client,
    pushModal: pushModal,
    popModal: popModal,
    refresh: refresh,
    dispatch: dispatch,
    router: router,
    location: location,
    hasWriteAccess: true,
    canMove: true
  };
  var actions = Object(drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_12__["default"])([drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["download"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["open"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["rename"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["move"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["qualify"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["versions"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_13__["offline"]], actionsOptions);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Folder_FolderView__WEBPACK_IMPORTED_MODULE_7__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_8__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Breadcrumb_MobileAwareBreadcrumb__WEBPACK_IMPORTED_MODULE_11__["MobileAwareBreadcrumb"], {
    path: [{
      name: t('breadcrumb.title_sharings')
    }]
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_drive_Toolbar__WEBPACK_IMPORTED_MODULE_6__["default"], {
    canUpload: false,
    canCreateFolder: false
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_9__["default"], {
    navigateToFolder: navigateToFolder,
    navigateToFile: navigateToFile,
    actions: actions,
    queryResults: [result],
    canSort: false,
    withFilePath: true
  }), children);
};
/* harmony default export */ __webpack_exports__["default"] = (Object(_withSharedDocumentIds__WEBPACK_IMPORTED_MODULE_10__["default"])(SharingsView));

/***/ }),

/***/ "VL2R":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("y6ex");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var components_pushClient__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("IFEr");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("PhqT");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var drive_config_config_json__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("FKqX");
var drive_config_config_json__WEBPACK_IMPORTED_MODULE_15___namespace = /*#__PURE__*/__webpack_require__.t("FKqX", 1);
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16__);










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }










var CallToAction = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(CallToAction, _Component);

  var _super = _createSuper(CallToAction);

  function CallToAction() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, CallToAction);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      mustShow: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "markAsSeen", function () {
      localforage__WEBPACK_IMPORTED_MODULE_12___default.a.setItem(components_pushClient__WEBPACK_IMPORTED_MODULE_13__["NOVIEWER_DESKTOP_CTA"], true);

      _this.setState({
        mustShow: false
      });
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(CallToAction, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var seen, mustSee;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!(drive_config_config_json__WEBPACK_IMPORTED_MODULE_15__.promoteDesktop.isActivated !== true)) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return");

              case 2:
                _context.next = 4;
                return localforage__WEBPACK_IMPORTED_MODULE_12___default.a.getItem(components_pushClient__WEBPACK_IMPORTED_MODULE_13__["NOVIEWER_DESKTOP_CTA"]);

              case 4:
                _context.t0 = _context.sent;

                if (_context.t0) {
                  _context.next = 7;
                  break;
                }

                _context.t0 = false;

              case 7:
                seen = _context.t0;

                if (seen) {
                  _context.next = 19;
                  break;
                }

                _context.prev = 9;
                _context.next = 12;
                return Object(components_pushClient__WEBPACK_IMPORTED_MODULE_13__["isClientAlreadyInstalled"])(this.props.client);

              case 12:
                mustSee = !_context.sent;

                if (mustSee) {
                  this.setState({
                    mustShow: true
                  });
                }

                _context.next = 19;
                break;

              case 16:
                _context.prev = 16;
                _context.t1 = _context["catch"](9);
                this.setState({
                  mustShow: false
                });

              case 19:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[9, 16]]);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "render",
    value: function render() {
      if (!this.state.mustShow || drive_config_config_json__WEBPACK_IMPORTED_MODULE_15__.promoteDesktop.isActivated !== true) return null;
      var t = this.props.t;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a['pho-viewer-noviewer-cta']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: _styles_styl__WEBPACK_IMPORTED_MODULE_14___default.a['pho-viewer-noviewer-cta-cross'],
        color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16___default.a.white,
        icon: "cross",
        onClick: this.markAsSeen
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h3", null, t('Viewer.noviewer.cta.saveTime')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("ul", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a", {
        //eslint-disable-next-line react/jsx-no-target-blank
        target: "_blank",
        href: t(Object(components_pushClient__WEBPACK_IMPORTED_MODULE_13__["isLinux"])() ? 'Nav.link-client' : 'Nav.link-client-desktop')
      }, t('Viewer.noviewer.cta.installDesktop'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("li", null, t('Viewer.noviewer.cta.accessFiles'))));
    }
  }]);

  return CallToAction;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_11__["withClient"])(CallToAction));

/***/ }),

/***/ "VcLO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFolderPath", function() { return getFolderPath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getViewerPath", function() { return getViewerPath; });
var getFolderPath = function getFolderPath(folderId) {
  return "/folder/".concat(folderId);
};
var getViewerPath = function getViewerPath(folderId, fileId) {
  return "/folder/".concat(folderId, "/file/").concat(fileId);
};

/***/ }),

/***/ "W4HF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("GoJ1");
/* harmony import */ var cozy_ui_transpiled_react_Icon_Sprite__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("le8I");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var assets_icons_icon_folder_broken_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Xbs7");







var ExternalRedirect = function ExternalRedirect(_ref) {
  var fileId = _ref.params.fileId,
      t = _ref.t;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useClient"])();

  var _useFetchShortcut = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useFetchShortcut"])(client, fileId),
      shortcutInfos = _useFetchShortcut.shortcutInfos,
      fetchStatus = _useFetchShortcut.fetchStatus;

  if (shortcutInfos) {
    window.location.href = shortcutInfos.data.attributes.url;
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon_Sprite__WEBPACK_IMPORTED_MODULE_3__["default"], null), fetchStatus === 'failed' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_2__["default"], {
    "data-test-id": "empty-share",
    icon: assets_icons_icon_folder_broken_svg__WEBPACK_IMPORTED_MODULE_5__["default"],
    title: t('External.redirection.title'),
    text: t('External.redirection.error')
  }), fetchStatus !== 'failed' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Empty__WEBPACK_IMPORTED_MODULE_2__["default"], {
    "data-test-id": "empty-share",
    icon: 'globe',
    title: t('External.redirection.title'),
    text: t('External.redirection.text')
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])()(ExternalRedirect));

/***/ }),

/***/ "WBR0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useHistoryForTracker", function() { return useHistoryForTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startTracker", function() { return startTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopTracker", function() { return stopTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startHeartBeat", function() { return startHeartBeat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopHeartBeat", function() { return stopHeartBeat; });
/* harmony import */ var cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4kcP");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("Ow0/");
/* global __PIWIK_TRACKER_URL__ __PIWIK_SITEID_MOBILE__ */


var mobileHeartBeatDelay = 30; // how many seconds between each hreatbeat ping to the server
// We'll need access to the app's router history at some point

var appHistory;
var useHistoryForTracker = function useHistoryForTracker(history) {
  appHistory = history;
};
var startTracker = function startTracker() {
  var cozyServerUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  // start the tracker, inject the script
  var trackerInstance = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["getTracker"])("https://matomo.cozycloud.cc", 12, false, true); // configure the options that aren't in webpack variables

  var url = new URL(cozyServerUrl);
  Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["configureTracker"])({
    userId: url.hostname || cozyServerUrl,
    app: _constants__WEBPACK_IMPORTED_MODULE_1__["SOFTWARE_ID"],
    heartbeat: mobileHeartBeatDelay
  }); // connect to the router history if possible

  if (appHistory && trackerInstance) {
    trackerInstance.connectToHistory(appHistory);
    trackerInstance.track(appHistory.getCurrentLocation()); // force tracking the current page
  }
};
var stopTracker = function stopTracker() {
  Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["resetTracker"])();
  stopHeartBeat();
};
var startHeartBeat = function startHeartBeat() {
  var trackerInstance = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["getTracker"])();

  if (trackerInstance) {
    try {
      trackerInstance.push(['enableHeartBeatTimer', mobileHeartBeatDelay]);
    } catch (err) {//logger.log(err)
    }
  }
};
var stopHeartBeat = function stopHeartBeat() {
  var trackerInstance = Object(cozy_ui_transpiled_react_helpers_tracker__WEBPACK_IMPORTED_MODULE_0__["getTracker"])();

  if (trackerInstance) {
    try {
      trackerInstance.push(['disableHeartBeatTimer']); // undocumented, see https://github.com/piwik/piwik/blob/3.x-dev/js/piwik.js#L6544
    } catch (err) {//logger.log(err)
    }
  }
};

/***/ }),

/***/ "WMvU":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilesViewerLoading", function() { return FilesViewerLoading; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("BJ98");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("buk/");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("OTOu");
/* harmony import */ var drive_web_modules_viewer_Fallback__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("wKlF");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16__);










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }









var FilesViewerLoading = function FilesViewerLoading() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_12__["Overlay"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_12__["Spinner"], {
    size: "xxlarge",
    middle: true,
    noMargin: true,
    color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16___default.a.white
  }));
};
/**
 * Shows a set of files through cozy-ui's Viewer
 *
 * - Re-uses the cozy-client's Query for the current directory files
 *   with the same sort order.
 * - If the file to show is not present in the query results, will call
 *   fetchMore() on the query
 */

var FilesViewer = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(FilesViewer, _Component);

  var _super = _createSuper(FilesViewer);

  function FilesViewer() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FilesViewer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      currentFile: null
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "_mounted", false);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "onClose", function () {
      if (_this.props.onClose) {
        _this.props.onClose();
      }
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "onChange", function (nextFile) {
      if (_this.props.onChange) {
        _this.props.onChange(nextFile.id);
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FilesViewer, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this._mounted = true;
      this.fetchFileIfNecessary();
      this.fetchMoreIfNecessary();
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps() {
      this.fetchMoreIfNecessary();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._mounted = false;
    } // If we can't find the file in the loaded files, that's probably because the user
    // is trying to open a direct link to a file that wasn't in the first 50 files of
    // the containing folder (it comes from a fetchMore...) ; we load the file attributes
    // directly as a contingency measure

  }, {
    key: "fetchFileIfNecessary",
    value: function () {
      var _fetchFileIfNecessary = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var _this$props, fileId, client, _yield$client$query, data;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!(this.getCurrentIndex() !== -1)) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return");

              case 2:
                if (this.state.currentFile && this._mounted) {
                  this.setState({
                    currentFile: null
                  });
                }

                _this$props = this.props, fileId = _this$props.fileId, client = _this$props.client;
                _context.prev = 4;
                _context.next = 7;
                return client.query(client.get('io.cozy.files', fileId));

              case 7:
                _yield$client$query = _context.sent;
                data = _yield$client$query.data;
                this.setState({
                  currentFile: data
                });
                _context.next = 16;
                break;

              case 12:
                _context.prev = 12;
                _context.t0 = _context["catch"](4);
                lib_logger__WEBPACK_IMPORTED_MODULE_14__["default"].warn("can't find the file");
                this.onClose();

              case 16:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[4, 12]]);
      }));

      function fetchFileIfNecessary() {
        return _fetchFileIfNecessary.apply(this, arguments);
      }

      return fetchFileIfNecessary;
    }()
  }, {
    key: "fetchMoreIfNecessary",
    value: function () {
      var _fetchMoreIfNecessary = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
        var _this$props2, files, fileId, filesQuery, fileCount, currentIndex;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                if (!this.fetchingMore) {
                  _context2.next = 2;
                  break;
                }

                return _context2.abrupt("return");

              case 2:
                this.fetchingMore = true;
                _context2.prev = 3;
                _this$props2 = this.props, files = _this$props2.files, fileId = _this$props2.fileId, filesQuery = _this$props2.filesQuery;
                fileCount = filesQuery.count; // If we get close of the last file fetched, but we know there are more in the folder
                // (it shouldn't happen in /recent), we fetch more files

                currentIndex = files.findIndex(function (f) {
                  return f.id === fileId;
                });

                if (!(files.length !== fileCount && files.length - currentIndex <= 5)) {
                  _context2.next = 10;
                  break;
                }

                _context2.next = 10;
                return filesQuery.fetchMore();

              case 10:
                _context2.prev = 10;
                this.fetchingMore = false;
                return _context2.finish(10);

              case 13:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[3,, 10, 13]]);
      }));

      function fetchMoreIfNecessary() {
        return _fetchMoreIfNecessary.apply(this, arguments);
      }

      return fetchMoreIfNecessary;
    }()
  }, {
    key: "getCurrentIndex",
    value: function getCurrentIndex() {
      var _this$props3 = this.props,
          files = _this$props3.files,
          fileId = _this$props3.fileId;
      return files.findIndex(function (f) {
        return f.id === fileId;
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props4 = this.props,
          t = _this$props4.t,
          files = _this$props4.files;
      var currentIndex = this.getCurrentIndex(); // If we can't find the file, we fallback to the (potentially loading)
      // direct stat made by the viewer

      if (currentIndex === -1 && !this.state.currentFile) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(FilesViewerLoading, null);
      } else {
        var hasCurrentIndex = currentIndex != -1;
        var viewerFiles = hasCurrentIndex ? files : [this.state.currentFile];
        var viewerIndex = hasCurrentIndex ? currentIndex : 0;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_12__["Overlay"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_12__["Viewer"], {
          files: viewerFiles,
          currentIndex: viewerIndex,
          onChangeRequest: this.onChange,
          onCloseRequest: this.onClose,
          renderFallbackExtraContent: function renderFallbackExtraContent(file) {
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(drive_web_modules_viewer_Fallback__WEBPACK_IMPORTED_MODULE_15__["default"], {
              file: file,
              t: t
            });
          }
        }));
      }
    }
  }]);

  return FilesViewer;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (lodash_flowRight__WEBPACK_IMPORTED_MODULE_10___default()(cozy_client__WEBPACK_IMPORTED_MODULE_11__["withClient"], Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_13__["translate"])())(FilesViewer));

/***/ }),

/***/ "Wu9Y":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-trash-big_48355d429631705f7ab5001494a0529c",
  "use": "icon-trash-big_48355d429631705f7ab5001494a0529c-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-trash-big_48355d429631705f7ab5001494a0529c\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(2)\">\n    <path fill=\"#D1D5DB\" d=\"M2,8 L26,8 L26,28.009947 C26,30.2135924 24.2157067,32 22.009947,32 L5.99005301,32 C3.78640758,32 2,30.2157067 2,28.009947 L2,8 Z\" />\n    <path fill=\"#A3ACB8\" d=\"M7,2 L1.99124431,2 C0.899897516,2 0,2.8954305 0,4 L0,6 L28,6 L28,4 C28,2.88772964 27.1084896,2 26.0087557,2 L21,2 L20.4438648,0.887729645 C20.1990795,0.398159027 19.5511774,0 18.9975267,0 L9.00247329,0 C8.45576096,0 7.80127495,0.3974501 7.55613518,0.887729645 L7,2 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "X/0B":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CozyHomeLinkIcon", function() { return CozyHomeLinkIcon; });
var CozyHomeLinkIcon = 'cloud';
/* harmony default export */ __webpack_exports__["default"] = (CozyHomeLinkIcon);

/***/ }),

/***/ "X/fl":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useFilesQueryWithPath", function() { return useFilesQueryWithPath; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("7tbW");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("QVEU");
/* harmony import */ var lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_keyBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("T//5");






var useFilesQueryWithPath = function useFilesQueryWithPath(query) {
  var result = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(query.definition, query.options);
  var resultData = result.data || [];
  var dirIds = lodash_uniq__WEBPACK_IMPORTED_MODULE_3___default()(resultData.map(function (_ref) {
    var dir_id = _ref.dir_id;
    return dir_id;
  }));
  var parentsQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_5__["buildParentsByIdsQuery"])(dirIds);
  var parentsResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(parentsQuery.definition, parentsQuery.options);
  var parentsResultData = parentsResult.data || [];
  var parentsDocsById = {};
  var isLoading = parentsResult.fetchStatus === 'loading' && !parentsResult.lastUpdate;

  if (!isLoading && parentsResultData.length > 0) {
    parentsDocsById = lodash_keyBy__WEBPACK_IMPORTED_MODULE_4___default()(parentsResult.data, '_id');
  }

  return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, result, {
    data: resultData.map(function (file) {
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, file, {
        displayedPath: lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(parentsDocsById[file.dir_id], 'path')
      });
    })
  });
};

/***/ }),

/***/ "XA+M":
/***/ (function(module, exports) {

module.exports = {"name":"Drive","name_prefix":"Cozy","slug":"drive","version":"1.27.0","type":"webapp","licence":"AGPL-3.0","icon":"public/app-icon.svg","categories":["cozy"],"source":"https://github.com/cozy/cozy-drive","editor":"Cozy","developer":{"name":"Cozy Cloud","url":"https://cozy.io"},"locales":{"en":{"short_description":"Cozy Drive helps you to save, sync and secure your files on your Cozy.","long_description":"With Cozy Drive, you can easily:\n- Store your important files and keep them secure in your Cozy\n- Access to all your documents online & offline, from your desktop, and on your smartphone or tablet\n- Share links to files ans folders with who you like;\n- Automatically retrieve bills, payrolls, tax notices and other data from your main online services (internet, energy, retail, mobile, energy, travel...)\n- Upload files to your Cozy from your Android","screenshots":["screenshots/en/screenshot01.png","screenshots/en/screenshot02.png","screenshots/en/screenshot03.png","screenshots/en/screenshot04.png"]},"fr":{"short_description":"Cozy Drive est l’application de sauvegarde, de synchronisation et de sécurisation de tous vos fichiers sur Cozy.","long_description":"Avec Cozy Drive vous pourrez :\n- Sauvegarder et synchroniser gratuitement tous vos documents importants (carte d’identité, photos de vacances, avis d’imposition, fiches de salaires…);\n- Accéder à vos documents n’importe quand, n’importe ou même en mode avion depuis votre bureau, votre smartphone ou tablette;\n- Partager vos fichiers et dossiers par lien avec qui vous le souhaitez;\n- Récupérer automatiquement vos documents administratifs de vos principaux fournisseurs de service (opérateur mobile, fournisseur d’énergie, assureur, internet, santé…);\n- Rester synchronisé·e lors de vos voyages et déplacements professionnels avec nos applications mobiles.","screenshots":["screenshots/fr/screenshot01.png","screenshots/fr/screenshot02.png","screenshots/fr/screenshot03.png","screenshots/fr/screenshot04.png"]}},"screenshots":["screenshots/fr/screenshot01.png","screenshots/fr/screenshot02.png","screenshots/fr/screenshot03.png","screenshots/fr/screenshot04.png"],"langs":["en","fr"],"platforms":[{"type":"ios","url":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8"},{"type":"android","url":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile"}],"routes":{"/":{"folder":"/","index":"index.html","public":false},"/intents":{"folder":"/intents","index":"index.html","public":false},"/public":{"folder":"/public","index":"index.html","public":true},"/preview":{"folder":"/public","index":"index.html","public":true}},"intents":[{"action":"OPEN","type":["io.cozy.files"],"href":"/intents"},{"action":"GET_URL","type":["io.cozy.files"],"href":"/intents"},{"action":"OPEN","type":["io.cozy.suggestions"],"href":"/intents"}],"permissions":{"files":{"description":"Required to access the files","type":"io.cozy.files","verbs":["ALL"]},"filesversions":{"type":"io.cozy.files.versions","vebrs":["ALL"]},"apps":{"description":"Required by the cozy-bar to display the icons of the apps","type":"io.cozy.apps","verbs":["GET"]},"albums":{"description":"Required to manage photos albums","type":"io.cozy.photos.albums","verbs":["PUT"]},"contacts":{"type":"io.cozy.contacts","verbs":["GET","POST"]},"groups":{"type":"io.cozy.contacts.groups","verbs":["GET"]},"settings":{"description":"Required by the cozy-bar to display Claudy and know which applications are coming soon","type":"io.cozy.settings","verbs":["GET"]},"oauth":{"description":"Required to display the cozy-desktop banner","type":"io.cozy.oauth.clients","verbs":["GET"]},"reporting":{"description":"Allow to report unexpected errors to the support team","type":"cc.cozycloud.sentry","verbs":["POST"]},"mail":{"description":"Send feedback emails to the support team","type":"io.cozy.jobs","verbs":["POST"],"selector":"worker","values":["sendmail"]}}}

/***/ }),

/***/ "XHeq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadUptodate = function UploadUptodate(_ref) {
  var t = _ref.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status--success'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, t('mobile.settings.media_backup.media_uptodate')));
};

UploadUptodate.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadUptodate);

/***/ }),

/***/ "XXXr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RouterContext", function() { return RouterContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RouterContextProvider", function() { return RouterContextProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useRouter", function() { return useRouter; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("dtw8");


var RouterContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext();
var RouterContextProvider = Object(react_router__WEBPACK_IMPORTED_MODULE_1__["withRouter"])(function (_ref) {
  var children = _ref.children,
      router = _ref.router,
      params = _ref.params,
      location = _ref.location,
      routes = _ref.routes;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RouterContext.Provider, {
    value: {
      router: router,
      params: params,
      location: location,
      routes: routes
    }
  }, children);
});
var useRouter = function useRouter() {
  return Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(RouterContext);
};

/***/ }),

/***/ "Xbs7":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17",
  "use": "icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 2)\">\n    <path fill=\"#FDD5D5\" d=\"M0,4.00585866 C0,2.89805351 0.889261723,2 2.00174332,2 L29.9982567,2 C31.103789,2 32,2.89354265 32,4.00276013 L32,15 L24,19 L8,12 L0,16 L0,4.00585866 Z M0,18 L8,14 L24,21 L32,17 L32,26.007983 C32,27.1081436 31.1107383,28 29.9982567,28 L2.00174332,28 C0.89621101,28 0,27.1125667 0,26.000385 L0,18 Z\" />\n    <path fill=\"#F52D2D\" d=\"M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "XetN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_web_modules_filelist_LoadMore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("0uru");




var LoadMore = function LoadMore(_ref) {
  var hasMore = _ref.hasMore,
      fetchMore = _ref.fetchMore;
  return hasMore ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_LoadMore__WEBPACK_IMPORTED_MODULE_2__["default"], {
    onClick: fetchMore,
    isLoading: false
  }) : false;
};

LoadMore.propTypes = {
  hasMore: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  fetchMore: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (LoadMore);

/***/ }),

/***/ "XxWZ":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-topbar":"fil-topbar--1eJFH","hidden-mobile":"hidden-mobile--x6udF","spin":"spin--KIZH2","shake":"shake--2eSbq"};

/***/ }),

/***/ "YJGQ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routes", function() { return routes; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("dtw8");
/* harmony import */ var drive_mobile_modules_settings_Settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("PzXC");
/* harmony import */ var drive_mobile_modules_onboarding_OnBoarding__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("B6p6");
/* harmony import */ var drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("XXXr");
/* harmony import */ var drive_web_modules_layout_Layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("UDtR");
/* harmony import */ var drive_web_modules_viewer_FileOpenerExternal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("udIP");
/* harmony import */ var components_FileHistory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("T6Hw");
/* harmony import */ var drive_mobile_modules_upload__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("2nHF");
/* harmony import */ var _ExternalRedirect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("W4HF");
/* harmony import */ var _views_Drive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("jVge");
/* harmony import */ var _views_Drive_FilesViewerDrive__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("uJaJ");
/* harmony import */ var _views_Recent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("VEsK");
/* harmony import */ var _views_Trash_FilesViewerTrash__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("tq61");
/* harmony import */ var _views_Trash_TrashFolderView__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("pwBM");
/* harmony import */ var _views_Sharings__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("VK0b");
/* harmony import */ var _views_Sharings_FilesViewerSharings__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("3eMW");
/* harmony import */ var _views_Sharings_SharingsFolderView__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("+tGv");
/* harmony import */ var _views_Recent_FilesViewerRecent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("dFe2");
/* global __TARGET__ */


















 // To keep in sync with AppRoute below, used to extract params
// in the "router" redux slice. Innermost routes should be
// first

var routes = ['/folder/:folderId', '/folder/:folderId/file/:fileId', '/folder/:folderId/file/:fileId/revision', '/recent/file/:fileId', '/recent/file/:fileId/revision', '/sharings/:folderId', '/sharings/:folderId/file/:fileId', '/sharings/:folderId/file/:fileId/revision', '/sharings/file/:fileId', '/sharings/file/:fileId/revision', '/trash/:folderId/file/:fileId', '/trash/:folderId', '/file/:fileId'];

var RootComponent = function RootComponent(routerProps) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_layout_Layout__WEBPACK_IMPORTED_MODULE_5__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_4__["RouterContextProvider"], routerProps));
};

var AppRoute = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "external/:fileId",
  component: _ExternalRedirect__WEBPACK_IMPORTED_MODULE_9__["default"]
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  component: RootComponent
},  false && /*#__PURE__*/false, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Redirect"], {
  from: "/files/:folderId",
  to: "/folder/:folderId"
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Redirect"], {
  from: "/",
  to: "folder"
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "folder",
  component: _views_Drive__WEBPACK_IMPORTED_MODULE_10__["default"]
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: ":folderId"
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId",
  component: _views_Drive_FilesViewerDrive__WEBPACK_IMPORTED_MODULE_11__["default"]
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId/revision",
  component: components_FileHistory__WEBPACK_IMPORTED_MODULE_7__["default"]
})), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId",
  component: _views_Drive_FilesViewerDrive__WEBPACK_IMPORTED_MODULE_11__["default"]
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId/revision",
  component: components_FileHistory__WEBPACK_IMPORTED_MODULE_7__["default"]
})), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "recent",
  component: _views_Recent__WEBPACK_IMPORTED_MODULE_12__["default"]
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId",
  component: _views_Recent_FilesViewerRecent__WEBPACK_IMPORTED_MODULE_18__["default"]
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId/revision",
  component: components_FileHistory__WEBPACK_IMPORTED_MODULE_7__["default"]
})), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "trash"
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["IndexRoute"], {
  component: _views_Trash_TrashFolderView__WEBPACK_IMPORTED_MODULE_14__["default"]
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: ":folderId",
  component: _views_Trash_TrashFolderView__WEBPACK_IMPORTED_MODULE_14__["default"]
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId",
  component: _views_Trash_FilesViewerTrash__WEBPACK_IMPORTED_MODULE_13__["default"]
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId/revision",
  component: components_FileHistory__WEBPACK_IMPORTED_MODULE_7__["default"]
}))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "sharings"
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["IndexRoute"], {
  component: _views_Sharings__WEBPACK_IMPORTED_MODULE_15__["default"]
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  component: _views_Sharings__WEBPACK_IMPORTED_MODULE_15__["default"]
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId",
  component: function component() {
    return _views_Sharings_FilesViewerSharings__WEBPACK_IMPORTED_MODULE_16__["default"];
  }
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId/revision",
  component: components_FileHistory__WEBPACK_IMPORTED_MODULE_7__["default"]
})), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: ":folderId",
  component: _views_Sharings_SharingsFolderView__WEBPACK_IMPORTED_MODULE_17__["default"]
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId",
  component: _views_Sharings_FilesViewerSharings__WEBPACK_IMPORTED_MODULE_16__["default"]
}), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId/revision",
  component: components_FileHistory__WEBPACK_IMPORTED_MODULE_7__["default"]
}))),  false && /*#__PURE__*/false, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_1__["Route"], {
  path: "file/:fileId",
  component: drive_web_modules_viewer_FileOpenerExternal__WEBPACK_IMPORTED_MODULE_6__["default"]
})),  false && /*#__PURE__*/false);
/* harmony default export */ __webpack_exports__["default"] = (AppRoute);

/***/ }),

/***/ "YfLo":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ELEMENT_TEXT", function() { return ELEMENT_TEXT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ELEMENT_CHECKBOX", function() { return ELEMENT_CHECKBOX; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ELEMENT_BUTTON", function() { return ELEMENT_BUTTON; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_Toggle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("Vmsy");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("rH+U");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);




var ELEMENT_TEXT = 'ELEMENT_TEXT';
var ELEMENT_CHECKBOX = 'ELEMENT_CHECKBOX';
var ELEMENT_BUTTON = 'ELEMENT_BUTTON';

var SettingCategory = function SettingCategory(_ref) {
  var title = _ref.title,
      elements = _ref.elements;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__category']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__category-title']
  }, title), elements.map(function (element, index) {
    return element.display === false ? '' : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      key: index
    }, element.title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", {
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__subcategory-title']
    }, element.title), element.description && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__subcategory__label']
    }, element.description), element.type === ELEMENT_TEXT && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__subcategory']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__subcategory__label']
    }, element.label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__subcategory__item'],
      onClick: element.onClick
    }, element.value)), element.type === ELEMENT_CHECKBOX && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__subcategory']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
      htmlFor: element.id,
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__subcategory__label']
    }, element.label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
      htmlFor: element.id,
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__subcategory__item']
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Toggle__WEBPACK_IMPORTED_MODULE_2__["default"], {
      id: element.id,
      checked: element.checked,
      onToggle: element.onChange
    }))), element.type === ELEMENT_BUTTON && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_1__["Button"], {
      busy: element.busy,
      theme: element.theme,
      onClick: element.onClick,
      className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['settings__button'],
      label: element.text
    }));
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (SettingCategory);

/***/ }),

/***/ "Yo2A":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fvjX");
/* harmony import */ var _ModalManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("2Ekz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalManager", function() { return _ModalManager__WEBPACK_IMPORTED_MODULE_1__["ModalManager"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "showModal", function() { return _ModalManager__WEBPACK_IMPORTED_MODULE_1__["showModal"]; });

/* harmony import */ var _QueryParameter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ciCs");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getQueryParameter", function() { return _QueryParameter__WEBPACK_IMPORTED_MODULE_2__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_0__["combineReducers"])({
  modal: _ModalManager__WEBPACK_IMPORTED_MODULE_1__["default"]
}));



/***/ }),

/***/ "Z7XG":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROOT_DIR_ID", function() { return ROOT_DIR_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRASH_DIR_ID", function() { return TRASH_DIR_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APPS_DIR_PATH", function() { return APPS_DIR_PATH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRASH_DIR_PATH", function() { return TRASH_DIR_PATH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KONNECTORS_DIR_PATH", function() { return KONNECTORS_DIR_PATH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FILES_FETCH_LIMIT", function() { return FILES_FETCH_LIMIT; });
/**
  Redux constants
**/
// global variables
var ROOT_DIR_ID = 'io.cozy.files.root-dir';
var TRASH_DIR_ID = 'io.cozy.files.trash-dir';
var APPS_DIR_PATH = '/.cozy_apps';
var TRASH_DIR_PATH = '/.cozy_trash';
var KONNECTORS_DIR_PATH = '/.cozy_konnectors';
var FILES_FETCH_LIMIT = 100;

/***/ }),

/***/ "ZOQW":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"CozyTheme--normal":"CozyTheme--normal--1JnZJ","fil-path-backdrop":"fil-path-backdrop--1yKXD","fil-path-title":"fil-path-title--NqpW4","fil-path-link":"fil-path-link--xq04e","fil-path-separator":"fil-path-separator--v18BN","fil-path-previous":"fil-path-previous--1vq3x","fil-path-down":"fil-path-down--2z0A3","fil-path-current-name":"fil-path-current-name--1BQpZ","fil-path-current":"fil-path-current--qyJsg","deployed":"deployed--8FDAc","inlined":"inlined--2FipZ","fil-path-link-name":"fil-path-link-name--1nc9i","mobile":"mobile--3xQ2G"};

/***/ }),

/***/ "ZZUV":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useFolderSort", function() { return useFolderSort; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yEaX");




var useFolderSort = function useFolderSort(folderId) {
  var defaultSort = {
    attribute: 'name',
    order: 'asc'
  };
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])();
  var currentSort = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useSelector"])(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__["getSort"]) || defaultSort;
  var setOrder = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (_ref) {
    var sortAttribute = _ref.sortAttribute,
        sortOrder = _ref.sortOrder;
    dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__["sortFolder"])(folderId, sortAttribute, sortOrder));
  }, [dispatch, folderId]);
  return [currentSort, setOrder];
};



/***/ }),

/***/ "Zd4r":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"tosupdated":"tosupdated--3qk7g","tosupdated-title":"tosupdated-title--a8CuQ","tosupdated-desc":"tosupdated-desc--OmR0Z"};

/***/ }),

/***/ "ZorK":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("fvjX");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_sharing_dist_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("abL+");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("yEaX");








var UploadButton = function UploadButton(_ref) {
  var label = _ref.label,
      disabled = _ref.disabled,
      onUpload = _ref.onUpload,
      className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_4__["FileInput"], {
    className: className,
    label: label,
    disabled: disabled,
    multiple: true,
    onChange: onUpload,
    "data-test-id": "upload-btn",
    value: [] // always erase the value to be able to re-upload the same file

  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_4__["Icon"], {
    icon: "upload"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, label)));
};

UploadButton.propTypes = {
  label: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  onUpload: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  displayedFolder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  // io.cozy.files
  // in case of upload conflicts, shared files are not overridden
  sharingState: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
};
UploadButton.defaultProps = {
  disabled: false
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {
  var displayedFolder = _ref2.displayedFolder,
      sharingState = _ref2.sharingState;
  return {
    onUpload: function onUpload(files) {
      dispatch(Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_6__["uploadFiles"])(files, displayedFolder.id, sharingState));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_3__["compose"])(cozy_sharing_dist_hoc_withSharingState__WEBPACK_IMPORTED_MODULE_5__["default"], Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(null, mapDispatchToProps))(UploadButton));

/***/ }),

/***/ "a/S8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MobileFileListHeader", function() { return MobileFileListHeader; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("y6ex");
/* harmony import */ var _MobileSortMenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("+Bjm");
/* harmony import */ var drive_config_sort__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("6IK3");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var drive_assets_icons_icon_list_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("AnwN");
/* harmony import */ var drive_assets_icons_icon_list_min_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("Fczp");












var MobileFileListHeader = function MobileFileListHeader(_ref) {
  var _cx;

  var folderId = _ref.folderId,
      canSort = _ref.canSort,
      sort = _ref.sort,
      onFolderSort = _ref.onFolderSort,
      thumbnailSizeBig = _ref.thumbnailSizeBig,
      toggleThumbnailSize = _ref.toggleThumbnailSize;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["useI18n"])(),
      t = _useI18n.t;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
      isShowingSortMenu = _useState2[0],
      setIsShowingSortMenu = _useState2[1];

  var showSortMenu = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function () {
    return setIsShowingSortMenu(true);
  }, [setIsShowingSortMenu]);
  var hideSortMenu = Object(react__WEBPACK_IMPORTED_MODULE_2__["useCallback"])(function () {
    return setIsShowingSortMenu(false);
  }, [setIsShowingSortMenu]);
  if (!canSort) return null;
  var actualSort = sort || drive_config_sort__WEBPACK_IMPORTED_MODULE_8__["DEFAULT_SORT"];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-mobile-head'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-row-head'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    onClick: showSortMenu,
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-mobile-header'], (_cx = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_cx, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header-sortasc'], actualSort.order === 'asc'), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_cx, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header-sortdesc'], actualSort.order === 'desc'), _cx))
  }, t("table.mobile.head_".concat(actualSort.attribute, "_").concat(actualSort.order))), isShowingSortMenu && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_MobileSortMenu__WEBPACK_IMPORTED_MODULE_7__["default"], {
    t: t,
    sort: actualSort,
    onClose: hideSortMenu,
    onSort: function onSort(attr, order) {
      return onFolderSort(folderId, attr, order);
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-mobile-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header-action'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    theme: 'action',
    onClick: function onClick() {
      toggleThumbnailSize();
    },
    label: t('table.head_thumbnail_size'),
    extension: "narrow",
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], {
      icon: thumbnailSizeBig ? drive_assets_icons_icon_list_min_svg__WEBPACK_IMPORTED_MODULE_11__["default"] : drive_assets_icons_icon_list_svg__WEBPACK_IMPORTED_MODULE_10__["default"],
      size: 17,
      label: t('table.head_thumbnail_size')
    }),
    iconOnly: true
  })));
};
/* harmony default export */ __webpack_exports__["default"] = (MobileFileListHeader);

/***/ }),

/***/ "a4ea":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-main-app_5a0af3714e77328d0c04b0d83712f645",
  "use": "icon-main-app_5a0af3714e77328d0c04b0d83712f645-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-main-app_5a0af3714e77328d0c04b0d83712f645\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 3)\">\n    <rect width=\"32\" height=\"26\" fill=\"#8EE39B\" rx=\"2\" />\n    <path fill=\"#1EC737\" d=\"M0,20 L6.29028051,13.7097195 C6.68224776,13.3177522 7.31387329,13.3138733 7.70591205,13.7059121 L11,17 L19.2937851,8.7062149 C19.6838168,8.31618318 20.320971,8.32097101 20.7058543,8.70585426 L32,20 L32,24.0020869 C32,25.1055038 31.1107383,26 29.9982567,26 L2.00174332,26 C0.89621101,26 0,25.1017394 0,24.0020869 L0,20 Z\" />\n    <circle cx=\"8\" cy=\"7\" r=\"3\" fill=\"#FFFFFF\" />\n    <path stroke=\"#8EE39B\" d=\"M11,16 L5.5,21.5 L11,16 Z\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "aNx5":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_START", function() { return MEDIA_UPLOAD_START; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_END", function() { return MEDIA_UPLOAD_END; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_ABORT", function() { return MEDIA_UPLOAD_ABORT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_SUCCESS", function() { return MEDIA_UPLOAD_SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_CANCEL", function() { return MEDIA_UPLOAD_CANCEL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MEDIA_UPLOAD_QUOTA", function() { return MEDIA_UPLOAD_QUOTA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CURRENT_UPLOAD", function() { return CURRENT_UPLOAD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CURRENT_UPLOAD_PROGRESS", function() { return CURRENT_UPLOAD_PROGRESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CURRENT_UPLOAD_THUMBNAIL", function() { return CURRENT_UPLOAD_THUMBNAIL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPreparingBackup", function() { return isPreparingBackup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isUploading", function() { return isUploading; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAborted", function() { return isAborted; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isQuotaReached", function() { return isQuotaReached; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUploadStatus", function() { return getUploadStatus; });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);


// We're forced to separate the reducer and selectors from the actions
// to avoid a circular dependency: actions (index.js) import setBackupImages()
// that imports.... that imports configureStore which itself needs to import this reducer
var MEDIA_UPLOAD_START = 'MEDIA_UPLOAD_START';
var MEDIA_UPLOAD_END = 'MEDIA_UPLOAD_END';
var MEDIA_UPLOAD_ABORT = 'MEDIA_UPLOAD_ABORT';
var MEDIA_UPLOAD_SUCCESS = 'MEDIA_UPLOAD_SUCCESS';
var MEDIA_UPLOAD_CANCEL = 'MEDIA_UPLOAD_CANCEL';
var MEDIA_UPLOAD_QUOTA = 'MEDIA_UPLOAD_QUOTA';
var CURRENT_UPLOAD = 'CURRENT_UPLOAD';
var CURRENT_UPLOAD_PROGRESS = 'CURRENT_UPLOAD_PROGRESS';
var CURRENT_UPLOAD_THUMBNAIL = 'CURRENT_UPLOAD_THUMBNAIL';
var initialState = {
  running: false,
  uploading: false,
  cancelMediaBackup: false,
  abortedMediaBackup: false,
  diskQuotaReached: false,
  uploaded: [],
  currentUpload: undefined
};

var reducer = function reducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case MEDIA_UPLOAD_START:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        running: true,
        cancelMediaBackup: false,
        abortedMediaBackup: false,
        diskQuotaReached: false
      });

    case MEDIA_UPLOAD_CANCEL:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        cancelMediaBackup: true
      });

    case MEDIA_UPLOAD_ABORT:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        abortedMediaBackup: true
      });

    case MEDIA_UPLOAD_QUOTA:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        diskQuotaReached: true
      });

    case MEDIA_UPLOAD_END:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        running: false,
        uploading: false,
        cancelMediaBackup: true,
        currentUpload: undefined
      });

    case MEDIA_UPLOAD_SUCCESS:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        uploaded: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(state.uploaded), [action.id])
      });

    case CURRENT_UPLOAD:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        uploading: true,
        currentUpload: {
          media: action.media,
          message: action.message,
          messageData: action.messageData
        }
      });

    case CURRENT_UPLOAD_PROGRESS:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
        currentUpload: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state.currentUpload, {
          messageData: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state.currentUpload ? state.currentUpload.messageData : {}, {
            progress: action.progress
          })
        })
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (reducer);
var isPreparingBackup = function isPreparingBackup(state) {
  return state.mobile.mediaBackup.running && !state.mobile.mediaBackup.uploading;
};
var isUploading = function isUploading(state) {
  return state.mobile.mediaBackup.uploading;
};
var isAborted = function isAborted(state) {
  return state.mobile.mediaBackup.abortedMediaBackup;
};
var isQuotaReached = function isQuotaReached(state) {
  return state.mobile.mediaBackup.diskQuotaReached;
};
var getUploadStatus = function getUploadStatus(state) {
  return state.mobile.mediaBackup.currentUpload && !state.mobile.mediaBackup.diskQuotaReached ? {
    current: state.mobile.mediaBackup.currentUpload.messageData.current,
    total: state.mobile.mediaBackup.currentUpload.messageData.total,
    progress: state.mobile.mediaBackup.currentUpload.messageData.progress
  } : {};
};

/***/ }),

/***/ "aOxM":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviousButton", function() { return PreviousButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ZOQW");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_1__);


var PreviousButton = function PreviousButton(_ref) {
  var onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_1___default.a['fil-path-previous'],
    onClick: onClick
  });
};
/* harmony default export */ __webpack_exports__["default"] = (PreviousButton);

/***/ }),

/***/ "arUP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("EqME");


var initialState = {
  authorized: false,
  revoked: false,
  client: null,
  token: null
};

var authorization = function authorization() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 ? arguments[1] : undefined;

  switch (action.type) {
    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_CLIENT"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        authorized: true,
        revoked: false,
        client: action.client
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["SET_TOKEN"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        token: action.token
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["REVOKE"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        revoked: true
      });

    case _actions__WEBPACK_IMPORTED_MODULE_1__["UNREVOKE"]:
      return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, state, {
        revoked: false
      });

    default:
      return state;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (authorization);

/***/ }),

/***/ "bVTo":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Breadcrumb", function() { return Breadcrumb; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("V2U0");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("y6ex");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("ZOQW");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12__);








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/* global __TARGET__ */






var Breadcrumb = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Breadcrumb, _Component);

  var _super = _createSuper(Breadcrumb);

  function Breadcrumb() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Breadcrumb);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), "state", {
      deployed: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), "toggleDeploy", function () {
      _this.state.deployed ? _this.closeMenu() : _this.openMenu();
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), "handleClickOutside", function (e) {
      if (_this.menu && !_this.menu.contains(e.target)) {
        e.stopPropagation();

        _this.closeMenu();
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Breadcrumb, [{
    key: "openMenu",
    value: function openMenu() {
      this.setState({
        deployed: true
      });
      document.addEventListener('click', this.handleClickOutside, true);
    }
  }, {
    key: "closeMenu",
    value: function closeMenu() {
      this.setState({
        deployed: false
      });
      document.removeEventListener('click', this.handleClickOutside, true);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          path = _this$props.path,
          onBreadcrumbClick = _this$props.onBreadcrumbClick,
          opening = _this$props.opening,
          inlined = _this$props.inlined,
          _this$props$className = _this$props.className,
          className = _this$props$className === void 0 ? '' : _this$props$className;
      var deployed = this.state.deployed;
      if (!path) return false;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_9___default()(drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-path-backdrop'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()({}, drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['deployed'], deployed), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()({}, drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['inlined'], inlined), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()({}, drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['mobile'], "browser" === 'mobile'), className)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h2", {
        "data-test-id": "path-title",
        className: drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-path-title'],
        onClick: this.toggleDeploy,
        ref: function ref(_ref) {
          _this2.menu = _ref;
        }
      }, path.map(function (folder, index) {
        if (index < path.length - 1) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
            className: drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-path-link'],
            onClick: function onClick(e) {
              e.stopPropagation();
              onBreadcrumbClick(folder);
            },
            key: index
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
            className: drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-path-link-name']
          }, folder.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], {
            icon: "right",
            className: drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-path-separator']
          }));
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
            className: drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-path-current'],
            onClick: function onClick(e) {
              e.stopPropagation();
              if (path.length >= 2) _this2.toggleDeploy();
            },
            key: index
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
            className: drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-path-current-name']
          }, folder.name), path.length >= 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
            className: drive_web_modules_navigation_Breadcrumb_breadcrumb_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-path-down']
          }), opening && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_10__["default"], null));
        }
      })));
    }
  }]);

  return Breadcrumb;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);
Breadcrumb.propTypes = {
  path: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,
  onBreadcrumbClick: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,
  opening: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,
  inlined: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,
  className: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (Breadcrumb);

/***/ }),

/***/ "bisv":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"CozyTheme--normal":"CozyTheme--normal--XD3Ly","coz-upload-status-wrapper":"coz-upload-status-wrapper--e0aoJ","coz-upload-status":"coz-upload-status--1ytxW","coz-upload-progress":"coz-upload-progress--1GhMB","coz-upload-progress--global":"coz-upload-progress--global--IpVlf","coz-upload-progress--individual":"coz-upload-progress--individual--2JzLZ","infinite-progress":"infinite-progress--3n0vL","squashstretch":"squashstretch--3uNZn","infinite-progress--global":"infinite-progress--global--1-9Xu","coz-progress-pic":"coz-progress-pic--3fCMW","coz-upload-status-content":"coz-upload-status-content--2ZdG3","coz-upload-status-link":"coz-upload-status-link--3SJQJ","coz-upload-status--success":"coz-upload-status--success--1lTE6","coz-upload-status--waiting":"coz-upload-status--waiting--1Ae6F","coz-upload-status--error":"coz-upload-status--error--3_GOe"};

/***/ }),

/***/ "c2Da":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "handleConflictOnMove", function() { return handleConflictOnMove; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("OjRq");


 //Fix bug for 1.18.18 release. Used for 1.18.24 release

var generateNewFolderNameOnConflict = function generateNewFolderNameOnConflict(folderName) {
  //Check if the string ends by _1
  var regex = new RegExp('(_)([0-9]+)$');
  var matches = folderName.match(regex);

  if (matches) {
    var versionNumber = parseInt(matches[2]); //increment versionNumber

    versionNumber++;
    var newfolderName = folderName.replace(new RegExp('(_)([0-9]+)$'), "_".concat(versionNumber));
    return newfolderName;
  } else {
    return "".concat(folderName, "_1");
  }
};

var renameFolder = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, folderToRename, newName) {
    var newNameWithNum;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return client.collection('io.cozy.files').updateAttributes(folderToRename.id, {
              name: newName
            });

          case 3:
            return _context.abrupt("return", _context.sent);

          case 6:
            _context.prev = 6;
            _context.t0 = _context["catch"](0);

            if (!/Conflict/.test(_context.t0.message)) {
              _context.next = 11;
              break;
            }

            newNameWithNum = generateNewFolderNameOnConflict(newName);
            return _context.abrupt("return", renameFolder(client, folderToRename, newNameWithNum));

          case 11:
            throw _context.t0;

          case 12:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 6]]);
  }));

  return function renameFolder(_x, _x2, _x3) {
    return _ref.apply(this, arguments);
  };
}();

var handleConflictOnMove = /*#__PURE__*/function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(client, savedFromMyDeviceFolder, photosFolder, newName) {
    var newNameWithNum, newFolder;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.prev = 0;
            _context2.next = 3;
            return models__WEBPACK_IMPORTED_MODULE_2__["CozyFile"].move(savedFromMyDeviceFolder.id, {
              folderId: photosFolder.data.id
            });

          case 3:
            return _context2.abrupt("return", _context2.sent);

          case 6:
            _context2.prev = 6;
            _context2.t0 = _context2["catch"](0);

            if (!/Conflict/.test(_context2.t0.message)) {
              _context2.next = 14;
              break;
            }

            newNameWithNum = generateNewFolderNameOnConflict(newName);
            _context2.next = 12;
            return renameFolder(client, savedFromMyDeviceFolder, newNameWithNum);

          case 12:
            newFolder = _context2.sent;
            return _context2.abrupt("return", handleConflictOnMove(client, newFolder, photosFolder, newNameWithNum));

          case 14:
            throw _context2.t0;

          case 15:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, null, [[0, 6]]);
  }));

  return function handleConflictOnMove(_x4, _x5, _x6, _x7) {
    return _ref2.apply(this, arguments);
  };
}();

/***/ }),

/***/ "c96E":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("QQky");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("ommj");
/* harmony import */ var drive_web_modules_filelist_FileIconShortcut__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7TaF");







var FileIcon = function FileIcon(_ref) {
  var file = _ref.file,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? 32 : _ref$size;

  if (file.class === 'shortcut') {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileIconShortcut__WEBPACK_IMPORTED_MODULE_5__["default"], {
      file: file,
      size: size
    });
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    icon: Object(drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_4__["isDirectory"])(file), file.name, file.mime),
    size: size
  });
};

FileIcon.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    class: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    mime: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired,
  size: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
};
/* harmony default export */ __webpack_exports__["default"] = (FileIcon);

/***/ }),

/***/ "cAso":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/MKj");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("fvjX");
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("UmWK");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("ufaa");
/* harmony import */ var cozy_ui_transpiled_react_BarContextProvider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("yDJO");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("7oMs");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("gb4X");
/* harmony import */ var drive_web_modules_drive_Toolbar_components_InsideRegularFolder__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("d1FT");
/* harmony import */ var _components_UploadButtonItem__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("tZXr");
/* harmony import */ var _components_MoreMenu__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("hO92");
/* harmony import */ var _share_ShareButton__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("py1d");
/* harmony import */ var _share_SharedRecipients__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("2k09");








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/* global cozy */


















var Toolbar = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Toolbar, _Component);

  var _super = _createSuper(Toolbar);

  function Toolbar() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Toolbar);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Toolbar, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          t = _this$props.t,
          lang = _this$props.lang,
          disabled = _this$props.disabled,
          selectionModeActive = _this$props.selectionModeActive,
          canUpload = _this$props.canUpload,
          canCreateFolder = _this$props.canCreateFolder,
          hasWriteAccess = _this$props.hasWriteAccess,
          isShared = _this$props.isShared,
          isMobile = _this$props.breakpoints.isMobile,
          client = _this$props.client;
      var isDisabled = disabled || selectionModeActive;

      if (disabled) {
        return null;
      }

      var BarRight = cozy.bar.BarRight;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        "data-test-id": "fil-toolbar-files",
        className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_17___default.a['fil-toolbar-files'],
        role: "toolbar"
      }, !isShared && canUpload && hasWriteAccess && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_UploadButtonItem__WEBPACK_IMPORTED_MODULE_20__["default"], {
        disabled: isDisabled
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_drive_Toolbar_components_InsideRegularFolder__WEBPACK_IMPORTED_MODULE_19__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_share_SharedRecipients__WEBPACK_IMPORTED_MODULE_23__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(drive_web_modules_drive_Toolbar_components_InsideRegularFolder__WEBPACK_IMPORTED_MODULE_19__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_share_ShareButton__WEBPACK_IMPORTED_MODULE_22__["default"], {
        isDisabled: isDisabled
      })), isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(BarRight, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_ui_transpiled_react_BarContextProvider__WEBPACK_IMPORTED_MODULE_14__["default"], {
        client: client,
        store: this.context.store,
        t: t,
        lang: lang
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_10__["default"], {
        doctype: "io.cozy.files",
        documentType: "Files"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_MoreMenu__WEBPACK_IMPORTED_MODULE_21__["default"], {
        isDisabled: isDisabled,
        canCreateFolder: canCreateFolder,
        canUpload: canUpload,
        hasWriteAccess: hasWriteAccess
      })))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_MoreMenu__WEBPACK_IMPORTED_MODULE_21__["default"], {
        isDisabled: isDisabled,
        canCreateFolder: canCreateFolder,
        canUpload: canUpload,
        hasWriteAccess: hasWriteAccess
      }));
    }
  }]);

  return Toolbar;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Toolbar, "contextTypes", {
  store: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.object.isRequired
});

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(Toolbar, "defaultProps", {
  canUpload: false,
  canCreateFolder: false,
  hasWriteAccess: false
});

var mapStateToProps = function mapStateToProps(state) {
  return {
    folderId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_18__["getCurrentFolderId"])(state),
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_16__["isSelectionBarVisible"])(state)
  };
};
/**
 * Provides the Toolbar with sharing properties of the current folder.
 *
 * In views where the displayed folder is virtual (eg: Recent files, Sharings),
 * no sharing information is provided to the Toolbar.
 */


var ToolbarWithSharingContext = function ToolbarWithSharingContext(props) {
  return !props.folderId ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Toolbar, props) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_10__["SharedDocument"], {
    docId: props.folderId
  }, function (sharingProps) {
    var isShared = sharingProps.isShared,
        hasWriteAccess = sharingProps.hasWriteAccess;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Toolbar, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      hasWriteAccess: hasWriteAccess,
      isShared: isShared
    }));
  });
};

ToolbarWithSharingContext.displayName = 'ToolbarWithSharingContext';
/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_9__["compose"])(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_12__["translate"])(), cozy_client__WEBPACK_IMPORTED_MODULE_15__["withClient"], Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps, null), Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_13__["default"])())(ToolbarWithSharingContext));

/***/ }),

/***/ "cSBT":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("UWrV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setUrl", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setUrl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setAnalytics", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setAnalytics"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setOffline", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setOffline"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setBackupImages", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setBackupImages"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setWifiOnly", function() { return _actions__WEBPACK_IMPORTED_MODULE_0__["setWifiOnly"]; });

/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("CsTO");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getServerUrl", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["getServerUrl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isAnalyticsOn", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["isAnalyticsOn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isOfflineCapable", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["isOfflineCapable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isImagesBackupOn", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["isImagesBackupOn"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isWifiOnlyOn", function() { return _reducers__WEBPACK_IMPORTED_MODULE_1__["isWifiOnlyOn"]; });




/***/ }),

/***/ "cV3X":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/8/d");
/* harmony import */ var cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_stylesheet_css__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_sharing_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("3FT0");
/* harmony import */ var cozy_sharing_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_sharing_dist_stylesheet_css__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("8IyR");
/* harmony import */ var drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("xIbs");


 //eslint-disable-next-line




var StyledApp = function StyledApp(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme__WEBPACK_IMPORTED_MODULE_4__["default"], null, children);
};

/* harmony default export */ __webpack_exports__["default"] = (StyledApp);

/***/ }),

/***/ "cYxt":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fixMagicFolderName", function() { return fixMagicFolderName; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_mobile_lib_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/GQe");
/* harmony import */ var folder_references__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("A3Xe");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Z7XG");
/* harmony import */ var _handleConflictOnMove__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("c2Da");






/**
 * Here is how the bugFix works
- possibly create the photos folder
- delete / photos / t (backup) if empty
- rename backup file
- move t (backup) folder with conflict management
- delete the ref from media_folder
- put the ref on photosFolder
- we don't delete the old media_foldr in case it retains things in it*/

var fixMagicFolderName = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(client, savedFromMyDeviceFolder) {
    var t, photosRootPath, photosRootPathWithoutTranslation, newNameForSavedFromMyDevice, newNamePhotoFolder, photosRootFolder, pathSavedFromMobileFolder, folderSyncPhoto, hasEmptyRightFolder, newCreatedFromMyDeviceFolder, oldMediaFolder;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!(savedFromMyDeviceFolder.name !== 'mobile.settings.media_backup.backup_folder')) {
              _context.next = 2;
              break;
            }

            return _context.abrupt("return", null);

          case 2:
            t = Object(drive_mobile_lib_i18n__WEBPACK_IMPORTED_MODULE_2__["getTranslateFunction"])();
            photosRootPath = "/".concat(t('mobile.settings.media_backup.media_folder'));
            photosRootPathWithoutTranslation = '/mobile.settings.media_backup.media_folder';
            newNameForSavedFromMyDevice = t('mobile.settings.media_backup.backup_folder');
            newNamePhotoFolder = t('mobile.settings.media_backup.media_folder');
            _context.prev = 7;
            _context.next = 10;
            return client.collection('io.cozy.files').statByPath(photosRootPath);

          case 10:
            photosRootFolder = _context.sent;
            _context.next = 18;
            break;

          case 13:
            _context.prev = 13;
            _context.t0 = _context["catch"](7);
            _context.next = 17;
            return client.collection('io.cozy.files').createDirectory({
              dirId: drive_constants_config__WEBPACK_IMPORTED_MODULE_4__["ROOT_DIR_ID"],
              name: newNamePhotoFolder
            });

          case 17:
            photosRootFolder = _context.sent;

          case 18:
            _context.prev = 18;
            pathSavedFromMobileFolder = "".concat(photosRootPath, "/").concat(newNameForSavedFromMyDevice);
            _context.next = 22;
            return client.collection('io.cozy.files').statByPath(pathSavedFromMobileFolder);

          case 22:
            folderSyncPhoto = _context.sent;
            hasEmptyRightFolder = folderSyncPhoto.included && folderSyncPhoto.included.length === 0 ? true : false;

            if (!hasEmptyRightFolder) {
              _context.next = 27;
              break;
            }

            _context.next = 27;
            return client.collection('io.cozy.files').deleteFilePermanently(folderSyncPhoto.data.id);

          case 27:
            _context.next = 32;
            break;

          case 29:
            _context.prev = 29;
            _context.t1 = _context["catch"](18);
            //eslint-disable-next-line
            console.warn('error', _context.t1);

          case 32:
            _context.next = 34;
            return client.collection('io.cozy.files').updateAttributes(savedFromMyDeviceFolder.id, {
              name: newNameForSavedFromMyDevice
            });

          case 34:
            newCreatedFromMyDeviceFolder = _context.sent;
            _context.next = 37;
            return Object(_handleConflictOnMove__WEBPACK_IMPORTED_MODULE_5__["handleConflictOnMove"])(client, newCreatedFromMyDeviceFolder.data, photosRootFolder, newNameForSavedFromMyDevice);

          case 37:
            _context.prev = 37;
            _context.next = 40;
            return client.collection('io.cozy.files').statByPath(photosRootPathWithoutTranslation);

          case 40:
            oldMediaFolder = _context.sent;
            _context.next = 43;
            return client.collection('io.cozy.files').removeReferencedBy(oldMediaFolder.data, [{
              _type: 'io.cozy.apps',
              _id: folder_references__WEBPACK_IMPORTED_MODULE_3__["REF_PHOTOS"]
            }]);

          case 43:
            _context.next = 48;
            break;

          case 45:
            _context.prev = 45;
            _context.t2 = _context["catch"](37);
            //eslint-disable-next-line
            console.warn('error stat remove ref', _context.t2);

          case 48:
            _context.next = 50;
            return Object(folder_references__WEBPACK_IMPORTED_MODULE_3__["getOrCreateFolderWithReference"])(client, photosRootPath, folder_references__WEBPACK_IMPORTED_MODULE_3__["REF_PHOTOS"]);

          case 50:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[7, 13], [18, 29], [37, 45]]);
  }));

  return function fixMagicFolderName(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

/***/ }),

/***/ "ce8z":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"SupportUs__wrapper":"SupportUs__wrapper--1Ivbe","Supportus__button":"Supportus__button--3VXfT","SupportUs__description":"SupportUs__description--33zMT","spin":"spin--2BVaJ","shake":"shake--3jn4a"};

/***/ }),

/***/ "ciCs":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);


var arrToObj = function arrToObj() {
  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var _ref = arguments.length > 1 ? arguments[1] : undefined,
      _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref, 2),
      key = _ref2[0],
      _ref2$ = _ref2[1],
      val = _ref2$ === void 0 ? true : _ref2$;

  obj[key] = val;
  return obj;
};

var getQueryParameter = function getQueryParameter() {
  return window.location.search.substring(1).split('&').map(function (varval) {
    return varval.split('=');
  }).reduce(arrToObj, {});
};

/* harmony default export */ __webpack_exports__["default"] = (getQueryParameter);

/***/ }),

/***/ "crEs":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-tos_15eed903c66da8b4dd143b302f80cb56",
  "use": "icon-tos_15eed903c66da8b4dd143b302f80cb56-usage",
  "viewBox": "0 0 70.58 66.63",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 70.58 66.63\" id=\"icon-tos_15eed903c66da8b4dd143b302f80cb56\"><defs><style>#icon-tos_15eed903c66da8b4dd143b302f80cb56 .cls-1{fill:#cbf7d8}#icon-tos_15eed903c66da8b4dd143b302f80cb56 .cls-2{fill:#35ce68}#icon-tos_15eed903c66da8b4dd143b302f80cb56 .cls-3{fill:#9fe6a2}#icon-tos_15eed903c66da8b4dd143b302f80cb56 .cls-4{fill:#288afc}</style></defs><path class=\"cls-1\" d=\"M41.2 9.05a15 15 0 0 0-2.69-4.68c-2-2.2-4.82-1.85-7.64-.7a30.66 30.66 0 0 0-3.63 1.75C21.9 8.23 2.75 18 2.17 18.42c-2.8 1.87-2.5 4.23-1.28 6.74.11.42 16.46 35.33 17.45 37.14 1.36 2.47 3.19 4.56 5.75 4.31s31.44-14.89 32.76-15.69C58.46 50 59 48.81 59 47.59a4.3 4.3 0 0 0-.43-2.27C57.71 43 43.69 12.93 41.2 9.05z\" /><path class=\"cls-2\" d=\"M51.46 8.47a14.84 14.84 0 0 0-1.83-5.07C48 .87 45.21.74 42.22 1.38a32.44 32.44 0 0 0-3.88 1.09C32.6 4.31 12 10.64 11.4 10.92c-3.09 1.36-3.19 3.73-2.4 6.42C9 17.77 19 55 19.71 57c.9 2.66 2.34 5 4.91 5.24s33.55-9.21 35-9.76c1.75-.68 2.52-1.71 2.68-2.92a4.43 4.43 0 0 0 0-2.31c-.47-2.47-9.06-34.53-10.84-38.78z\" /><path class=\"cls-1\" d=\"M61.21 8.6a15 15 0 0 0-.93-5.31C59.11.52 56.39-.1 53.34 0a30.7 30.7 0 0 0-4 .41c-6 .81-27.32 3.47-28 3.64-3.27.8-3.79 3.12-3.51 5.89 0 .45 3.38 38.83 3.7 40.88.43 2.78 1.43 5.37 3.93 6s34.63-3.22 36.14-3.51c1.84-.36 2.78-1.24 3.14-2.41a4.32 4.32 0 0 0 .37-2.28c0-2.46-2.88-35.52-3.9-40.02z\" /><path class=\"cls-2\" d=\"M32.25 24.76l.41 5-5 .41-.41-5 5-.42m.46-1.54h-.08l-6 .49a1 1 0 0 0-.92 1.08l.5 6a1 1 0 0 0 1 .92h.08l6-.49a1 1 0 0 0 .92-1.08l-.5-6a1 1 0 0 0-1-.92z\" /><path class=\"cls-3\" d=\"M39.93 29.64a3 3 0 0 1-.25-6l16.2-1.34a3 3 0 1 1 .49 6l-16.19 1.33zM38.94 17.68a3 3 0 0 1-.24-6l16.19-1.34a3 3 0 1 1 .49 6l-16.19 1.33z\" /><path class=\"cls-2\" d=\"M31.51 15.79l.16 2-5 .41-.41-5 2-.17-.12-1.49-2.49.2a1 1 0 0 0-.92 1.08l.5 6a1 1 0 0 0 1 .92h.09l6-.5a1 1 0 0 0 .91-1.08L33 15.67z\" /><path class=\"cls-2\" d=\"M28.89 16.92l-1.81-1.54.97-1.14.67.57 3.03-3.58 1.15.97-4.01 4.72z\" /><path class=\"cls-4\" d=\"M62.58 64.44c1.78 4.51 1.34-.48 1.77-3.67 1.72.7 8 3.26 4.38.41s-5.29-8.49-6.41-10.42c-.32-.53-.36-1.2-1-1.27a4.57 4.57 0 0 0-2.8.61c-.86.47-1.74 1.17-2.87.75a.55.55 0 0 0-.8.31 1.24 1.24 0 0 0-.1 1.73c2.4 3.42 6.04 7.04 7.83 11.55z\" /><path class=\"cls-4\" d=\"M59.53 52.89a1.23 1.23 0 0 0-.09-1.73.56.56 0 0 0-.81-.31c-1.12.42-2-.28-2.87-.75a4.52 4.52 0 0 0-2.76-.61c-.62.07-.67.74-1 1.27-1.12 1.93-2.76 7.57-6.42 10.42s2.67.29 4.38-.41c.44 3.19 0 8.18 1.78 3.67s5.41-8.13 7.79-11.55z\" /><path d=\"M69.62 44.36a3 3 0 0 0 .42-4 2.55 2.55 0 0 0-1.42-1.13c-1.86-.4-2.4-1.8-3-3.62s-2.8-1.16-3.94-.62c-2.69 1.28-2.11-3-4.7-2.35a5.92 5.92 0 0 0-2.14 1.66c-.26.25-2-1.3-2.48-1.55-1.46-.78-2.27 2-2.5 3.07-.32 1.49-3.18.38-4.18 2.21-.87 1.59 0 3.69.52 5.56-1.31 1.9-3.15 2.27-2.67 5.48a4.22 4.22 0 0 0 1.12 2.7c.79 1.11 3-.21 3 2.26 0 2.07.87 3.28 2.45 3.53 1.18.18 3.5-2.35 4.46-1 .6.86 1 2 2.07 2.06 2.44.21 3.17-2.48 5.74-1.49 1.65.63 2.47-.17 3.23-2.06.65-1.59.29-2.36 2-2.9a2.88 2.88 0 0 0 1.76-1.74c1.41-2.66-2.36-3.98.26-6.07z\" fill=\"#bbd9fd\" /><path class=\"cls-4\" d=\"M49.34 48.9a9.15 9.15 0 0 0 4 4.78c3.93 2 9.27.72 11.42-3.17s2.07-9.77-3.88-12.51c-5.07-2.34-10.75 1.32-11.81 6.58a8.38 8.38 0 0 0 .27 4.32z\" /><path d=\"M64.07 46.84a3.21 3.21 0 0 0-.87-1.9 3.49 3.49 0 0 0-2.13-1.13 3.41 3.41 0 0 0-2.51-2.89 2.84 2.84 0 0 0-.81-.12 2.84 2.84 0 0 0-.81.12 3.4 3.4 0 0 0-2.51 2.89 3.49 3.49 0 0 0-2.13 1.13 3.21 3.21 0 0 0-.87 1.9 2.56 2.56 0 0 0 0 .73 3.75 3.75 0 0 0 .41 1.19 3.56 3.56 0 0 0 2.72 1.59 16.81 16.81 0 0 0 3.09.18h.12a16.81 16.81 0 0 0 3.09-.18 3.56 3.56 0 0 0 2.72-1.59 3.75 3.75 0 0 0 .42-1.19 2.56 2.56 0 0 0 .07-.73z\" fill=\"#fff\" /><path class=\"cls-4\" d=\"M57.75 50.83h-.06a17.17 17.17 0 0 1-3.14-.19 3.51 3.51 0 0 1-3.37-3 3.15 3.15 0 0 1 0-.81 3.47 3.47 0 0 1 1-2.07 3.85 3.85 0 0 1 2.08-1.19 3.69 3.69 0 0 1 2.69-2.92 5 5 0 0 1 .86-.13h.06a4.71 4.71 0 0 1 .85.13 3.69 3.69 0 0 1 2.7 2.92 3.85 3.85 0 0 1 2.08 1.19 3.47 3.47 0 0 1 1 2.07 3.15 3.15 0 0 1 0 .81 3.51 3.51 0 0 1-3.37 3 17.17 17.17 0 0 1-3.14.19h-.06zm0-9.74a2.93 2.93 0 0 0-.73.11 3.1 3.1 0 0 0-2.3 2.65.3.3 0 0 1-.27.25 3.2 3.2 0 0 0-1.93 1 2.89 2.89 0 0 0-.8 1.72 2.1 2.1 0 0 0 0 .66 2.93 2.93 0 0 0 2.89 2.53 15.15 15.15 0 0 0 3 .18h.12a15.3 15.3 0 0 0 3-.18 2.93 2.93 0 0 0 2.89-2.53 2.1 2.1 0 0 0 0-.66 2.89 2.89 0 0 0-.8-1.72 3.2 3.2 0 0 0-1.93-1 .3.3 0 0 1-.27-.25 3.1 3.1 0 0 0-2.3-2.65 2.93 2.93 0 0 0-.57-.11zm0-.3z\" /><path class=\"cls-4\" d=\"M60 47c-.13-.09-.29-.29-.28-.38a.25.25 0 0 0-.12-.24.3.3 0 0 0-.29 0 .29.29 0 0 0-.15.23.76.76 0 0 0 .1.37 3.15 3.15 0 0 1-3-.06.7.7 0 0 0 .07-.39.3.3 0 0 0-.32-.25.24.24 0 0 0-.22.28c0 .17-.12.28-.3.42a.29.29 0 0 0-.11.26.27.27 0 0 0 .16.22.15.15 0 0 0 .09 0 .3.3 0 0 0 .16-.05l.15-.12a3.6 3.6 0 0 0 1.86.5 3.64 3.64 0 0 0 1.75-.44l.12.11a.3.3 0 0 0 .16 0 .24.24 0 0 0 .2-.11A.29.29 0 0 0 60 47z\" /></symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "d1FT":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var drive_web_modules_drive_Toolbar_toolbar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fD9B");

/**
 * Displays its children only if we are in a normal folder (eg. not the root folder or a special view like sharings or recent)
 */

var InsideRegularFolder = function InsideRegularFolder(_ref) {
  var insideRegularFolder = _ref.insideRegularFolder,
      children = _ref.children;

  if (insideRegularFolder) {
    return children;
  }

  return null;
};

/* harmony default export */ __webpack_exports__["default"] = (Object(drive_web_modules_drive_Toolbar_toolbar__WEBPACK_IMPORTED_MODULE_0__["default"])(InsideRegularFolder));

/***/ }),

/***/ "d9dq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParentLink", function() { return getParentLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enableTouchEvents", function() { return enableTouchEvents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbFile", function() { return DumbFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileWithSelection", function() { return FileWithSelection; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("SdWe");
/* harmony import */ var filesize__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(filesize__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("dtw8");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/MKj");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("UmWK");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("y6ex");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("ufaa");
/* harmony import */ var cozy_ui_transpiled_react_MidEllipsis__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("F+Nm");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("7jrE");
/* harmony import */ var cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var drive_web_modules_drive_RenameInput__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("D2Hl");
/* harmony import */ var drive_web_modules_actionmenu_ActionMenu__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("xeLO");
/* harmony import */ var drive_web_modules_actionmenu_MobileActionMenu__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("Gsrt");
/* harmony import */ var drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("ommj");
/* harmony import */ var drive_web_modules_filelist_FileThumbnail__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("oRqk");
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("OjRq");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("7oMs");
/* harmony import */ var drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("JZSQ");
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("iTW1");
/* harmony import */ var drive_web_modules_filelist_FileOpener__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("NqZ9");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27__);





























var ActionMenu = Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_14__["default"])()(function (_ref) {
  var isMobile = _ref.breakpoints.isMobile,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, ["breakpoints"]);

  return isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_actionmenu_MobileActionMenu__WEBPACK_IMPORTED_MODULE_19__["default"], props) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_actionmenu_ActionMenu__WEBPACK_IMPORTED_MODULE_18__["default"], props);
});

var getParentDiv = function getParentDiv(element) {
  if (element.nodeName.toLowerCase() === 'div') {
    return element;
  }

  return getParentDiv(element.parentNode);
};

var getParentLink = function getParentLink(element) {
  if (!element) {
    return null;
  }

  if (element.nodeName.toLowerCase() === 'a') {
    return element;
  }

  return getParentLink(element.parentNode);
};
var enableTouchEvents = function enableTouchEvents(ev) {
  // remove event when you rename a file
  if (['INPUT', 'BUTTON'].indexOf(ev.target.nodeName) !== -1) {
    return false;
  }

  var parentDiv = getParentDiv(ev.target); // remove event when it's the checkbox or the more button

  if (parentDiv.className.indexOf(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-file-select']) !== -1 || parentDiv.className.indexOf(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-file-action']) !== -1) {
    return false;
  } // remove events when they are on the file's path, because it's a different behavior


  var parentLink = getParentLink(ev.target);

  if (parentLink && parentLink.className.indexOf(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-file-path']) >= 0) {
    return false;
  }

  return true;
};

var SelectBox = function SelectBox(_ref2) {
  var withSelectionCheckbox = _ref2.withSelectionCheckbox,
      selected = _ref2.selected,
      onClick = _ref2.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-file-select']),
    onClick: onClick
  }, withSelectionCheckbox && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    "data-input": "checkbox"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
    onChange: function onChange() {// handled by onClick on the <div>
    },
    type: "checkbox",
    checked: selected
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("label", null)));
};

var FileName = function FileName(_ref3) {
  var attributes = _ref3.attributes,
      isRenaming = _ref3.isRenaming,
      interactive = _ref3.interactive,
      withFilePath = _ref3.withFilePath,
      isMobile = _ref3.isMobile,
      formattedSize = _ref3.formattedSize,
      formattedUpdatedAt = _ref3.formattedUpdatedAt,
      refreshFolderContent = _ref3.refreshFolderContent;
  var classes = classnames__WEBPACK_IMPORTED_MODULE_5___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-file'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-file-openable'], !isRenaming && interactive));

  var _CozyFile$splitFilena = models__WEBPACK_IMPORTED_MODULE_22__["CozyFile"].splitFilename(attributes),
      filename = _CozyFile$splitFilena.filename,
      extension = _CozyFile$splitFilena.extension;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classes
  }, isRenaming ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_drive_RenameInput__WEBPACK_IMPORTED_MODULE_17__["default"], {
    file: attributes,
    refreshFolderContent: refreshFolderContent
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-file']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-file-filename']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-file-filename-wrapper']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    "data-test-id": "fil-file-filename-and-ext",
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-file-filename-and-ext']
  }, filename, extension && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-ext']
  }, extension)))), withFilePath && attributes.displayedPath && (isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_MidEllipsis__WEBPACK_IMPORTED_MODULE_15__["default"], {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-file-path'],
    text: attributes.displayedPath
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_7__["Link"], {
    to: "/folder/".concat(attributes.dir_id),
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-file-path']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_MidEllipsis__WEBPACK_IMPORTED_MODULE_15__["default"], {
    text: attributes.displayedPath
  }))), !withFilePath && (Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__["isDirectory"])(attributes) || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-file-infos']
  }, "".concat(formattedUpdatedAt).concat(formattedSize ? " - ".concat(formattedSize) : '')))));
};

var LastUpdate = function LastUpdate(_ref4) {
  var date = _ref4.date,
      _ref4$formatted = _ref4.formatted,
      formatted = _ref4$formatted === void 0 ? '-' : _ref4$formatted;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-date'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("time", {
    dateTime: date
  }, formatted));
};

var Size = function Size(_ref5) {
  var _ref5$filesize = _ref5.filesize,
      filesize = _ref5$filesize === void 0 ? '-' : _ref5$filesize;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-size'])
  }, filesize);
};

var Status = function Status(_ref6) {
  var isAvailableOffline = _ref6.isAvailableOffline,
      id = _ref6.id;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-status'])
  }, isAvailableOffline && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-offline']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_13__["default"], {
    icon: "phone-download",
    color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16___default.a.white,
    width: "14",
    height: "14"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_10__["SharedStatus"], {
    docId: id,
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-sharestatus']
  }));
};

var FileAction = Object(react__WEBPACK_IMPORTED_MODULE_3__["forwardRef"])(function (_ref7, ref) {
  var t = _ref7.t,
      onClick = _ref7.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-file-action']),
    ref: ref
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
    theme: "action",
    onClick: onClick,
    extension: "narrow",
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_13__["default"], {
      icon: "dots",
      color: cozy_ui_transpiled_react_palette__WEBPACK_IMPORTED_MODULE_16___default.a.charcoalGrey,
      width: "17",
      height: "17"
    }),
    iconOnly: true,
    label: t('Toolbar.more')
  }));
});

var File = function File(props) {
  var _classNames2;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
      actionMenuVisible = _useState2[0],
      setActionMenuVisible = _useState2[1];

  var filerowMenuToggleRef = Object(react__WEBPACK_IMPORTED_MODULE_3__["useRef"])();

  var showActionMenu = function showActionMenu() {
    setActionMenuVisible(true);
  };

  var hideActionMenu = function hideActionMenu() {
    setActionMenuVisible(false);
  };

  var toggle = function toggle(e) {
    e.stopPropagation();
    var attributes = props.attributes,
        onCheckboxToggle = props.onCheckboxToggle,
        selected = props.selected;
    onCheckboxToggle(attributes, selected);
  };

  var open = function open(e, attributes) {
    var onFolderOpen = props.onFolderOpen,
        onFileOpen = props.onFileOpen,
        isAvailableOffline = props.isAvailableOffline;
    e.stopPropagation();

    if (Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__["isDirectory"])(attributes)) {
      onFolderOpen(attributes.id);
    } else {
      onFileOpen(attributes, isAvailableOffline);
    }
  };

  var t = props.t,
      f = props.f,
      attributes = props.attributes,
      selected = props.selected,
      actions = props.actions,
      isRenaming = props.isRenaming,
      withSelectionCheckbox = props.withSelectionCheckbox,
      withFilePath = props.withFilePath,
      isAvailableOffline = props.isAvailableOffline,
      disabled = props.disabled,
      thumbnailSizeBig = props.thumbnailSizeBig,
      selectionModeActive = props.selectionModeActive,
      refreshFolderContent = props.refreshFolderContent,
      _props$breakpoints = props.breakpoints,
      isExtraLarge = _props$breakpoints.isExtraLarge,
      isMobile = _props$breakpoints.isMobile;
  var filContentRowSelected = classnames__WEBPACK_IMPORTED_MODULE_5___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-row'], (_classNames2 = {}, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_classNames2, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-row-selected'], selected), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_classNames2, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-row-actioned'], actionMenuVisible), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_classNames2, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-row-disabled'], disabled), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_classNames2, drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_27___default.a['fil-content-row-bigger'], thumbnailSizeBig), _classNames2));
  var formattedSize = Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__["isDirectory"])(attributes) ? undefined : filesize__WEBPACK_IMPORTED_MODULE_6___default()(attributes.size, {
    base: 10
  });
  var updatedAt = attributes.updated_at || attributes.created_at;
  var formattedUpdatedAt = f(updatedAt, isExtraLarge ? t('table.row_update_format_full') : t('table.row_update_format'));
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: filContentRowSelected
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(SelectBox, {
    withSelectionCheckbox: withSelectionCheckbox,
    selected: selected,
    onClick: function onClick(e) {
      return toggle(e);
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_filelist_FileOpener__WEBPACK_IMPORTED_MODULE_26__["default"], {
    file: attributes,
    disabled: disabled,
    actionMenuVisible: actionMenuVisible,
    selectionModeActive: selectionModeActive,
    open: open,
    toggle: toggle,
    isRenaming: isRenaming
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(drive_web_modules_filelist_FileThumbnail__WEBPACK_IMPORTED_MODULE_21__["default"], {
    file: attributes,
    size: thumbnailSizeBig ? 96 : undefined
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(FileName, {
    attributes: attributes,
    isRenaming: isRenaming,
    interactive: !disabled,
    withFilePath: withFilePath,
    isMobile: isMobile,
    formattedSize: formattedSize,
    formattedUpdatedAt: formattedUpdatedAt,
    refreshFolderContent: refreshFolderContent
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(LastUpdate, {
    date: updatedAt,
    formatted: Object(drive_web_modules_drive_files__WEBPACK_IMPORTED_MODULE_20__["isDirectory"])(attributes) ? undefined : formattedUpdatedAt
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Size, {
    filesize: formattedSize
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Status, {
    id: attributes.id,
    isAvailableOffline: isAvailableOffline
  })), actions && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(FileAction, {
    t: t,
    ref: filerowMenuToggleRef,
    onClick: function onClick(e) {
      showActionMenu();
      e.stopPropagation();
    }
  }), actions && actionMenuVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ActionMenu, {
    file: attributes,
    reference: filerowMenuToggleRef.current,
    actions: actions,
    onClose: hideActionMenu
  }));
};

File.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  f: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  attributes: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,
  selected: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired,
  actions: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,
  isRenaming: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  withSelectionCheckbox: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired,
  withFilePath: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  isAvailableOffline: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired,
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  breakpoints: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,
  selectionModeActive: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired,

  /** When a user click on a Folder */
  onFolderOpen: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,

  /** onFileOpen : When a user click on a File */
  onFileOpen: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  onCheckboxToggle: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  refreshFolderContent: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func
};

var mapStateToProps = function mapStateToProps(state, ownProps) {
  return {
    selected: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_23__["isSelected"])(state, ownProps.attributes),
    isAvailableOffline: Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_25__["isAvailableOffline"])(state, ownProps.attributes.id),
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_23__["isSelectionBarVisible"])(state),
    isRenaming: Object(drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_24__["isRenaming"])(state) && lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(Object(drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_24__["getRenamingFile"])(state), 'id') === ownProps.attributes.id
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    onCheckboxToggle: function onCheckboxToggle(file, selected) {
      return dispatch(Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_23__["toggleItemSelection"])(file, selected));
    }
  };
};

var DumbFile = Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_14__["default"])()(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__["translate"])()(File));
var FileWithSelection = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps, mapDispatchToProps)(DumbFile);

/***/ }),

/***/ "dFe2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("XXXr");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("T//5");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("gb4X");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("WMvU");









var FilesViewerWithQuery = function FilesViewerWithQuery(props) {
  var filesQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_4__["buildRecentQuery"])();
  var results = Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["useQuery"])(filesQuery.definition, filesQuery.options);

  var _useRouter = Object(drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_3__["useRouter"])(),
      router = _useRouter.router;

  if (results.data) {
    var viewableFiles = results.data;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_7__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      files: viewableFiles,
      filesQuery: results,
      onClose: function onClose() {
        return router.push('/recent');
      },
      onChange: function onChange(fileId) {
        return router.push({
          pathname: '/recent/file/' + fileId
        });
      }
    }));
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_7__["FilesViewerLoading"], null);
  }
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    fileId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_5__["getCurrentFileId"])(state)
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["connect"])(mapStateToProps)(FilesViewerWithQuery));

/***/ }),

/***/ "dPaS":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("KXWi");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");
/* harmony import */ var drive_mobile_lib_withPersistentState__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("PC2r");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__);









function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }








var MINIMUM_LONG_UPLOAD_FILES_COUNT = 50;
var FirstUploadModal = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(function (_ref) {
  var t = _ref.t,
      onClose = _ref.onClose;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_9__["default"], {
    title: t('mobile.first_sync.title'),
    withCross: false,
    into: "body"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_9__["ModalContent"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("h4", null, t('mobile.first_sync.tips')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("ul", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("li", null, t('mobile.first_sync.tip_wifi')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("li", null, t('mobile.first_sync.tip_bed')), Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__["isIOSApp"])() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("li", null, t('mobile.first_sync.tip_lock'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("p", null, t('mobile.first_sync.result')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: onClose,
    extension: "full",
    label: t('mobile.first_sync.button')
  })));
});

var showOnceOnUpload = function showOnceOnUpload(WrappedComponent) {
  var _temp;

  return _temp = /*#__PURE__*/function (_Component) {
    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(showOnceOnUploadClass, _Component);

    var _super = _createSuper(showOnceOnUploadClass);

    function showOnceOnUploadClass(props) {
      var _this;

      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, showOnceOnUploadClass);

      _this = _super.call(this, props);

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), "markAsViewed", function () {
        _this.setState({
          viewed: true
        });
      });

      _this.restored = false;
      _this.state = {
        viewed: false
      };
      return _this;
    }

    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(showOnceOnUploadClass, [{
      key: "componentStateRestored",
      value: function componentStateRestored() {
        this.restored = true; // As this method is called after the persisted state has been restored, we must trigger an update
        // by making a dumb setState call

        this.setState(function (prevState) {
          return prevState;
        });
      }
    }, {
      key: "render",
      value: function render() {
        // we don't want to render unless the state is restored to avoid flashing
        if (!this.restored) {
          return null;
        }

        var uploading = this.props.uploading;
        var viewed = this.state.viewed;
        if (uploading && !viewed) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(WrappedComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props, {
          onClose: this.markAsViewed
        }));else return null;
      }
    }]);

    return showOnceOnUploadClass;
  }(react__WEBPACK_IMPORTED_MODULE_8__["Component"]), _temp;
};

var OnlyOnceFirstUploadModal = Object(drive_mobile_lib_withPersistentState__WEBPACK_IMPORTED_MODULE_13__["default"])(showOnceOnUpload(FirstUploadModal), 'OnlyOnceFirstUploadModal');

var mapStateToProps = function mapStateToProps(state) {
  var _state$mobile$mediaBa = state.mobile.mediaBackup,
      _state$mobile$mediaBa2 = _state$mobile$mediaBa.uploading,
      uploading = _state$mobile$mediaBa2 === void 0 ? false : _state$mobile$mediaBa2,
      _state$mobile$mediaBa3 = _state$mobile$mediaBa.currentUpload,
      currentUpload = _state$mobile$mediaBa3 === void 0 ? {
    messageData: {
      total: 0
    }
  } : _state$mobile$mediaBa3;
  var messageData = currentUpload.messageData;
  return {
    uploading: uploading && messageData['total'] >= MINIMUM_LONG_UPLOAD_FILES_COUNT
  };
};

var ConnectedFirstUploadModal = Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(mapStateToProps)(OnlyOnceFirstUploadModal);
/* harmony default export */ __webpack_exports__["default"] = (ConnectedFirstUploadModal);

/***/ }),

/***/ "dpS8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Files", function() { return Files; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var _OnBoardingStep__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+qQ");



var Files = function Files(_ref) {
  var onActivate = _ref.onActivate,
      breadcrumbs = _ref.breadcrumbs;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_OnBoardingStep__WEBPACK_IMPORTED_MODULE_2__["default"], {
    onActivate: onActivate,
    stepName: "files",
    breadcrumbs: breadcrumbs
  });
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    onActivate: function onActivate() {
      ownProps.nextStep();
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps)(Files));

/***/ }),

/***/ "eCpu":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/MKj");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("yLV6");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("buk/");
/* harmony import */ var _SettingCategory__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("YfLo");
/* harmony import */ var _duck__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("cSBT");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }









var About = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(About, _Component);

  var _super = _createSuper(About);

  function About() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, About);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(About, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.gesturesHandler = new hammerjs__WEBPACK_IMPORTED_MODULE_9___default.a.Manager(this.versionNumber);
      this.gesturesHandler.add(new hammerjs__WEBPACK_IMPORTED_MODULE_9___default.a.Tap({
        event: 'singletap'
      }));
      this.gesturesHandler.on('singletap', this.props.onTap);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.gesturesHandler && this.gesturesHandler.destroy();
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      var _this$props = this.props,
          t = _this$props.t,
          version = _this$props.version,
          serverUrl = _this$props.serverUrl;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_SettingCategory__WEBPACK_IMPORTED_MODULE_11__["default"], {
        title: t('mobile.settings.about.title'),
        elements: [{
          type: _SettingCategory__WEBPACK_IMPORTED_MODULE_11__["ELEMENT_TEXT"],
          label: t('mobile.settings.about.account'),
          value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a", {
            href: serverUrl
          }, serverUrl)
        }, {
          type: _SettingCategory__WEBPACK_IMPORTED_MODULE_11__["ELEMENT_TEXT"],
          label: t('mobile.settings.about.app_version'),
          value: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span", {
            ref: function ref(versionNumber) {
              _this.versionNumber = versionNumber;
            }
          }, version)
        }]
      });
    }
  }]);

  return About;
}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(About, "contextTypes", {
  t: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired
});

About.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  version: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,
  serverUrl: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    version: window.navigator.appInfo ? window.navigator.appInfo.version : 'dev',
    serverUrl: Object(_duck__WEBPACK_IMPORTED_MODULE_12__["getServerUrl"])(state)
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps)(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(About)));

/***/ }),

/***/ "eXby":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react_SelectionBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("+MCZ");
/* harmony import */ var _duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("7oMs");






var mapStateToProps = function mapStateToProps(state) {
  return {
    selected: Object(_duck__WEBPACK_IMPORTED_MODULE_4__["getSelectedFiles"])(state),
    selectionModeActive: Object(_duck__WEBPACK_IMPORTED_MODULE_4__["isSelectionBarVisible"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    hideSelectionBar: function hideSelectionBar() {
      return dispatch(Object(_duck__WEBPACK_IMPORTED_MODULE_4__["hideSelectionBar"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps, mapDispatchToProps)(function (_ref) {
  var selectionModeActive = _ref.selectionModeActive,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, ["selectionModeActive"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    style: {
      display: selectionModeActive ? 'inherit' : 'none'
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_SelectionBar__WEBPACK_IMPORTED_MODULE_3__["default"], rest));
}));

/***/ }),

/***/ "ebEV":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EnhancedDeleteConfirm", function() { return EnhancedDeleteConfirm; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("BJ98");
/* harmony import */ var lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_flowRight__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("/MKj");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Yo2A");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("dtw8");
/* harmony import */ var _DeleteConfirm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("3Cim");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("fD9B");










var EnhancedDeleteConfirm = function EnhancedDeleteConfirm(_ref) {
  var folder = _ref.folder,
      router = _ref.router,
      rest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, ["folder", "router"]);

  var navigateToParentFolder = Object(react__WEBPACK_IMPORTED_MODULE_3__["useCallback"])(function () {
    return router.push("/folder/".concat(folder.dir_id));
  }, [router, folder]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_DeleteConfirm__WEBPACK_IMPORTED_MODULE_7__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    files: [folder],
    afterConfirmation: navigateToParentFolder
  }, rest));
};



var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    trashFolder: function trashFolder(folder) {
      return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_5__["showModal"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(EnhancedDeleteConfirm, {
        folder: folder,
        dispatch: dispatch,
        router: ownProps.router
      })));
    }
  };
};

var deleteContainer = lodash_flowRight__WEBPACK_IMPORTED_MODULE_2___default()(_toolbar__WEBPACK_IMPORTED_MODULE_8__["default"], react_router__WEBPACK_IMPORTED_MODULE_6__["withRouter"], Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(null, mapDispatchToProps));
/* harmony default export */ __webpack_exports__["default"] = (deleteContainer);

/***/ }),

/***/ "f/2S":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-slide_440e71a068f2c361f14a6402991887d2",
  "use": "icon-type-slide_440e71a068f2c361f14a6402991887d2-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-slide_440e71a068f2c361f14a6402991887d2\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 2)\">\n    <path fill=\"#FFDEC1\" d=\"M0,1.99124431 C0,0.891510444 0.889763236,0 2.00359486,0 L25,0 L32,7 L32,26.0054385 C32,27.1070044 31.1107383,28 29.9982567,28 L2.00174332,28 C0.89621101,28 0,27.1001025 0,26.0087557 L0,1.99124431 Z\" />\n    <path fill=\"#FF9433\" d=\"M24.5.57092175e-14C24.2238576.33045111e-13 24 .230796814 24 .500435829L24 8 31.4995642 8C31.7759472 8 32 7.76806641 32 7.5L32 7 25 0 24.5.57092175e-14zM9.99621582 16L25.9962158 16 25.9962158 18 9.99621582 18 9.99621582 16zM9.99621582 20L25.9962158 20 25.9962158 22 9.99621582 22 9.99621582 20zM6 16L8 16 8 18 6 18 6 16zM6 20L8 20 8 22 6 22 6 20zM16 14C18.209139 14 20 12.209139 20 10L16 10 16 6C13.790861 6 12 7.790861 12 10 12 12.209139 13.790861 14 16 14zM17 9C17 9 16.9999999 6 17 5 19 5 21.0000002 7 21 9L17 9z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "f/Nf":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _pushClient_styl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("AzIT");
/* harmony import */ var _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_pushClient_styl__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("buk/");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("IFEr");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var drive_config_config_json__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("FKqX");
var drive_config_config_json__WEBPACK_IMPORTED_MODULE_15___namespace = /*#__PURE__*/__webpack_require__.t("FKqX", 1);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_16__);










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/* global localStorage */









var BannerClient = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(BannerClient, _Component);

  var _super = _createSuper(BannerClient);

  function BannerClient(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, BannerClient);

    _this = _super.call(this, props);

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      mustShow: false
    });

    _this.willUnmount = false;
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(BannerClient, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var seen, mustSee;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.willUnmount = false;
                _context.next = 3;
                return localforage__WEBPACK_IMPORTED_MODULE_16___default.a.getItem(___WEBPACK_IMPORTED_MODULE_12__["DESKTOP_BANNER"]);

              case 3:
                _context.t0 = _context.sent;

                if (_context.t0) {
                  _context.next = 6;
                  break;
                }

                _context.t0 = false;

              case 6:
                seen = _context.t0;

                if (seen) {
                  _context.next = 12;
                  break;
                }

                _context.next = 10;
                return Object(___WEBPACK_IMPORTED_MODULE_12__["isClientAlreadyInstalled"])(this.props.client);

              case 10:
                mustSee = !_context.sent;

                if (mustSee && !this.willUnmount) {
                  this.setState({
                    mustShow: true
                  });
                }

              case 12:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.willUnmount = true;
    }
  }, {
    key: "markAsSeen",
    value: function markAsSeen(element) {
      localforage__WEBPACK_IMPORTED_MODULE_16___default.a.setItem(___WEBPACK_IMPORTED_MODULE_12__["DESKTOP_BANNER"], true);
      this.setState({
        mustShow: false
      });
      Object(___WEBPACK_IMPORTED_MODULE_12__["track"])(element);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      if (drive_config_config_json__WEBPACK_IMPORTED_MODULE_15__.promoteDesktop.isActivated !== true || !this.state.mustShow) return null;
      var t = this.props.t;
      var mobileLink = Object(___WEBPACK_IMPORTED_MODULE_12__["isIOS"])() ? 'Nav.link-client-ios' : Object(___WEBPACK_IMPORTED_MODULE_12__["isAndroid"])() ? 'Nav.link-client-android' : 'Nav.link-client';
      var desktopLink = Object(___WEBPACK_IMPORTED_MODULE_12__["isLinux"])() ? 'Nav.link-client' : 'Nav.link-client-desktop';
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default.a['coz-banner-client']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["ButtonLink"], {
        href: t(mobileLink),
        target: "_blank",
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default.a['coz-btn-clientMobile'],
        onClick: function onClick() {
          _this2.markAsSeen('banner');
        },
        label: t('Nav.btn-client-mobile')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default.a['coz-banner-text']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("figure", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
        icon: "cozy",
        width: "44",
        height: "44"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("span", null, t('Nav.banner-txt-client')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["ButtonLink"], {
        href: t(desktopLink),
        target: "_blank",
        theme: "alpha",
        onClick: function onClick() {
          _this2.markAsSeen('banner');
        },
        label: t('Nav.banner-btn-client')
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
        theme: "close",
        extension: "narrow",
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_9___default.a['close-banner'],
        onClick: function onClick() {
          _this2.markAsSeen('close');
        },
        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
          icon: "cross",
          width: "24",
          height: "24"
        }),
        iconOnly: true,
        label: t('SelectionBar.close')
      }));
    }
  }]);

  return BannerClient;
}(react__WEBPACK_IMPORTED_MODULE_11__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_10__["translate"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_14__["withClient"])(BannerClient)));

/***/ }),

/***/ "fD9B":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("/MKj");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7oMs");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("gb4X");





var mapStateToProps = function mapStateToProps(state) {
  var displayedFolder = Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_3__["getDisplayedFolder"])(state);
  var folderId = Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_3__["getCurrentFolderId"])(state);
  var insideRegularFolder = folderId && displayedFolder && displayedFolder.id !== drive_constants_config__WEBPACK_IMPORTED_MODULE_1__["ROOT_DIR_ID"];
  return {
    displayedFolder: displayedFolder,
    insideRegularFolder: insideRegularFolder,
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_2__["isSelectionBarVisible"])(state)
  };
};

var toolbarContainer = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(mapStateToProps);
/* harmony default export */ __webpack_exports__["default"] = (toolbarContainer);

/***/ }),

/***/ "fJEu":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"c-nav":"c-nav--2pgNw","c-nav-item":"c-nav-item--2YW1i","c-nav-icon":"c-nav-icon--3CHtr","is-active":"is-active--2g_KZ","c-nav-text":"c-nav-text--1ySJp","c-nav-link":"c-nav-link--u89K9","nav-spinner":"nav-spinner--KbR9b"};

/***/ }),

/***/ "fKGi":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAuthorized", function() { return isAuthorized; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "requestAuthorization", function() { return requestAuthorization; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateLibraryItem", function() { return updateLibraryItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadLibraryItem", function() { return uploadLibraryItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPhotos", function() { return getPhotos; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _cozy_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q3u0");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("qxHO");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("OTOu");







var hasCordovaPlugin = function hasCordovaPlugin() {
  return Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isMobileApp"])() && window.cordova.plugins !== undefined && window.cordova.plugins.listLibraryItems !== undefined;
};

var isAuthorized = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (hasCordovaPlugin()) {
              _context.next = 2;
              break;
            }

            return _context.abrupt("return", Promise.resolve(false));

          case 2:
            return _context.abrupt("return", new Promise(function (resolve) {
              var success = function success() {
                return resolve(true);
              };

              var error = function error() {
                return resolve(false);
              };

              window.cordova.plugins.listLibraryItems.isAuthorized(success, error);
            }));

          case 3:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function isAuthorized() {
    return _ref.apply(this, arguments);
  };
}();
var requestAuthorization = /*#__PURE__*/function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            if (hasCordovaPlugin()) {
              _context2.next = 2;
              break;
            }

            return _context2.abrupt("return", Promise.resolve(false));

          case 2:
            return _context2.abrupt("return", new Promise(function (resolve) {
              window.cordova.plugins.listLibraryItems.requestReadAuthorization(function () {
                return resolve(true);
              }, function (error) {
                if (!error.startsWith('Permission')) {
                  Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_3__["logException"])('requestAuthorization error:', error);
                }

                resolve(false);
              });
            }));

          case 3:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function requestAuthorization() {
    return _ref2.apply(this, arguments);
  };
}();

var generatePayloadForNative = /*#__PURE__*/function () {
  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(_ref3) {
    var uri, file, _ref3$method, method, _ref3$id, id, token, payload;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            uri = _ref3.uri, file = _ref3.file, _ref3$method = _ref3.method, method = _ref3$method === void 0 ? 'POST' : _ref3$method, _ref3$id = _ref3.id, id = _ref3$id === void 0 ? undefined : _ref3$id;
            _context3.next = 3;
            return Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_2__["getToken"])();

          case 3:
            token = _context3.sent;
            payload = {
              id: id,
              serverUrl: uri,
              libraryId: file['id'],
              mimeType: file['mimeType'],
              filePath: file['filePath'],
              httpMethod: method,
              headers: {
                Authorization: 'Bearer ' + token,
                'Content-Type': file['mimeType']
              }
            };
            return _context3.abrupt("return", payload);

          case 6:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function generatePayloadForNative(_x) {
    return _ref4.apply(this, arguments);
  };
}();

var uploadNativeItem = function uploadNativeItem(payload, progressCallback, thumbnailCallback) {
  return new Promise(function (resolve, reject) {
    window.cordova.plugins.listLibraryItems.uploadItem(payload, function (result) {
      if (result.errors) reject(result.errors);else if (result.progress !== undefined) progressCallback(result.progress);else if (result.thumbnail) thumbnailCallback(result.thumbnail);else {
        resolve(result);
      }
    }, reject);
  });
};

var updateLibraryItem = /*#__PURE__*/function () {
  var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(previousDocument, libraryItem, progressCallback, thumbnailCallback) {
    var uri, payload;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            if (!hasCordovaPlugin()) {
              _context4.next = 6;
              break;
            }

            // the cordova plugin is going to do the upload and needs all the infos to make a request to the stack
            uri = Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_2__["getClientUrl"])() + '/files/' + encodeURIComponent(previousDocument._id);
            _context4.next = 4;
            return generatePayloadForNative({
              uri: uri,
              file: libraryItem,
              method: 'PUT'
            });

          case 4:
            payload = _context4.sent;
            return _context4.abrupt("return", uploadNativeItem(payload, progressCallback, thumbnailCallback));

          case 6:
            return _context4.abrupt("return", Promise.resolve());

          case 7:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function updateLibraryItem(_x2, _x3, _x4, _x5) {
    return _ref5.apply(this, arguments);
  };
}();
var uploadLibraryItem = /*#__PURE__*/function () {
  var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(dirID, libraryItem, progressCallback, thumbnailCallback) {
    var uri, payload;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            if (!hasCordovaPlugin()) {
              _context5.next = 6;
              break;
            }

            uri = Object(_cozy_helper__WEBPACK_IMPORTED_MODULE_2__["getClientUrl"])() + '/files/' + encodeURIComponent(dirID) + '?Name=' + encodeURIComponent(libraryItem['fileName']) + '&Type=file&Tags=library&Executable=false';
            _context5.next = 4;
            return generatePayloadForNative({
              id: dirID,
              file: libraryItem,
              uri: uri
            });

          case 4:
            payload = _context5.sent;
            return _context5.abrupt("return", uploadNativeItem(payload, progressCallback, thumbnailCallback));

          case 6:
            return _context5.abrupt("return", Promise.resolve());

          case 7:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function uploadLibraryItem(_x6, _x7, _x8, _x9) {
    return _ref6.apply(this, arguments);
  };
}();
var getPhotos = /*#__PURE__*/function () {
  var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6() {
    var defaultReturn;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            defaultReturn = [];

            if (!hasCordovaPlugin()) {
              _context6.next = 3;
              break;
            }

            return _context6.abrupt("return", new Promise(function (resolve) {
              window.cordova.plugins.listLibraryItems.listItems(true, true, false, // includePictures, includeVideos, includeCloud
              function (response) {
                return resolve(response.library);
              }, function (err) {
                lib_logger__WEBPACK_IMPORTED_MODULE_5__["default"].warn(err);
                resolve(defaultReturn);
              });
            }));

          case 3:
            return _context6.abrupt("return", Promise.resolve(defaultReturn));

          case 4:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6);
  }));

  return function getPhotos() {
    return _ref7.apply(this, arguments);
  };
}();

/***/ }),

/***/ "gAdQ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("jyPq");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_1__);



var Breadcrumb = function Breadcrumb(_ref) {
  var currentStep = _ref.currentStep,
      totalSteps = _ref.totalSteps;
  var elementsArray = [];

  for (var i = 0; i < totalSteps; i++) {
    var elementClass = '';

    if (i + 1 === currentStep) {
      elementClass = _styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['onboarding-breadcrumb-element-active'];
    } else {
      elementClass = _styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['onboarding-breadcrumb-element'];
    }

    elementsArray[i] = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: elementClass,
      key: "step".concat(i)
    });
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_1___default.a['onboarding-breadcrumb']
  }, elementsArray.map(function (e) {
    return e;
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (Breadcrumb);

/***/ }),

/***/ "gb4X":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCurrentFolderId", function() { return getCurrentFolderId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCurrentFileId", function() { return getCurrentFileId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDisplayedFolder", function() { return getDisplayedFolder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParentFolder", function() { return getParentFolder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLatestFolderQueryResults", function() { return getLatestFolderQueryResults; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCurrentViewFetchStatus", function() { return getCurrentViewFetchStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFolderContent", function() { return getFolderContent; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("FyPc");
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_maxBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("KGD5");
/* harmony import */ var cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("T//5");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Z7XG");






var getCurrentFolderId = function getCurrentFolderId(rootState) {
  if (lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(rootState, 'router.params.folderId')) {
    return rootState.router.params.folderId;
  } else if (lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(rootState, 'router.location.pathname') == '/folder') {
    return drive_constants_config__WEBPACK_IMPORTED_MODULE_5__["ROOT_DIR_ID"];
  } else if (lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(rootState, 'router.location.pathname') == '/trash') {
    return drive_constants_config__WEBPACK_IMPORTED_MODULE_5__["TRASH_DIR_ID"];
  }

  return null;
};
var getCurrentFileId = function getCurrentFileId(rootState) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(rootState, 'router.params.fileId', null);
};
var getDisplayedFolder = function getDisplayedFolder(rootState) {
  var folderId = getCurrentFolderId(rootState);

  if (folderId) {
    var doc = Object(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__["getDocumentFromState"])(rootState, 'io.cozy.files', folderId);
    return doc;
  }

  return null;
};
var getParentFolder = function getParentFolder(rootState, parentFolderId) {
  if (parentFolderId) {
    var doc = Object(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__["getDocumentFromState"])(rootState, 'io.cozy.files', parentFolderId);
    return doc;
  }

  return null;
};

var getFolderContentQueries = function getFolderContentQueries(rootState, folderId) {
  var queries = rootState.cozy.queries;
  var folderContentQueries = Object.entries(queries).filter(function (_ref) {
    var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_ref, 1),
        queryId = _ref2[0];

    var parsed = Object(_queries__WEBPACK_IMPORTED_MODULE_4__["parseFolderQueryId"])(queryId);

    if (!parsed) {
      return false;
    }

    var queryFolderId = parsed.folderId;

    if (queryFolderId !== folderId) {
      return false;
    }

    return true;
  }).map(function (x) {
    return x[1];
  });
  return folderContentQueries;
};

var getLatestFolderQueryResults = function getLatestFolderQueryResults(rootState, folderId) {
  var folderContentQueries = getFolderContentQueries(rootState, folderId);

  if (folderContentQueries.length > 0) {
    var mostRecentQueryResults = lodash_maxBy__WEBPACK_IMPORTED_MODULE_1___default()(folderContentQueries, function (x) {
      return x.lastUpdate;
    }) || folderContentQueries[0];
    var otherQueryId = Object(_queries__WEBPACK_IMPORTED_MODULE_4__["getMirrorQueryId"])(mostRecentQueryResults.id);
    var otherQueryResults = rootState.cozy.queries[otherQueryId];
    return [mostRecentQueryResults, otherQueryResults];
  }

  return [];
};
var fetchStatusPriorities = {
  pending: 0,
  loading: 1,
  loaded: 2
};
var getCurrentViewFetchStatus = function getCurrentViewFetchStatus(rootState) {
  var folderId = getCurrentFolderId(rootState);
  var results = getLatestFolderQueryResults(rootState, folderId);

  if (!results || !results.length) {
    return 'loading';
  } else {
    return lodash_maxBy__WEBPACK_IMPORTED_MODULE_1___default()(results, function (r) {
      return fetchStatusPriorities[r.fetchStatus];
    }).fetchStatus;
  }
};
var getFolderContent = function getFolderContent(rootState, folderId) {
  var results = getLatestFolderQueryResults(rootState, folderId);

  if (results.length > 0) {
    var _results = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(results, 2),
        mostRecentQueryResults = _results[0],
        otherQueryResults = _results[1];

    var allContent = mostRecentQueryResults.data.concat(otherQueryResults ? otherQueryResults.data : []);
    return allContent.map(function (fileId) {
      return Object(cozy_client_dist_store__WEBPACK_IMPORTED_MODULE_3__["getDocumentFromState"])(rootState, 'io.cozy.files', fileId);
    });
  } else {
    return null;
  }
};

/***/ }),

/***/ "gbp9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d",
  "use": "icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#FCD0D5\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#F1132D\" d=\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6.06599695 19.784L7.96999695 19.784C8.25266503 19.784 8.51799571 19.8119997 8.76599695 19.868 9.01399819 19.9240003 9.22999603 20.0173327 9.41399695 20.148 9.59799787 20.2786673 9.74332975 20.4519989 9.84999695 20.668 9.95666415 20.8840011 10.0099969 21.1493318 10.0099969 21.464 10.0099969 21.7680015 9.95533083 22.0319989 9.84599695 22.256 9.73666307 22.4800011 9.58866455 22.6639993 9.40199695 22.808 9.21532935 22.9520007 8.99933151 23.0586663 8.75399695 23.128 8.50866239 23.1973337 8.24733167 23.232 7.96999695 23.232L7.24199695 23.232 7.24199695 25 6.06599695 25 6.06599695 19.784zM7.89799695 22.296C8.53800015 22.296 8.85799695 22.0186694 8.85799695 21.464 8.85799695 21.1919986 8.77666443 21.0000006 8.61399695 20.888 8.45132947 20.7759994 8.21266519 20.72 7.89799695 20.72L7.24199695 20.72 7.24199695 22.296 7.89799695 22.296zM10.9139969 19.784L12.3859969 19.784C12.7859989 19.784 13.1459953 19.8346662 13.4659969 19.936 13.7859985 20.0373338 14.0606625 20.1933323 14.2899969 20.404 14.5193314 20.6146677 14.6953297 20.882665 14.8179969 21.208 14.9406642 21.533335 15.0019969 21.9199978 15.0019969 22.368 15.0019969 22.8160022 14.9406642 23.2053317 14.8179969 23.536 14.6953297 23.8666683 14.5219981 24.1399989 14.2979969 24.356 14.0739958 24.5720011 13.8059985 24.7333328 13.4939969 24.84 13.1819954 24.9466672 12.8339989 25 12.4499969 25L10.9139969 25 10.9139969 19.784zM12.3139969 24.048C12.5379981 24.048 12.7406627 24.018667 12.9219969 23.96 13.1033312 23.901333 13.2579963 23.8066673 13.3859969 23.676 13.5139976 23.5453327 13.6139966 23.3733344 13.6859969 23.16 13.7579973 22.9466656 13.7939969 22.6826682 13.7939969 22.368 13.7939969 22.0586651 13.7579973 21.7986677 13.6859969 21.588 13.6139966 21.3773323 13.5139976 21.209334 13.3859969 21.084 13.2579963 20.958666 13.1033312 20.8693336 12.9219969 20.816 12.7406627 20.7626664 12.5379981 20.736 12.3139969 20.736L12.0899969 20.736 12.0899969 24.048 12.3139969 24.048zM15.9939969 19.784L19.2819969 19.784 19.2819969 20.776 17.1699969 20.776 17.1699969 21.984 18.9779969 21.984 18.9779969 22.976 17.1699969 22.976 17.1699969 25 15.9939969 25 15.9939969 19.784z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "h0jr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var components_Button_index_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("swni");
/* harmony import */ var components_Button_index_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(components_Button_index_styl__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var components_Button_getHomeLinkHref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("l0Ix");
/* harmony import */ var components_Button_CozyHomeLinkIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("X/0B");







var CozyHomeLink = function CozyHomeLink(_ref) {
  var from = _ref.from,
      _ref$embedInCozyBar = _ref.embedInCozyBar,
      embedInCozyBar = _ref$embedInCozyBar === void 0 ? false : _ref$embedInCozyBar,
      t = _ref.t,
      size = _ref.size,
      className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["ButtonLink"], {
    label: t('Share.create-cozy'),
    icon: components_Button_CozyHomeLinkIcon__WEBPACK_IMPORTED_MODULE_5__["default"],
    className: embedInCozyBar ? components_Button_index_styl__WEBPACK_IMPORTED_MODULE_3___default.a['bar-homelink'] : className,
    href: Object(components_Button_getHomeLinkHref__WEBPACK_IMPORTED_MODULE_4__["default"])(from),
    size: size
  });
};

CozyHomeLink.propTypes = {
  from: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  embedInCozyBar: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  size: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(['tiny', 'small', 'large', 'normal'])
};
CozyHomeLink.defaultProps = {
  from: '',
  size: 'normal'
};
/* harmony default export */ __webpack_exports__["default"] = (CozyHomeLink);

/***/ }),

/***/ "hLxD":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackupPhotosVideos", function() { return BackupPhotosVideos; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("/MKj");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("NMd3");
/* harmony import */ var _OnBoardingStep__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("H+qQ");






var BackupPhotosVideos = function BackupPhotosVideos(_ref) {
  var onActivate = _ref.onActivate,
      onSkip = _ref.onSkip,
      breadcrumbs = _ref.breadcrumbs;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_OnBoardingStep__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onActivate: onActivate,
    onSkip: onSkip,
    stepName: "photos",
    breadcrumbs: breadcrumbs
  });
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    onActivate: function () {
      var _onActivate = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_4__["backupImages"])(true));

              case 2:
                ownProps.nextStep();

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      function onActivate() {
        return _onActivate.apply(this, arguments);
      }

      return onActivate;
    }(),
    onSkip: function onSkip() {
      dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_4__["backupImages"])(false));
      ownProps.nextStep();
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(null, mapDispatchToProps)(BackupPhotosVideos));

/***/ }),

/***/ "hO92":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("SvPG");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("ufaa");
/* harmony import */ var drive_web_modules_drive_Toolbar_components_InsideRegularFolder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("d1FT");
/* harmony import */ var _UploadItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("6Xwf");
/* harmony import */ var _delete_DeleteItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("MCe/");
/* harmony import */ var _selectable_SelectableItem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("E3qw");
/* harmony import */ var _AddFolderItem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("OMqL");
/* harmony import */ var _CreateNoteItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("Ifgp");
/* harmony import */ var _CreateShortcut__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("nuXa");
/* harmony import */ var _DownloadButtonItem__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("06uc");
/* harmony import */ var _share_ShareItem__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("5vC2");
/* harmony import */ var _StartScanner__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("QFrT");
/* harmony import */ var _ScanWrapper__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("Qt5O");


















var MoreMenu = function MoreMenu(_ref) {
  var isDisabled = _ref.isDisabled,
      canCreateFolder = _ref.canCreateFolder,
      canUpload = _ref.canUpload,
      hasWriteAccess = _ref.hasWriteAccess,
      isMobile = _ref.breakpoints.isMobile;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
      menuIsVisible = _useState2[0],
      setMenuVisible = _useState2[1];

  var anchorRef = react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef();
  var openMenu = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return setMenuVisible(true);
  });
  var closeMenu = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return setMenuVisible(false);
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    ref: anchorRef
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Button__WEBPACK_IMPORTED_MODULE_2__["MoreButton"], {
    onClick: openMenu
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ScanWrapper__WEBPACK_IMPORTED_MODULE_16__["default"], null, menuIsVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_4__["default"], {
    placement: "bottom-end",
    anchorElRef: anchorRef,
    onClose: closeMenu,
    autoclose: true
  }, canCreateFolder && hasWriteAccess && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_AddFolderItem__WEBPACK_IMPORTED_MODULE_10__["default"], null), hasWriteAccess && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_CreateNoteItem__WEBPACK_IMPORTED_MODULE_11__["default"], null), hasWriteAccess && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_CreateShortcut__WEBPACK_IMPORTED_MODULE_12__["default"], null), canUpload && hasWriteAccess && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_UploadItem__WEBPACK_IMPORTED_MODULE_7__["default"], {
    disabled: isDisabled
  }), Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_3__["isMobileApp"])() && canUpload && hasWriteAccess && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_StartScanner__WEBPACK_IMPORTED_MODULE_15__["default"], {
    insideMoreMenu: true,
    disabled: isDisabled
  }), hasWriteAccess && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("hr", null), isMobile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_drive_Toolbar_components_InsideRegularFolder__WEBPACK_IMPORTED_MODULE_6__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_share_ShareItem__WEBPACK_IMPORTED_MODULE_14__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_drive_Toolbar_components_InsideRegularFolder__WEBPACK_IMPORTED_MODULE_6__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_DownloadButtonItem__WEBPACK_IMPORTED_MODULE_13__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_selectable_SelectableItem__WEBPACK_IMPORTED_MODULE_9__["default"], null), hasWriteAccess && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_drive_Toolbar_components_InsideRegularFolder__WEBPACK_IMPORTED_MODULE_6__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_delete_DeleteItem__WEBPACK_IMPORTED_MODULE_8__["default"], null)))));
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_5__["default"])()(MoreMenu));

/***/ }),

/***/ "hXE5":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("dtw8");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("y6ex");
/* harmony import */ var drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("fJEu");
/* harmony import */ var drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9__);






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/* global __TARGET__ */






var Nav = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(Nav, _Component);

  var _super = _createSuper(Nav);

  function Nav() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Nav);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Nav, [{
    key: "render",
    value: function render() {
      var t = this.props.t;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("nav", {
        "data-test-id": "driveSidebar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("ul", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-item']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_6__["Link"], {
        "data-test-id": "navToFolder",
        to: {
          pathname: '/folder'
        },
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-link'],
        activeClassName: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['is-active']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-icon']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
        icon: "folder"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-text']
      }, t('Nav.item_drive')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-item']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_6__["Link"], {
        "data-test-id": "navToRecent",
        to: "/recent",
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-link'],
        activeClassName: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['is-active']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-icon']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
        icon: "clock"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-text']
      }, t('Nav.item_recent')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-item']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_6__["Link"], {
        "data-test-id": "navToSharing",
        to: "/sharings",
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-link'],
        activeClassName: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['is-active']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-icon']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
        icon: "share"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-text']
      }, t('Nav.item_sharings')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-item']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router__WEBPACK_IMPORTED_MODULE_6__["Link"], {
        "data-test-id": "navToTrash",
        to: "/trash",
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-link'],
        activeClassName: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['is-active']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-icon']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], {
        icon: "trash"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: drive_styles_nav_styl__WEBPACK_IMPORTED_MODULE_9___default.a['c-nav-text']
      }, t('Nav.item_trash')))),  false && /*#__PURE__*/false));
    }
  }]);

  return Nav;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["translate"])()(Nav));

/***/ }),

/***/ "hehj":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-audio_e99d441b7729b89692055537e75fa922",
  "use": "icon-type-audio_e99d441b7729b89692055537e75fa922-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-audio_e99d441b7729b89692055537e75fa922\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\">\n    <rect width=\"30\" height=\"30\" fill=\"#ACF6F7\" rx=\"2\" />\n    <path fill=\"#0CCBD0\" d=\"M8,19.9979317 C6.8954305,19.9979317 6,20.8856614 6,21.9979317 L6,21.9979317 C6,23.1025012 6.89826062,23.9979317 7.99791312,23.9979317 L9,23.9979317 C10.6568542,23.9979317 12,22.6487458 12,21.0005269 L12,13.3224852 C12,13.0410046 12.217172,12.7720898 12.4922264,12.7205046 L18.5077736,11.5923149 C18.7796227,11.5413308 19,11.7161978 19,12.0098818 L19,17.4880499 C19,17.7696499 18.7849426,17.9979317 18.5095215,17.9979317 L17,17.9979317 C15.8954305,17.9979317 15,18.9020069 15,19.9947579 L15,19.8159933 C15,20.9188099 15.8982606,21.8128195 16.9979131,21.8128195 L18,21.8128195 C19.6568542,21.8128195 21,20.464451 21,18.8195676 L21,6.99922157 C21,6.44622446 20.555163,6.07881118 20.0238234,6.17541838 L10.9761766,7.82044507 C10.4370492,7.91846824 10,8.45369268 10,9.00040502 L10,19.4975844 C10,19.7739186 9.78494263,19.9979317 9.50952148,19.9979317 L8,19.9979317 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "huNH":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("fvjX");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yEaX");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("7oMs");
/* harmony import */ var drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("37ak");
/* harmony import */ var drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("JZSQ");
/* harmony import */ var drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("2U19");
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("iTW1");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Yo2A");
/* harmony import */ var drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("cSBT");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("NMd3");
/* harmony import */ var drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("QDdI");
/* harmony import */ var _connectedRouter__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("wj43");
/* harmony import */ var drive_web_modules_navigation_AppRoute__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("YJGQ");


/* global __TARGET__ */



 // TODO: Get rid of this, local state would be better


 // TODO: Move this to his own module/duck?







 // Per Dan Abramov: https://stackoverflow.com/questions/35622588/how-to-reset-the-state-of-a-redux-store/35641992#35641992

var createRootReducer = function createRootReducer(client) {
  var baseReducers = {
    ui: react_cozy_helpers__WEBPACK_IMPORTED_MODULE_8__["default"],
    view: drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_2__["default"],
    filelist: drive_web_modules_filelist_duck__WEBPACK_IMPORTED_MODULE_4__["default"],
    upload: drive_web_modules_upload__WEBPACK_IMPORTED_MODULE_6__["default"],
    selection: drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_3__["default"],
    rename: drive_web_modules_drive_rename__WEBPACK_IMPORTED_MODULE_5__["default"],
    availableOffline: drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_7__["default"]
  };
  var mobileReducer = Object(redux__WEBPACK_IMPORTED_MODULE_1__["combineReducers"])({
    authorization: drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_11__["default"],
    settings: drive_mobile_modules_settings_duck__WEBPACK_IMPORTED_MODULE_9__["default"],
    mediaBackup: drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_10__["default"]
  });
  var routerReducer = Object(_connectedRouter__WEBPACK_IMPORTED_MODULE_12__["createReducer"])({
    routes: drive_web_modules_navigation_AppRoute__WEBPACK_IMPORTED_MODULE_13__["routes"]
  });

  var reducers = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, baseReducers, {
    cozy: client.reducer(),
    router: routerReducer
  });

  if (false) {}

  var appReducer = Object(redux__WEBPACK_IMPORTED_MODULE_1__["combineReducers"])(reducers);

  var rootReducer = function rootReducer(state, action) {
    if (action.type === drive_mobile_modules_authorization_duck__WEBPACK_IMPORTED_MODULE_11__["UNLINK"]) {
      state = undefined;
    }

    return appReducer(state, action);
  };

  return rootReducer;
};

/* harmony default export */ __webpack_exports__["default"] = (createRootReducer);

/***/ }),

/***/ "hy2B":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initFlags", function() { return initFlags; });
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("kdbL");
/* harmony import */ var cozy_flags__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_0__);

var initFlags = function initFlags() {
  var activateFlags = cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('switcher') === true ? true : false;

  if ( true && cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('switcher') === null) {
    activateFlags = true;
  }

  var searchParams = new URL(window.location).searchParams;

  if (!activateFlags && searchParams.get('flags') !== null) {
    activateFlags = true;
  }

  if (activateFlags) {
    flagsList();
  }
};

var flagsList = function flagsList() {
  cozy_flags__WEBPACK_IMPORTED_MODULE_0___default()('switcher', true);
};

/***/ }),

/***/ "iTW1":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvailableOfflineIds", function() { return getAvailableOfflineIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAvailableOffline", function() { return isAvailableOffline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toggleAvailableOffline", function() { return toggleAvailableOffline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openLocalFile", function() { return openLocalFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openLocalFileCopy", function() { return openLocalFileCopy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateOfflineFileCopyIfNecessary", function() { return updateOfflineFileCopyIfNecessary; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("1aVK");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("67rm");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("OTOu");







var MAKE_AVAILABLE_OFFLINE = 'MAKE_AVAILABLE_OFFLINE';
var UNDO_MAKE_AVAILABLE_OFFLINE = 'UNDO_MAKE_AVAILABLE_OFFLINE';
/* harmony default export */ __webpack_exports__["default"] = (function () {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    case MAKE_AVAILABLE_OFFLINE:
      return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state), [action.id]);

    case UNDO_MAKE_AVAILABLE_OFFLINE:
      {
        var index = state.indexOf(action.id);
        return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state.slice(0, index)), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state.slice(index + 1)));
      }

    default:
      return state;
  }
});

var markAsAvailableOffline = function markAsAvailableOffline(id) {
  return {
    type: MAKE_AVAILABLE_OFFLINE,
    id: id
  };
};

var markAsUnavailableOffline = function markAsUnavailableOffline(id) {
  return {
    type: UNDO_MAKE_AVAILABLE_OFFLINE,
    id: id
  };
};

var getAvailableOfflineIds = function getAvailableOfflineIds(_ref) {
  var availableOffline = _ref.availableOffline;
  return availableOffline;
};
var isAvailableOffline = function isAvailableOffline(_ref2, id) {
  var state = _ref2.availableOffline;
  return Array.isArray(state) && state.indexOf(id) !== -1;
};
var toggleAvailableOffline = function toggleAvailableOffline(file, client) {
  return /*#__PURE__*/function () {
    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(dispatch, getState) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              return _context.abrupt("return", isAvailableOffline(getState(), file.id) ? dispatch(forgetDownloadedFile(file)) : dispatch(makeAvailableOffline(file, client)));

            case 1:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function (_x, _x2) {
      return _ref3.apply(this, arguments);
    };
  }();
};

var forgetDownloadedFile = function forgetDownloadedFile(file) {
  return /*#__PURE__*/function () {
    var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(dispatch) {
      var filename;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              filename = file.id;

              if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isMobileApp"])() && window.cordova.file) {
                Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["deleteOfflineFile"])(filename);
              }

              dispatch(markAsUnavailableOffline(file.id));

            case 3:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));

    return function (_x3) {
      return _ref4.apply(this, arguments);
    };
  }();
};

var makeAvailableOffline = function makeAvailableOffline(file, client) {
  return /*#__PURE__*/function () {
    var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(dispatch) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              _context3.next = 2;
              return saveOfflineFileCopy(file, client);

            case 2:
              dispatch(markAsAvailableOffline(file.id));

            case 3:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3);
    }));

    return function (_x4) {
      return _ref5.apply(this, arguments);
    };
  }();
};

var saveOfflineFileCopy = /*#__PURE__*/function () {
  var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(file, client) {
    var response, blob, filename;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            if (!(!Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isMobileApp"])() || !window.cordova.file)) {
              _context4.next = 2;
              break;
            }

            return _context4.abrupt("return");

          case 2:
            _context4.prev = 2;
            _context4.next = 5;
            return client.collection('io.cozy.files').fetchFileContent(file);

          case 5:
            response = _context4.sent;
            _context4.next = 8;
            return response.blob();

          case 8:
            blob = _context4.sent;
            filename = file.id;
            Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["saveFileWithCordova"])(blob, filename);
            _context4.next = 17;
            break;

          case 13:
            _context4.prev = 13;
            _context4.t0 = _context4["catch"](2);
            cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error('mobile.error.make_available_offline.offline');
            throw _context4.t0;

          case 17:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4, null, [[2, 13]]);
  }));

  return function saveOfflineFileCopy(_x5, _x6) {
    return _ref6.apply(this, arguments);
  };
}();

var openLocalFile = function openLocalFile(file) {
  return /*#__PURE__*/function () {
    var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(dispatch, getState) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              if (!isAvailableOffline(getState(), file.id)) {
                lib_logger__WEBPACK_IMPORTED_MODULE_6__["default"].error('openLocalFile: this file is not available offline');
              }

              Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["openOfflineFile"])(file).catch(function (error) {
                lib_logger__WEBPACK_IMPORTED_MODULE_6__["default"].error('openLocalFile', error);
                cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error('mobile.error.make_available_offline.noapp');
              });

            case 2:
            case "end":
              return _context5.stop();
          }
        }
      }, _callee5);
    }));

    return function (_x7, _x8) {
      return _ref7.apply(this, arguments);
    };
  }();
};
var openLocalFileCopy = function openLocalFileCopy(file) {
  return /*#__PURE__*/function () {
    var _ref9 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(dispatch, getState, _ref8) {
      var client, localFile;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
        while (1) {
          switch (_context6.prev = _context6.next) {
            case 0:
              client = _ref8.client;

              if (!isAvailableOffline(getState(), file.id)) {
                _context6.next = 3;
                break;
              }

              return _context6.abrupt("return", Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["openOfflineFile"])(file));

            case 3:
              _context6.next = 5;
              return Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["createTemporaryLocalFile"])(client, file);

            case 5:
              localFile = _context6.sent;
              return _context6.abrupt("return", Object(drive_mobile_lib_filesystem__WEBPACK_IMPORTED_MODULE_3__["openFileWithCordova"])(localFile.nativeURL, file.mime));

            case 7:
            case "end":
              return _context6.stop();
          }
        }
      }, _callee6);
    }));

    return function (_x9, _x10, _x11) {
      return _ref9.apply(this, arguments);
    };
  }();
};
var updateOfflineFileCopyIfNecessary = function updateOfflineFileCopyIfNecessary(file, prevFile, client) {
  return /*#__PURE__*/function () {
    var _ref10 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(_, getState) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
        while (1) {
          switch (_context7.prev = _context7.next) {
            case 0:
              if (!(isAvailableOffline(getState(), file.id) && file.md5sum !== prevFile.md5sum)) {
                _context7.next = 3;
                break;
              }

              _context7.next = 3;
              return saveOfflineFileCopy(file, client);

            case 3:
            case "end":
              return _context7.stop();
          }
        }
      }, _callee7);
    }));

    return function (_x12, _x13) {
      return _ref10.apply(this, arguments);
    };
  }();
};

/***/ }),

/***/ "ixLX":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Support", function() { return Support; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("67rm");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("qxHO");
/* harmony import */ var drive_mobile_lib_network__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("nfx8");
/* harmony import */ var _SettingCategory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("YfLo");
/* harmony import */ var _duck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("cSBT");










var Support = function Support(_ref) {
  var t = _ref.t,
      analytics = _ref.analytics,
      setAnalytics = _ref.setAnalytics,
      isDebug = _ref.isDebug,
      serverUrl = _ref.serverUrl,
      sendFeedback = _ref.sendFeedback;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_SettingCategory__WEBPACK_IMPORTED_MODULE_8__["default"], {
    title: t('mobile.settings.support.title'),
    elements: [{
      type: _SettingCategory__WEBPACK_IMPORTED_MODULE_8__["ELEMENT_CHECKBOX"],
      title: t('mobile.settings.support.analytics.title'),
      label: t('mobile.settings.support.analytics.label'),
      id: 'analytics_checkbox',
      checked: analytics,
      onChange: setAnalytics
    }, {
      type: _SettingCategory__WEBPACK_IMPORTED_MODULE_8__["ELEMENT_BUTTON"],
      display: isDebug,
      title: t('mobile.settings.support.logs.title'),
      description: t('mobile.settings.support.logs.description'),
      text: t('mobile.settings.support.logs.button'),
      theme: 'regular',
      onClick: function () {
        var _onClick = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (!Object(drive_mobile_lib_network__WEBPACK_IMPORTED_MODULE_7__["isOnline"])()) {
                    _context.next = 12;
                    break;
                  }

                  _context.prev = 1;
                  _context.next = 4;
                  return Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_6__["logInfo"])(t('mobile.settings.support.logs.title'), serverUrl);

                case 4:
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].info('mobile.settings.support.logs.success');
                  _context.next = 10;
                  break;

                case 7:
                  _context.prev = 7;
                  _context.t0 = _context["catch"](1);
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error('mobile.settings.support.logs.error');

                case 10:
                  _context.next = 13;
                  break;

                case 12:
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_5__["default"].error('alert.offline');

                case 13:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[1, 7]]);
        }));

        function onClick() {
          return _onClick.apply(this, arguments);
        }

        return onClick;
      }()
    }, {
      type: _SettingCategory__WEBPACK_IMPORTED_MODULE_8__["ELEMENT_BUTTON"],
      title: t('mobile.settings.support.feedback.title'),
      description: t('mobile.settings.support.feedback.description'),
      text: t('mobile.settings.support.feedback.button'),
      theme: 'regular',
      onClick: function onClick() {
        sendFeedback();
      }
    }]
  });
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    analytics: Object(_duck__WEBPACK_IMPORTED_MODULE_9__["isAnalyticsOn"])(state),
    serverUrl: Object(_duck__WEBPACK_IMPORTED_MODULE_9__["getServerUrl"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    setAnalytics: function setAnalytics(value) {
      return dispatch(Object(_duck__WEBPACK_IMPORTED_MODULE_9__["setAnalytics"])(value));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps, mapDispatchToProps)(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])()(Support)));

/***/ }),

/***/ "jVge":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("qPyV");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("UmWK");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("buk/");
/* harmony import */ var drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("6TdX");
/* harmony import */ var drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("9j6G");
/* harmony import */ var drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("PGBS");
/* harmony import */ var drive_web_modules_drive_Toolbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("cAso");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_mobile_modules_mediaBackup_MediaBackupProgression__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("PL+6");
/* harmony import */ var drive_mobile_modules_settings_RatingModal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("sjVh");
/* harmony import */ var drive_mobile_modules_mediaBackup_FirstUploadModal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("dPaS");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("T//5");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("gb4X");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("yEaX");
/* harmony import */ var _Folder_FolderView__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("3vrf");
/* harmony import */ var _Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("R6Il");
/* harmony import */ var _Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("kvbT");
/* harmony import */ var _Folder_FolderViewBreadcrumb__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("0f7X");


/* global __TARGET__ */























var getBreadcrumbPath = function getBreadcrumbPath(t, displayedFolder) {
  return lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default()([{
    id: drive_constants_config__WEBPACK_IMPORTED_MODULE_12__["ROOT_DIR_ID"]
  }, {
    id: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(displayedFolder, 'dir_id')
  }, {
    id: displayedFolder.id,
    name: displayedFolder.name
  }], 'id').filter(function (_ref) {
    var id = _ref.id;
    return Boolean(id);
  }).map(function (breadcrumb) {
    return {
      id: breadcrumb.id,
      name: breadcrumb.name || (breadcrumb.id === drive_constants_config__WEBPACK_IMPORTED_MODULE_12__["ROOT_DIR_ID"] ? t('breadcrumb.title_drive') : '…')
    };
  });
};

var DriveView = function DriveView(_ref2) {
  var currentFolderId = _ref2.currentFolderId,
      router = _ref2.router,
      location = _ref2.location,
      children = _ref2.children;

  var _useFolderSort = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_18__["useFolderSort"])(currentFolderId),
      _useFolderSort2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useFolderSort, 1),
      sortOrder = _useFolderSort2[0];

  var folderQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_16__["buildDriveQuery"])({
    currentFolderId: currentFolderId,
    type: 'directory',
    sortAttribute: sortOrder.attribute,
    sortOrder: sortOrder.order
  });
  var fileQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_16__["buildDriveQuery"])({
    currentFolderId: currentFolderId,
    type: 'file',
    sortAttribute: sortOrder.attribute,
    sortOrder: sortOrder.order
  });
  var foldersResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useQuery"])(folderQuery.definition, folderQuery.options);
  var filesResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useQuery"])(fileQuery.definition, fileQuery.options);
  var isInError = foldersResult.fetchStatus === 'error' || filesResult.fetchStatus === 'error';
  var isLoading = foldersResult.fetchStatus === 'loading' && !foldersResult.lastUpdate || filesResult.fetchStatus === 'loading' && !filesResult.lastUpdate;
  var isPending = foldersResult.fetchStatus === 'pending' || filesResult.fetchStatus === 'pending';
  var navigateToFolder = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (folderId) {
    router.push("/folder/".concat(folderId));
  });
  var navigateToFile = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (file) {
    router.push("/folder/".concat(currentFolderId, "/file/").concat(file.id));
  });

  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(cozy_sharing__WEBPACK_IMPORTED_MODULE_5__["SharingContext"]),
      hasWriteAccess = _useContext.hasWriteAccess;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_6__["useClient"])();

  var _useContext2 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_8__["ModalContext"]),
      pushModal = _useContext2.pushModal,
      popModal = _useContext2.popModal;

  var _useContext3 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(cozy_sharing__WEBPACK_IMPORTED_MODULE_5__["SharingContext"]),
      refresh = _useContext3.refresh;

  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])();
  var actionsOptions = {
    client: client,
    pushModal: pushModal,
    popModal: popModal,
    refresh: refresh,
    dispatch: dispatch,
    router: router,
    location: location,
    hasWriteAccess: hasWriteAccess(currentFolderId),
    canMove: true
  };
  var actions = Object(drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_9__["default"])([drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["share"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["download"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["trash"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["open"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["rename"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["move"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["qualify"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["versions"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["offline"]], actionsOptions);

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["useI18n"])(),
      t = _useI18n.t;

  var geTranslatedBreadcrumbPath = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (displayedFolder) {
    return getBreadcrumbPath(t, displayedFolder);
  }, [t]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Folder_FolderView__WEBPACK_IMPORTED_MODULE_19__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_20__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Folder_FolderViewBreadcrumb__WEBPACK_IMPORTED_MODULE_22__["default"], {
    getBreadcrumbPath: geTranslatedBreadcrumbPath,
    currentFolderId: currentFolderId,
    navigateToFolder: navigateToFolder
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_drive_Toolbar__WEBPACK_IMPORTED_MODULE_11__["default"], {
    canUpload: true,
    canCreateFolder: true,
    disabled: isLoading || isInError || isPending
  })),  false && /*#__PURE__*/false, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_21__["default"], {
    navigateToFolder: navigateToFolder,
    navigateToFile: navigateToFile,
    actions: actions,
    queryResults: [foldersResult, filesResult],
    canSort: true,
    currentFolderId: currentFolderId
  }), children);
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(function (state) {
  return {
    currentFolderId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_17__["getCurrentFolderId"])(state) || drive_constants_config__WEBPACK_IMPORTED_MODULE_12__["ROOT_DIR_ID"]
  };
})(DriveView));

/***/ }),

/***/ "jyPq":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"wizard":"wizard--1HCBw","coz-form":"coz-form--2A4SX","coz-form-group":"coz-form-group--3BYMZ","coz-form-desc":"coz-form-desc--2tErs","coz-form-label":"coz-form-label--3euxp","coz-form-label--error":"coz-form-label--error--1x3jc","coz-form-errors":"coz-form-errors--3f3F6","error":"error--3c9Jw","CozyTheme--normal":"CozyTheme--normal--1U0t-","wizard-header":"wizard-header--nLsA0","skipLink":"skipLink--1PT30","illustration":"illustration--2DbFf","wizard-main":"wizard-main--3GxrT","title":"title--YFqq7","description":"description--3BWBR","wizard-footer":"wizard-footer--2ic32","illustration-photos":"illustration-photos--1MPGH","illustration-analytics":"illustration-analytics--ZyQzt","illustration-files":"illustration-files--3FCFu","onboarding-breadcrumb":"onboarding-breadcrumb--2qS0G","onboarding-breadcrumb-element":"onboarding-breadcrumb-element--2qF4S","onboarding-breadcrumb-element-active":"onboarding-breadcrumb-element-active--2S4e1","spin":"spin--3Yv0h","shake":"shake--t8i23"};

/***/ }),

/***/ "koyB":
/***/ (function(module) {

module.exports = {"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","support-us":"View offers","support-us-description":"Would you like to benefit from more space or simply support cozy?","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload files","item_more":"More","menu_new_folder":"New folder","menu_select":"Select items","menu_share_folder":"Share folder","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","menu_create_note":"New note","menu_create_shortcut":"New shortcut","empty_trash":"Empty trash","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it"},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won't be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other… |||| and %{smart_count} others…","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy's contacts: you'll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won't be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won't be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won't be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Status","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with","moveto":"Move to…","phone-download":"Make available offline","qualify":"Categorize","history":"History"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won't be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won't be synchronized anymore","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access these files anymore.","restore":"You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won't be able to access this file anymore. |||| You won't be able to access these files anymore.","restore":"You won't be able to restore this file if you didn't make a backup. |||| You won't be able to restore these files if you didn't make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":"Please remove files, empty your trash or increase your disk space before uploading files again.","confirm":"OK","increase":"Increase your disk space"},"loading":{"message":"Loading"},"empty":{"title":"You don’t have any files in this folder.","text":"Click the \"upload\" button to add files to this folder.","trash_title":"You don’t have any deleted files.","trash_text":"Move files you don't need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!","generic":"Something went wrong. Wait a few minutes and retry."},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","file_name":"The element %{fileName} already exists, please choose a new name.","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files…"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don't have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesn’t seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \"cozy\" with a \"z\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone's contact on your Cozy — this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it's on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You're done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn't be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application on your device can open this file with mime type: %{fileMime} "},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application on your device can open this file with mime type: %{fileMime} "}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn't, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let's do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if…"},"alert":{"rated":"Thank you! You're ⭐️⭐️⭐️⭐️⭐️","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we'll ask again later.","feedback":"Thank you for the feedback. We'll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up 🎉","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don't use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."},"download":{"success":"Your file has been shared with success"}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you're connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application found to handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You're currently offline."}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it's original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it's original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"ImportToDrive":{"title":"%{smart_count} element |||| %{smart_count} elements","to":"Save in:","action":"Save","cancel":"Cancel","success":"%{smart_count} saved file |||| %{smart_count} saved files","error":"Something went wrong. Please try again"},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can't use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}},"History":{"description":"The last 20 versions of your files are automatically kept. Select a version to download it.","current_version":"Current version","loading":"Loading...","noFileVersionEnabled":"Your Cozy will soon be able to archive the last modifications of a file to never risk losing them again"},"External":{"redirection":{"title":"Redirection","text":"You're about to be redirected…","error":"Error during the redirection. Generally, this means that the content of the file is not in the correct format."}},"RenameModal":{"title":"Rename","description":"You're about to change the file's extension. Do you want to continue?","continue":"Continue","cancel":"Cancel"},"Shortcut":{"title_modal":"Create a shortcut","filename":"Filename","url":"URL","cancel":"Cancel","create":"Create","created":"Your shortcut has been created","errored":"An error occured","filename_error_ends":"The name should end with .url","needs_info":"Shorcut needs at least an url and a filename","url_badformat":"Your url is not in the right format"}};

/***/ }),

/***/ "kvbT":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_lib_ThumbnailSizeContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("EM1p");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("x76H");
/* harmony import */ var drive_web_modules_filelist_FileListBody__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("NirP");
/* harmony import */ var drive_web_modules_filelist_AddFolder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("MpOc");
/* harmony import */ var drive_web_modules_filelist_FileListHeader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("vehq");
/* harmony import */ var drive_web_modules_filelist_MobileFileListHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("a/S8");
/* harmony import */ var components_Error_Oops__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("CxWN");
/* harmony import */ var components_Error_Empty__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("KOJc");
/* harmony import */ var drive_web_modules_filelist_FileListRowsPlaceholder__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("zLPI");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var drive_web_modules_filelist_LoadMoreV2__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("D2vr");
/* harmony import */ var drive_web_modules_filelist_File__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("d9dq");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("yEaX");
/* harmony import */ var drive_web_modules_selection_SelectionBar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("eXby");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_web_modules_views_Folder_createFileOpeningHandler__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("rVp8");






















var FolderViewBody = function FolderViewBody(_ref) {
  var currentFolderId = _ref.currentFolderId,
      queryResults = _ref.queryResults,
      actions = _ref.actions,
      canSort = _ref.canSort,
      _ref$canUpload = _ref.canUpload,
      canUpload = _ref$canUpload === void 0 ? true : _ref$canUpload,
      _ref$withFilePath = _ref.withFilePath,
      withFilePath = _ref$withFilePath === void 0 ? false : _ref$withFilePath,
      navigateToFolder = _ref.navigateToFolder,
      navigateToFile = _ref.navigateToFile,
      _ref$refreshFolderCon = _ref.refreshFolderContent,
      refreshFolderContent = _ref$refreshFolderCon === void 0 ? null : _ref$refreshFolderCon;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useClient"])();

  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(drive_lib_ThumbnailSizeContext__WEBPACK_IMPORTED_MODULE_3__["ThumbnailSizeContext"]),
      isBigThumbnail = _useContext.isBigThumbnail,
      toggleThumbnailSize = _useContext.toggleThumbnailSize;

  var _useFolderSort = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_17__["useFolderSort"])(currentFolderId),
      _useFolderSort2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useFolderSort, 2),
      sortOrder = _useFolderSort2[0],
      setSortOrder = _useFolderSort2[1];

  var changeSortOrder = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (folderId_legacy, attribute, order) {
    return setSortOrder({
      sortAttribute: attribute,
      sortOrder: order
    });
  });
  var capabilities = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useCapabilities"])(client);
  var isFlatDomain = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(capabilities, 'capabilities.data.attributes.flat_subdomains');
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useDispatch"])();
  var handleFileOpen = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(Object(drive_web_modules_views_Folder_createFileOpeningHandler__WEBPACK_IMPORTED_MODULE_20__["default"])({
    client: client,
    isFlatDomain: isFlatDomain,
    dispatch: dispatch,
    navigateToFile: navigateToFile,
    replaceCurrentUrl: function replaceCurrentUrl(url) {
      return window.location.href = url;
    },
    openInNewTab: function openInNewTab(url) {
      return window.open(url, '_blank');
    }
  }), [client, dispatch, navigateToFile, isFlatDomain]);
  var isInError = queryResults.some(function (query) {
    return query.fetchStatus === 'error';
  });
  var hasDataToShow = !isInError && queryResults.some(function (query) {
    return query.data && query.data.length > 0;
  });
  var isLoading = !hasDataToShow && queryResults.some(function (query) {
    return query.fetchStatus === 'loading' && !query.lastUpdate;
  });
  var isEmpty = !isInError && !isLoading && !hasDataToShow;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_selection_SelectionBar__WEBPACK_IMPORTED_MODULE_18__["default"], {
    actions: actions
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_6__["FileList"], null, hasDataToShow && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_MobileFileListHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
    folderId: null,
    canSort: canSort,
    sort: sortOrder,
    onFolderSort: changeSortOrder,
    thumbnailSizeBig: isBigThumbnail,
    toggleThumbnailSize: toggleThumbnailSize
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_FileListHeader__WEBPACK_IMPORTED_MODULE_9__["default"], {
    folderId: null,
    canSort: canSort,
    sort: sortOrder,
    onFolderSort: changeSortOrder,
    thumbnailSizeBig: isBigThumbnail,
    toggleThumbnailSize: toggleThumbnailSize
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_FileListBody__WEBPACK_IMPORTED_MODULE_7__["ConnectedFileListBody"], {
    selectionModeActive: false
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_AddFolder__WEBPACK_IMPORTED_MODULE_8__["default"], {
    refreshFolderContent: refreshFolderContent
  }), isInError && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Error_Oops__WEBPACK_IMPORTED_MODULE_11__["default"], null), isLoading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_FileListRowsPlaceholder__WEBPACK_IMPORTED_MODULE_13__["default"], null), isEmpty && currentFolderId !== drive_constants_config__WEBPACK_IMPORTED_MODULE_19__["TRASH_DIR_ID"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Error_Empty__WEBPACK_IMPORTED_MODULE_12__["EmptyDrive"], {
    canUpload: canUpload
  }), isEmpty && currentFolderId === drive_constants_config__WEBPACK_IMPORTED_MODULE_19__["TRASH_DIR_ID"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Error_Empty__WEBPACK_IMPORTED_MODULE_12__["EmptyTrash"], {
    canUpload: canUpload
  }), hasDataToShow && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_14__["isMobileApp"])() ? 'u-ov-hidden' : ''
  }, queryResults.map(function (query, queryIndex) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, {
      key: queryIndex
    }, query.data.map(function (file) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_File__WEBPACK_IMPORTED_MODULE_16__["FileWithSelection"], {
        key: file._id,
        attributes: file,
        withSelectionCheckbox: true,
        onFolderOpen: navigateToFolder,
        onFileOpen: handleFileOpen,
        withFilePath: withFilePath,
        thumbnailSizeBig: isBigThumbnail,
        actions: actions,
        refreshFolderContent: refreshFolderContent
      });
    }), query.hasMore && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_LoadMoreV2__WEBPACK_IMPORTED_MODULE_15__["default"], {
      fetchMore: query.fetchMore
    }));
  })))));
};

/* harmony default export */ __webpack_exports__["default"] = (FolderViewBody);

/***/ }),

/***/ "l0Ix":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var getHomeLinkHref = function getHomeLinkHref(from) {
  return "https://manager.cozycloud.cc/cozy/create".concat(from ? "?pk_campaign=".concat(encodeURIComponent(from)) : '?', "&pk_kwd=cozy");
};

/* harmony default export */ __webpack_exports__["default"] = (getHomeLinkHref);

/***/ }),

/***/ "lotC":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadQuotaError = function UploadQuotaError(_ref) {
  var t = _ref.t,
      url = _ref.url;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status--error'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, t('mobile.settings.media_backup.quota')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-link'],
    onClick: function onClick() {
      return window.open(url, '_system');
    }
  }, t('mobile.settings.media_backup.quota_contact'))));
};

UploadQuotaError.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  url: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadQuotaError);

/***/ }),

/***/ "mdCN":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"fil-file-name-input":"fil-file-name-input--2jfPV","error":"error--2QCXU","CozyTheme--normal":"CozyTheme--normal--pFpMj","spin":"spin--3eqnH","shake":"shake--12n6l"};

/***/ }),

/***/ "mx4X":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_sharing_dist_components_SharedDocuments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("aJ9m");




var withSharedDocumentIds = function withSharedDocumentIds(BaseComponent) {
  var WrapperComponent = function WrapperComponent(props) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_sharing_dist_components_SharedDocuments__WEBPACK_IMPORTED_MODULE_2__["default"], null, function (_ref) {
      var sharedDocuments = _ref.sharedDocuments;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(BaseComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
        sharedDocumentIds: sharedDocuments
      }));
    });
  };

  WrapperComponent.displayName = "withSharedDocumentIds(".concat(BaseComponent.displayName, ")");
  return WrapperComponent;
};

/* harmony default export */ __webpack_exports__["default"] = (withSharedDocumentIds);

/***/ }),

/***/ "nfx8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UNKNOWN", function() { return UNKNOWN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ETHERNET", function() { return ETHERNET; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WIFI", function() { return WIFI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CELL_2G", function() { return CELL_2G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CELL_3G", function() { return CELL_3G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CELL_4G", function() { return CELL_4G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CELL", function() { return CELL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NONE", function() { return NONE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "watchNetworkState", function() { return watchNetworkState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWifi", function() { return isWifi; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isOnline", function() { return isOnline; });
var UNKNOWN = window.Connection ? window.Connection.UNKNOWN : 'unknown';
var ETHERNET = window.Connection ? window.Connection.ETHERNET : 'ethernet';
var WIFI = window.Connection ? window.Connection.WIFI : 'wifi';
var CELL_2G = window.Connection ? window.Connection.CELL_2G : '2g';
var CELL_3G = window.Connection ? window.Connection.CELL_3G : '3g';
var CELL_4G = window.Connection ? window.Connection.CELL_4G : '4g';
var CELL = window.Connection ? window.Connection.CELL : 'cellular';
var NONE = window.Connection ? window.Connection.NONE : 'none';
var watchNetworkState = function watchNetworkState(onConnectionChange) {
  document.addEventListener('offline', onConnectionChange, false);
  document.addEventListener('online', onConnectionChange, false);
};

var hasCordovaPlugin = function hasCordovaPlugin() {
  return window.navigator.connection !== undefined && window.Connection !== undefined;
};

var getConnectionType = function getConnectionType() {
  return hasCordovaPlugin() ? navigator.connection.type : WIFI;
};

var isWifi = function isWifi() {
  return getConnectionType() === WIFI;
};
var isOnline = function isOnline() {
  return hasCordovaPlugin() ? navigator.connection !== NONE : navigator.onLine;
};

/***/ }),

/***/ "nhFO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc",
  "use": "icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#D1D5DB\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#A3ACB8\" d=\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "nuXa":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("y6ex");
/* harmony import */ var _ShortcutCreationModalConnected__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("qLsR");
/* harmony import */ var react_cozy_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Yo2A");








var CreateShortcutWrapper = function CreateShortcutWrapper(_ref) {
  var openModal = _ref.openModal;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_3__["ActionMenuItem"], {
    "data-test-id": "create-a-shortcut",
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
      icon: "link"
    }),
    onClick: openModal
  }, t('toolbar.menu_create_shortcut'));
};

var mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {
  return {
    openModal: function openModal() {
      return dispatch(Object(react_cozy_helpers__WEBPACK_IMPORTED_MODULE_6__["showModal"])( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ShortcutCreationModalConnected__WEBPACK_IMPORTED_MODULE_5__["default"], {
        onCreated: ownProps.onCreated
      })));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(null, mapDispatchToProps)(CreateShortcutWrapper));

/***/ }),

/***/ "nw0P":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./_lib/build_formatting_tokens_reg_exp/index.js": "kOWh",
	"./ar/build_distance_in_words_locale/index.js": "XxX6",
	"./ar/build_format_locale/index.js": "alis",
	"./ar/index.js": "EDRf",
	"./be/build_distance_in_words_locale/index.js": "LQ09",
	"./be/build_format_locale/index.js": "kj7F",
	"./be/index.js": "YEhR",
	"./bg/build_distance_in_words_locale/index.js": "7K3h",
	"./bg/build_format_locale/index.js": "RrdL",
	"./bg/index.js": "isx8",
	"./ca/build_distance_in_words_locale/index.js": "wqqj",
	"./ca/build_format_locale/index.js": "qcV0",
	"./ca/index.js": "Vwa+",
	"./cs/build_distance_in_words_locale/index.js": "ZKDM",
	"./cs/build_format_locale/index.js": "ipyF",
	"./cs/index.js": "dvhP",
	"./da/build_distance_in_words_locale/index.js": "2Mgc",
	"./da/build_format_locale/index.js": "Gned",
	"./da/index.js": "7ur/",
	"./de/build_distance_in_words_locale/index.js": "5IWf",
	"./de/build_format_locale/index.js": "THCn",
	"./de/index.js": "bgw5",
	"./el/build_distance_in_words_locale/index.js": "o/GB",
	"./el/build_format_locale/index.js": "8T9h",
	"./el/index.js": "dH0v",
	"./en/build_distance_in_words_locale/index.js": "LZbM",
	"./en/build_format_locale/index.js": "6DAA",
	"./en/index.js": "Us+F",
	"./eo/build_distance_in_words_locale/index.js": "qrnn",
	"./eo/build_format_locale/index.js": "Bl15",
	"./eo/index.js": "UB7v",
	"./es/build_distance_in_words_locale/index.js": "GEfZ",
	"./es/build_format_locale/index.js": "O+zC",
	"./es/index.js": "/S0t",
	"./fi/build_distance_in_words_locale/index.js": "VHtQ",
	"./fi/build_format_locale/index.js": "Oydx",
	"./fi/index.js": "ndVD",
	"./fil/build_distance_in_words_locale/index.js": "uq4p",
	"./fil/build_format_locale/index.js": "d7hw",
	"./fil/index.js": "pNfm",
	"./fr/build_distance_in_words_locale/index.js": "IzMR",
	"./fr/build_format_locale/index.js": "I3Zg",
	"./fr/index.js": "LKA2",
	"./hr/build_distance_in_words_locale/index.js": "DPvn",
	"./hr/build_format_locale/index.js": "puw3",
	"./hr/index.js": "L9Jq",
	"./hu/build_distance_in_words_locale/index.js": "w2RQ",
	"./hu/build_format_locale/index.js": "/0iD",
	"./hu/index.js": "Nm+E",
	"./id/build_distance_in_words_locale/index.js": "JbvB",
	"./id/build_format_locale/index.js": "0wlw",
	"./id/index.js": "A6C3",
	"./is/build_distance_in_words_locale/index.js": "qzMC",
	"./is/build_format_locale/index.js": "S3yD",
	"./is/index.js": "N4bE",
	"./it/build_distance_in_words_locale/index.js": "MDEp",
	"./it/build_format_locale/index.js": "aUJd",
	"./it/index.js": "hmb4",
	"./ja/build_distance_in_words_locale/index.js": "nNvt",
	"./ja/build_format_locale/index.js": "buui",
	"./ja/index.js": "uAXs",
	"./ko/build_distance_in_words_locale/index.js": "oEw+",
	"./ko/build_format_locale/index.js": "9SQf",
	"./ko/index.js": "iW8+",
	"./mk/build_distance_in_words_locale/index.js": "nmwZ",
	"./mk/build_format_locale/index.js": "htxJ",
	"./mk/index.js": "GzBU",
	"./nb/build_distance_in_words_locale/index.js": "SL1f",
	"./nb/build_format_locale/index.js": "CJ5F",
	"./nb/index.js": "73vv",
	"./nl/build_distance_in_words_locale/index.js": "Uyu0",
	"./nl/build_format_locale/index.js": "doCD",
	"./nl/index.js": "hCQt",
	"./pl/build_distance_in_words_locale/index.js": "FUBD",
	"./pl/build_format_locale/index.js": "nOYf",
	"./pl/index.js": "B6yL",
	"./pt/build_distance_in_words_locale/index.js": "aTPA",
	"./pt/build_format_locale/index.js": "TTT0",
	"./pt/index.js": "gdks",
	"./ro/build_distance_in_words_locale/index.js": "gI+A",
	"./ro/build_format_locale/index.js": "njjO",
	"./ro/index.js": "r2yp",
	"./ru/build_distance_in_words_locale/index.js": "KmPx",
	"./ru/build_format_locale/index.js": "UUBw",
	"./ru/index.js": "nz/o",
	"./sk/build_distance_in_words_locale/index.js": "q2Bs",
	"./sk/build_format_locale/index.js": "9sxn",
	"./sk/index.js": "Wqan",
	"./sl/build_distance_in_words_locale/index.js": "mlv2",
	"./sl/build_format_locale/index.js": "vHkZ",
	"./sl/index.js": "KYSo",
	"./sr/build_distance_in_words_locale/index.js": "LlkS",
	"./sr/build_format_locale/index.js": "RhjJ",
	"./sr/index.js": "7mU3",
	"./sv/build_distance_in_words_locale/index.js": "UNBN",
	"./sv/build_format_locale/index.js": "zTNB",
	"./sv/index.js": "hxgj",
	"./th/build_distance_in_words_locale/index.js": "XAGa",
	"./th/build_format_locale/index.js": "We2s",
	"./th/index.js": "Pk+z",
	"./tr/build_distance_in_words_locale/index.js": "aFZF",
	"./tr/build_format_locale/index.js": "jh7A",
	"./tr/index.js": "3ZWG",
	"./zh_cn/build_distance_in_words_locale/index.js": "KdB7",
	"./zh_cn/build_format_locale/index.js": "l4EP",
	"./zh_cn/index.js": "8tMq",
	"./zh_tw/build_distance_in_words_locale/index.js": "vyyr",
	"./zh_tw/build_format_locale/index.js": "uYH7",
	"./zh_tw/index.js": "QPlQ"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "nw0P";

/***/ }),

/***/ "o3iJ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QILm");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4__);






var Cell = function Cell(_ref) {
  var className = _ref.className,
      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(_ref, ["className"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], className)
  }, props));
};

/* harmony default export */ __webpack_exports__["default"] = (Cell);

/***/ }),

/***/ "oRqk":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("ufaa");
/* harmony import */ var components_Image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("510Z");
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("UmWK");
/* harmony import */ var drive_web_modules_filelist_FileIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("c96E");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7__);









var FileThumbnail = function FileThumbnail(_ref) {
  var file = _ref.file,
      isMobile = _ref.breakpoints.isMobile,
      size = _ref.size;
  var isImage = file.class === 'image';
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-file-thumbnail'], {
      'u-pl-0': !isMobile
    })
  }, isImage ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(components_Image__WEBPACK_IMPORTED_MODULE_4__["ImageLoader"], {
    file: file,
    size: "small",
    render: function render(src) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: src,
        width: size || 32,
        height: size || 32,
        className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-file-thumbnail-image']
      });
    },
    renderFallback: function renderFallback() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileIcon__WEBPACK_IMPORTED_MODULE_6__["default"], {
        file: file,
        size: size
      });
    }
  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileIcon__WEBPACK_IMPORTED_MODULE_6__["default"], {
    file: file,
    size: size
  }), file.class !== 'shortcut' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_5__["SharedBadge"], {
    docId: file.id,
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_7___default.a['fil-content-shared'],
    xsmall: true
  }));
};

FileThumbnail.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    class: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    mime: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired,
  breakpoints: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    isMobile: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
  }).isRequired,
  size: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])()(FileThumbnail));

/***/ }),

/***/ "ommj":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALBUMS_DOCTYPE", function() { return ALBUMS_DOCTYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFile", function() { return isFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDirectory", function() { return isDirectory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReferencedByAlbum", function() { return isReferencedByAlbum; });
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

//!TODO Put this to cozy-client/models/files
var FILE_TYPE = 'file';
var DIR_TYPE = 'directory';
var ALBUMS_DOCTYPE = 'io.cozy.photos.albums';
var isFile = function isFile(file) {
  return file && file.type === FILE_TYPE;
};
var isDirectory = function isDirectory(file) {
  return file && file.type === DIR_TYPE;
};
var isReferencedByAlbum = function isReferencedByAlbum(file) {
  if (file.relationships && file.relationships.referenced_by && file.relationships.referenced_by.data && file.relationships.referenced_by.data.length > 0) {
    var references = file.relationships.referenced_by.data;

    var _iterator = _createForOfIteratorHelper(references),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var reference = _step.value;

        if (reference.type === ALBUMS_DOCTYPE) {
          return true;
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
  }

  return false;
};

/***/ }),

/***/ "pGdt":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("bisv");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_3__);





var UploadAbortedWifi = function UploadAbortedWifi(_ref) {
  var t = _ref.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status'], _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status--waiting'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_3___default.a['coz-upload-status-content']
  }, t('mobile.settings.media_backup.no_wifi')));
};

UploadAbortedWifi.propTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UploadAbortedWifi);

/***/ }),

/***/ "pr+u":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2",
  "use": "icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <rect width=\"26\" height=\"32\" fill=\"#D1D5DB\" rx=\"2\" />\n    <path fill=\"#4F5B69\" d=\"M11,1 L13,1 L13,3 L11,3 L11,1 Z M11,5 L13,5 L13,7 L11,7 L11,5 Z M11,9 L13,9 L13,11 L11,11 L11,9 Z M13,3 L15,3 L15,5 L13,5 L13,3 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z M11,12 L15,12 L15,19 L11,19 L11,12 Z M12,13 L14,13 L14,15 L12,15 L12,13 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "pwBM":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("qPyV");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("buk/");
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("UmWK");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("yEaX");
/* harmony import */ var drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("9j6G");
/* harmony import */ var drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("PGBS");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("Z7XG");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("T//5");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("gb4X");
/* harmony import */ var drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("6TdX");
/* harmony import */ var drive_web_modules_trash_Toolbar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("rLh7");
/* harmony import */ var _Folder_FolderView__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("3vrf");
/* harmony import */ var _Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("R6Il");
/* harmony import */ var _Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("kvbT");
/* harmony import */ var _Folder_FolderViewBreadcrumb__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("0f7X");





















var getBreadcrumbPath = function getBreadcrumbPath(t, displayedFolder) {
  return lodash_uniqBy__WEBPACK_IMPORTED_MODULE_4___default()([{
    id: drive_constants_config__WEBPACK_IMPORTED_MODULE_11__["TRASH_DIR_ID"],
    name: t('breadcrumb.title_trash')
  }, {
    id: lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(displayedFolder, 'dir_id')
  }, {
    id: displayedFolder.id,
    name: displayedFolder.name
  }], 'id').filter(function (_ref) {
    var id = _ref.id;
    return Boolean(id) && id !== drive_constants_config__WEBPACK_IMPORTED_MODULE_11__["ROOT_DIR_ID"];
  }).map(function (breadcrumb) {
    return {
      id: breadcrumb.id,
      name: breadcrumb.name || '…'
    };
  });
};

var TrashFolderView = function TrashFolderView(_ref2) {
  var currentFolderId = _ref2.currentFolderId,
      router = _ref2.router,
      children = _ref2.children;

  var _useFolderSort = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_8__["useFolderSort"])(currentFolderId),
      _useFolderSort2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useFolderSort, 1),
      sortOrder = _useFolderSort2[0];

  var folderQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_12__["buildTrashQueryFolder"])({
    currentFolderId: currentFolderId,
    type: 'directory',
    sortAttribute: sortOrder.attribute,
    sortOrder: sortOrder.order
  });
  var fileQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_12__["buildTrashQueryFolder"])({
    currentFolderId: currentFolderId,
    type: 'file',
    sortAttribute: sortOrder.attribute,
    sortOrder: sortOrder.order
  });
  var foldersResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useQuery"])(folderQuery.definition, folderQuery.options);
  var filesResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useQuery"])(fileQuery.definition, fileQuery.options);
  var navigateToFolder = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (folderId) {
    router.push("/trash/".concat(folderId));
  });
  var navigateToFile = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (file) {
    router.push("/trash/".concat(currentFolderId, "/file/").concat(file.id));
  });

  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(cozy_sharing__WEBPACK_IMPORTED_MODULE_7__["SharingContext"]),
      refresh = _useContext.refresh;

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_5__["useClient"])();

  var _useContext2 = Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_14__["ModalContext"]),
      pushModal = _useContext2.pushModal,
      popModal = _useContext2.popModal;

  var actionsOptions = {
    client: client,
    refresh: refresh,
    pushModal: pushModal,
    popModal: popModal
  };
  var actions = Object(drive_web_modules_actions_useActions__WEBPACK_IMPORTED_MODULE_9__["default"])([drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["restore"], drive_web_modules_actions__WEBPACK_IMPORTED_MODULE_10__["destroy"]], actionsOptions);

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["useI18n"])(),
      t = _useI18n.t;

  var geTranslatedBreadcrumbPath = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function (displayedFolder) {
    return getBreadcrumbPath(t, displayedFolder);
  }, [t]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Folder_FolderView__WEBPACK_IMPORTED_MODULE_16__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Folder_FolderViewHeader__WEBPACK_IMPORTED_MODULE_17__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Folder_FolderViewBreadcrumb__WEBPACK_IMPORTED_MODULE_19__["default"], {
    getBreadcrumbPath: geTranslatedBreadcrumbPath,
    currentFolderId: currentFolderId,
    navigateToFolder: navigateToFolder
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_trash_Toolbar__WEBPACK_IMPORTED_MODULE_15__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Folder_FolderViewBody__WEBPACK_IMPORTED_MODULE_18__["default"], {
    currentFolderId: currentFolderId,
    navigateToFolder: navigateToFolder,
    navigateToFile: navigateToFile,
    actions: actions,
    queryResults: [foldersResult, filesResult],
    canSort: true
  }), children);
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(function (state) {
  return {
    currentFolderId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_13__["getCurrentFolderId"])(state)
  };
})(TrashFolderView));

/***/ }),

/***/ "py1d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_sharing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("UmWK");
/* harmony import */ var _share__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("GpAf");




var ShareButtonWithProps = function ShareButtonWithProps(_ref) {
  var displayedFolder = _ref.displayedFolder,
      share = _ref.share,
      isDisabled = _ref.isDisabled;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_sharing__WEBPACK_IMPORTED_MODULE_1__["ShareButton"], {
    docId: displayedFolder.id,
    disabled: isDisabled,
    onClick: function onClick() {
      return share(displayedFolder);
    },
    className: 'u-hide--mob'
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(_share__WEBPACK_IMPORTED_MODULE_2__["default"])(ShareButtonWithProps));

/***/ }),

/***/ "q3u0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLang", function() { return getLang; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOauthOptions", function() { return getOauthOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initClient", function() { return initClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initBar", function() { return initBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "restoreCozyClientJs", function() { return restoreCozyClientJs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetClient", function() { return resetClient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getToken", function() { return getToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getClientUrl", function() { return getClientUrl; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("pRNw");
/* harmony import */ var cozy_client_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cozy_pouch_link__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("4ihG");
/* harmony import */ var cozy_pouch_link__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_pouch_link__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Ow0/");
/* harmony import */ var _background__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("UQWb");
/* harmony import */ var drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("z6Q1");
/* harmony import */ var drive_appMetadata__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("unzg");
/* harmony import */ var drive_mobile_lib_redirect__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("8jCc");





/* global cozy */









var getLang = function getLang() {
  return navigator && navigator.language ? navigator.language.slice(0, 2) : 'en';
};
var getOauthOptions = function getOauthOptions() {
  return {
    redirectURI: Object(drive_mobile_lib_redirect__WEBPACK_IMPORTED_MODULE_12__["getRedirectUri"])(drive_appMetadata__WEBPACK_IMPORTED_MODULE_11__["default"].slug),
    softwareID: _constants__WEBPACK_IMPORTED_MODULE_8__["SOFTWARE_ID"],
    clientName: "".concat(_constants__WEBPACK_IMPORTED_MODULE_8__["SOFTWARE_NAME"], " (").concat(Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_7__["getDeviceName"])(), ")"),
    softwareVersion: drive_appMetadata__WEBPACK_IMPORTED_MODULE_11__["default"].version,
    clientKind: 'mobile',
    clientURI: 'https://github.com/cozy/cozy-drive/',
    logoURI: 'https://github.com/cozy/cozy-drive/raw/master/targets/drive/vendor/assets/oauth-app-icon.png',
    policyURI: 'https://files.cozycloud.cc/cgu.pdf'
  };
};
var initClient = function initClient(url) {
  var stackLink = new cozy_client__WEBPACK_IMPORTED_MODULE_5__["StackLink"]();
  var pouchLinkOptions = {
    doctypes: [drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_10__["DOCTYPE_FILES"]],
    doctypesReplicationOptions: _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()({}, drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_10__["DOCTYPE_FILES"], {
      strategy: 'fromRemote'
    }),
    initialSync: true
  };

  if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_7__["isMobileApp"])() && Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_7__["isIOSApp"])()) {
    pouchLinkOptions.pouch = {
      plugins: [__webpack_require__("tinZ")],
      options: {
        adapter: 'cordova-sqlite',
        location: 'default'
      }
    };
  }

  var pouchLink = new cozy_pouch_link__WEBPACK_IMPORTED_MODULE_6___default.a(pouchLinkOptions);
  return new cozy_client__WEBPACK_IMPORTED_MODULE_5___default.a({
    uri: url,
    oauth: getOauthOptions(),
    appMetadata: drive_appMetadata__WEBPACK_IMPORTED_MODULE_11__["default"],
    schema: drive_lib_doctypes__WEBPACK_IMPORTED_MODULE_10__["schema"],
    links: [pouchLink, stackLink]
  });
};
var initBar = /*#__PURE__*/function () {
  var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(client) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!document.getElementById('coz-bar')) {
              _context.next = 2;
              break;
            }

            return _context.abrupt("return");

          case 2:
            _context.next = 4;
            return cozy.bar.init({
              appName: 'Drive',
              appNamePrefix: 'Cozy',
              appSlug: 'drive',
              cozyClient: client,
              iconPath: __webpack_require__("OZnT"),
              lang: getLang(),
              cozyURL: client.uri,
              replaceTitleOnMobile: false,
              displayOnMobile: true
            });

          case 4:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function initBar(_x) {
    return _ref.apply(this, arguments);
  };
}();
var restoreCozyClientJs = function restoreCozyClientJs(uri, clientInfos, token) {
  var offline = {
    doctypes: ['io.cozy.files']
  };
  cozy.client.init({
    cozyURL: uri,
    oauth: {
      storage: new cozy_client_js__WEBPACK_IMPORTED_MODULE_4__["LocalStorage"](),
      clientParams: _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, clientInfos, {
        scopes: token.scope
      })
    },
    offline: offline
  });
  cozy.client.saveCredentials(clientInfos, token);
};
function resetClient(client) {
  var clientInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (clientInfo && cozy.client.auth.unregisterClient) {
    cozy.client.auth.unregisterClient(clientInfo);
  } // reset cozy-bar


  if (document.getElementById('coz-bar')) {
    document.getElementById('coz-bar').remove();
  } // reset pouchDB


  if (cozy.client.offline.destroyAllDatabase) {
    cozy.client.offline.destroyAllDatabase();
  } // reset cozy-client


  client.getStackClient().resetClient(); // reset cozy-client-js

  if (cozy.client._storage) {
    cozy.client._storage.clear();
  }

  Object(_background__WEBPACK_IMPORTED_MODULE_9__["disableBackgroundService"])();
}
var getToken = /*#__PURE__*/function () {
  var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {
    var credentials;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return cozy.client.authorize();

          case 2:
            credentials = _context2.sent;
            return _context2.abrupt("return", credentials.token.accessToken);

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function getToken() {
    return _ref2.apply(this, arguments);
  };
}();
var getClientUrl = function getClientUrl() {
  return cozy.client._url;
};

/***/ }),

/***/ "qEeb":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./en.json": "2S2T",
	"./fr.json": "gK7X"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "qEeb";

/***/ }),

/***/ "qG+M":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("/MKj");
/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("IujW");
/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_markdown__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_mobile_assets_icons_icon_tos_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("crEs");
/* harmony import */ var _duck__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("QDdI");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("Zd4r");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_16__);










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/* global __TARGET__ */








var TosUpdatedModal = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["translate"])()(function (_ref) {
  var t = _ref.t,
      newTosLink = _ref.newTosLink,
      onAccept = _ref.onAccept,
      onRefuse = _ref.onRefuse;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Modal"], {
    closable: false
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Modal"].ModalHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Modal"].ModalDescription, {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_16___default.a['tosupdated']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Icon"], {
    icon: drive_mobile_assets_icons_icon_tos_svg__WEBPACK_IMPORTED_MODULE_14__["default"],
    width: 96,
    height: 96
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h2", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_16___default.a['tosupdated-title']
  }, t('TOS.updated.title')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react_markdown__WEBPACK_IMPORTED_MODULE_11___default.a, {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_16___default.a['tosupdated-desc'],
    source: t('TOS.updated.detail', {
      link: newTosLink
    })
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
    extension: "full",
    label: t('TOS.updated.cta'),
    onClick: onAccept
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
    subtle: true,
    size: "small",
    extension: "full",
    style: {
      marginTop: '1.5rem'
    },
    label: t('TOS.updated.disconnect'),
    onClick: onRefuse
  })));
});

var UserActionRequired = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(UserActionRequired, _Component);

  var _super = _createSuper(UserActionRequired);

  function UserActionRequired() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, UserActionRequired);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "state", {
      warnings: []
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "checkIfUserActionIsRequired", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      var _this$context, client, router, wasBlocked;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$context = _this.context, client = _this$context.client, router = _this$context.router;
              _context.prev = 1;
              _context.next = 4;
              return client.getStackClient().fetch('GET', '/data/');

            case 4:
              wasBlocked = _this.state.warnings.length !== 0;

              if (wasBlocked) {
                _this.setState({
                  warnings: []
                });

                router.replace('/');
              }

              _context.next = 11;
              break;

            case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](1);

              if (_context.t0.status === 402) {
                _this.setState({
                  warnings: _context.t0.reason
                });
              }

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[1, 8]]);
    })));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "acceptUpdatedTos", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {
      var _this$context2, client, router;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _this$context2 = _this.context, client = _this$context2.client, router = _this$context2.router;
              _context2.prev = 1;
              _context2.next = 4;
              return client.getClient().fetch('PUT', '/settings/instance/sign_tos');

            case 4:
              _this.setState({
                warnings: _this.state.warnings.filter(function (w) {
                  return w.code !== 'tos-updated';
                })
              });

              router.replace('/');
              _context2.next = 11;
              break;

            case 8:
              _context2.prev = 8;
              _context2.t0 = _context2["catch"](1);
              cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Alerter"].error('TOS.updated.error');

            case 11:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2, null, [[1, 8]]);
    })));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this), "disconnect", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3() {
      var _this$context3, client, router, _this$props, unlink, clientSettings;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              _this$context3 = _this.context, client = _this$context3.client, router = _this$context3.router;
              _this$props = _this.props, unlink = _this$props.unlink, clientSettings = _this$props.clientSettings;
              unlink(client, clientSettings);
              router.replace('/onboarding');

            case 4:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3);
    })));

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(UserActionRequired, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (false) {}
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (false) {}
    }
  }, {
    key: "render",
    value: function render() {
      var warnings = this.state.warnings;
      if (warnings.length === 0) return null;
      var tosUpdated = warnings.find(function (w) {
        return w.code === 'tos-updated';
      });

      if (tosUpdated) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(TosUpdatedModal, {
          newTosLink: tosUpdated.links.self,
          onAccept: this.acceptUpdatedTos,
          onRefuse: this.disconnect
        });
      }
    }
  }]);

  return UserActionRequired;
}(react__WEBPACK_IMPORTED_MODULE_9__["Component"]);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(UserActionRequired, "contextTypes", {
  client: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object.isRequired,
  router: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object.isRequired
});

var mapStateToProps = function mapStateToProps(state) {
  return {
    clientSettings: Object(_duck__WEBPACK_IMPORTED_MODULE_15__["getClientSettings"])(state)
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    unlink: function unlink(client, clientSettings) {
      return dispatch(Object(_duck__WEBPACK_IMPORTED_MODULE_15__["unlink"])(client, clientSettings));
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_10__["connect"])(mapStateToProps, mapDispatchToProps)(UserActionRequired));

/***/ }),

/***/ "qLsR":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var drive_web_modules_drive_Toolbar_toolbar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fD9B");
/* harmony import */ var _ShortcutCreationModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("zupC");


/* harmony default export */ __webpack_exports__["default"] = (Object(drive_web_modules_drive_Toolbar_toolbar__WEBPACK_IMPORTED_MODULE_0__["default"])(_ShortcutCreationModal__WEBPACK_IMPORTED_MODULE_1__["default"]));

/***/ }),

/***/ "qelF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("H+Xc");
/* harmony import */ var _index_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("swni");
/* harmony import */ var _index_styl__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_index_styl__WEBPACK_IMPORTED_MODULE_3__);





var MoreButton = function MoreButton(_ref) {
  var t = _ref.t,
      disabled = _ref.disabled,
      onClick = _ref.onClick;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    "data-test-id": "more-button",
    className: _index_styl__WEBPACK_IMPORTED_MODULE_3___default.a['dri-btn--more'],
    theme: "secondary",
    disabled: disabled,
    onClick: onClick,
    extension: "narrow",
    icon: "dots",
    iconOnly: true,
    label: t('Toolbar.more')
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_1__["translate"])()(MoreButton));

/***/ }),

/***/ "qxHO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ANALYTICS_URL", function() { return ANALYTICS_URL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeData", function() { return normalizeData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReporterConfiguration", function() { return getReporterConfiguration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "configureReporter", function() { return configureReporter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logException", function() { return logException; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCozyUrl", function() { return setCozyUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "logInfo", function() { return logInfo; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var raven_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("NlKi");
/* harmony import */ var raven_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(raven_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_appMetadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("unzg");
/* harmony import */ var lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("OTOu");


/* global __SENTRY_URL__, __DEVELOPMENT__ */



var ANALYTICS_URL =  false ? undefined : "https://29bd1255b6d544a1b65435a634c9ff67@sentry.cozycloud.cc/2"; // normalize files path on mobile, see https://github.com/getsentry/sentry-cordova/blob/17e8b3395e8ce391ecf28658d0487b97487bb509/src/js/SentryCordova.ts#L213

var normalizeUrl = function normalizeUrl(url, pathStripRe) {
  return url.replace(/^file:\/\//, 'app://').replace(pathStripRe, '');
};

var normalizeData = function normalizeData(data) {
  var PATH_STRIP_RE = /^.*\/[^.]+(\.app|CodePush|.*(?=\/))/;

  if (data.culprit) {
    data.culprit = normalizeUrl(data.culprit, PATH_STRIP_RE);
  }

  var stacktrace = data.stacktrace || data.exception && data.exception.values && data.exception.values[0] && data.exception.values[0].stacktrace;

  if (stacktrace) {
    stacktrace.frames = stacktrace.frames.map(function (frame) {
      return frame.filename !== '[native code]' ? _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, frame, {
        filename: normalizeUrl(frame.filename, PATH_STRIP_RE)
      }) : frame;
    });
  }

  return data;
};
var getReporterConfiguration = function getReporterConfiguration() {
  return {
    shouldSendCallback: true,
    environment:  true ? 'development' : undefined,
    release: drive_appMetadata__WEBPACK_IMPORTED_MODULE_2__["default"].version,
    allowSecretKey: true,
    dataCallback: normalizeData
  };
};
var configureReporter = function configureReporter() {
  raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.config(ANALYTICS_URL, getReporterConfiguration()).install();
};
var logException = function logException(err) {
  var extraContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var fingerprint = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return new Promise(function (resolve) {
    raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.captureException(err, {
      extra: extraContext,
      fingerprint: fingerprint
    });
    lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].warn('Raven is recording exception');
    lib_logger__WEBPACK_IMPORTED_MODULE_3__["default"].error(err);
    resolve();
  });
};
var setCozyUrl = function setCozyUrl(instance) {
  raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.setTagsContext({
    instance: instance
  });
};

var logMessage = function logMessage(message, serverUrl) {
  var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'info';
  return new Promise(function (resolve) {
    raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.setUserContext = {
      url: serverUrl
    };
    raven_js__WEBPACK_IMPORTED_MODULE_1___default.a.captureMessage("[".concat(serverUrl, "] ").concat(message), {
      level: level
    });
    resolve();
  });
};

var logInfo = function logInfo(message, serverUrl) {
  return logMessage(message, serverUrl, 'info');
};

/***/ }),

/***/ "rH+U":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"feedback-form":"feedback-form--1Hjg3","coz-form":"coz-form--2IkEt","coz-form-group":"coz-form-group--17IGD","coz-form-desc":"coz-form-desc--341sI","coz-form-label":"coz-form-label--KKSGZ","coz-form-label--error":"coz-form-label--error--1l6MZ","coz-form-errors":"coz-form-errors--3vkOv","settings":"settings--1nsnv","settings__title":"settings__title--_YWG5","settings__category":"settings__category--3XPW7","settings__button":"settings__button--2WzVM","settings__subcategory-title":"settings__subcategory-title--2fiRw","settings__subcategory":"settings__subcategory--5_HUH","settings__subcategory__label":"settings__subcategory__label--3ylh3","settings__subcategory__item":"settings__subcategory__item--3s2tq","feedback-text":"feedback-text--2mWKg","button-block":"button-block--2fdxt","spin":"spin--3lPHL","shake":"shake--DR2Bn"};

/***/ }),

/***/ "rLh7":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Toolbar", function() { return Toolbar; });
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("fvjX");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("ufaa");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("UxX4");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("y6ex");
/* harmony import */ var cozy_ui_transpiled_react_BarContextProvider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("yDJO");
/* harmony import */ var drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("6TdX");
/* harmony import */ var components_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("SvPG");
/* harmony import */ var _components_EmptyTrashConfirm__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("IdOc");
/* harmony import */ var drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("MFii");
/* harmony import */ var drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("7oMs");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _drive_Toolbar_selectable_SelectableItem__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("E3qw");


/* global cozy */

















var Toolbar = function Toolbar(_ref) {
  var t = _ref.t,
      disabled = _ref.disabled,
      selectionModeActive = _ref.selectionModeActive,
      isMobile = _ref.breakpoints.isMobile;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useClient"])();
  var BarRight = cozy.bar.BarRight;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),
      menuIsVisible = _useState2[0],
      setMenuVisible = _useState2[1];

  var anchorRef = react__WEBPACK_IMPORTED_MODULE_1___default.a.createRef();
  var openMenu = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return setMenuVisible(true);
  });
  var closeMenu = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    return setMenuVisible(false);
  });

  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(drive_lib_ModalContext__WEBPACK_IMPORTED_MODULE_11__["ModalContext"]),
      pushModal = _useContext.pushModal,
      popModal = _useContext.popModal;

  var onEmptyTrash = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {
    pushModal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_EmptyTrashConfirm__WEBPACK_IMPORTED_MODULE_13__["default"], {
      onClose: popModal,
      onConfirm: function onConfirm() {
        Object(drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_14__["emptyTrash"])(client);
      }
    }));
  });
  var MoreMenu = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    ref: anchorRef
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_Button__WEBPACK_IMPORTED_MODULE_12__["MoreButton"], {
    onClick: openMenu
  })), menuIsVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_8__["default"], {
    placement: "bottom-end",
    anchorElRef: anchorRef,
    onClose: closeMenu,
    autoclose: true
  }, isMobile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_8__["ActionMenuItem"], {
    onClick: onEmptyTrash,
    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_9__["default"], {
      icon: "trash",
      color: "var(--pomegranate)"
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "u-pomegranate"
  }, t('toolbar.empty_trash'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("hr", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_drive_Toolbar_selectable_SelectableItem__WEBPACK_IMPORTED_MODULE_17__["default"], null)));
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    "data-test-id": "empty-trash",
    className: drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_16___default.a['fil-toolbar-trash'],
    role: "toolbar"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_7__["default"], {
    theme: "danger-outline",
    className: "u-hide--mob",
    onClick: onEmptyTrash,
    disabled: disabled || selectionModeActive,
    icon: "trash",
    label: t('toolbar.empty_trash')
  }), isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(BarRight, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_BarContextProvider__WEBPACK_IMPORTED_MODULE_10__["default"], {
    client: client,
    t: t,
    store: client.store
  }, MoreMenu)) : MoreMenu);
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    selectionModeActive: Object(drive_web_modules_selection_duck__WEBPACK_IMPORTED_MODULE_15__["isSelectionBarVisible"])(state)
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_2__["compose"])(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["translate"])(), Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_6__["default"])(), Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps, null))(Toolbar));

/***/ }),

/***/ "rR5K":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("x76H");
/* harmony import */ var drive_web_modules_filelist_FileListHeader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("vehq");
/* harmony import */ var drive_web_modules_filelist_MobileFileListHeader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a/S8");
/* harmony import */ var drive_web_modules_filelist_FileListBody__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("NirP");







var Explorer = function Explorer(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileList__WEBPACK_IMPORTED_MODULE_2__["FileList"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_MobileFileListHeader__WEBPACK_IMPORTED_MODULE_4__["default"], {
    folderId: null,
    canSort: false
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileListHeader__WEBPACK_IMPORTED_MODULE_3__["default"], {
    folderId: null,
    canSort: false
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_FileListBody__WEBPACK_IMPORTED_MODULE_5__["ConnectedFileListBody"], {
    selectionModeActive: false
  }, children));
};

Explorer.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node
};
/* harmony default export */ __webpack_exports__["default"] = (Explorer);

/***/ }),

/***/ "rS01":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("buk/");
/* harmony import */ var drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("MFii");
/* harmony import */ var drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("MM/P");
/* harmony import */ var drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_8__);










var DestroyConfirm = function DestroyConfirm(_ref) {
  var t = _ref.t,
      files = _ref.files,
      onClose = _ref.onClose;
  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useClient"])();
  var confirmationTexts = ['forbidden', 'restore'].map(function (type) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_8___default.a['fil-confirm-text'], drive_styles_confirms_styl__WEBPACK_IMPORTED_MODULE_8___default.a["icon-".concat(type)]),
      key: "key_destroy_".concat(type)
    }, t("destroyconfirmation.".concat(type), files.length));
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    title: t('destroyconfirmation.title', files.length),
    description: confirmationTexts,
    secondaryType: "secondary",
    secondaryText: t('destroyconfirmation.cancel'),
    secondaryAction: onClose,
    primaryType: "danger",
    primaryText: t('destroyconfirmation.delete'),
    primaryAction: /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _context.next = 3;
              return Object(drive_web_modules_actions_utils__WEBPACK_IMPORTED_MODULE_7__["deleteFilesPermanently"])(client, files);

            case 3:
              _context.next = 7;
              break;

            case 5:
              _context.prev = 5;
              _context.t0 = _context["catch"](0);

            case 7:
              _context.prev = 7;
              onClose();
              return _context.finish(7);

            case 10:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 5, 7, 10]]);
    }))
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_6__["translate"])()(DestroyConfirm));

/***/ }),

/***/ "rVp8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("67rm");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("iTW1");
/* harmony import */ var drive_web_modules_views_Folder_generateShortcutUrl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("w0IM");








var createFileOpeningHandler = function createFileOpeningHandler(_ref) {
  var client = _ref.client,
      isFlatDomain = _ref.isFlatDomain,
      dispatch = _ref.dispatch,
      navigateToFile = _ref.navigateToFile,
      replaceCurrentUrl = _ref.replaceCurrentUrl,
      openInNewTab = _ref.openInNewTab;
  return /*#__PURE__*/function () {
    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(file, availableOffline) {
      var isNote, isShortcut, resp, url;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (!availableOffline) {
                _context.next = 2;
                break;
              }

              return _context.abrupt("return", dispatch(Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_5__["openLocalFile"])(file)));

            case 2:
              isNote = cozy_client__WEBPACK_IMPORTED_MODULE_2__["models"].file.isNote(file);
              isShortcut = cozy_client__WEBPACK_IMPORTED_MODULE_2__["models"].file.isShortcut(file);

              if (!isShortcut) {
                _context.next = 22;
                break;
              }

              if (!Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_4__["isMobileApp"])()) {
                _context.next = 18;
                break;
              }

              _context.prev = 6;
              _context.next = 9;
              return client.query(Object(cozy_client__WEBPACK_IMPORTED_MODULE_2__["Q"])('io.cozy.files.shortcuts').getById(file.id));

            case 9:
              resp = _context.sent;
              replaceCurrentUrl(resp.data.attributes.url);
              _context.next = 16;
              break;

            case 13:
              _context.prev = 13;
              _context.t0 = _context["catch"](6);
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error('alert.could_not_open_file');

            case 16:
              _context.next = 20;
              break;

            case 18:
              url = Object(drive_web_modules_views_Folder_generateShortcutUrl__WEBPACK_IMPORTED_MODULE_6__["default"])({
                file: file,
                client: client,
                isFlatDomain: isFlatDomain
              });
              openInNewTab(url);

            case 20:
              _context.next = 37;
              break;

            case 22:
              if (!isNote) {
                _context.next = 36;
                break;
              }

              _context.prev = 23;
              _context.t1 = replaceCurrentUrl;
              _context.next = 27;
              return cozy_client__WEBPACK_IMPORTED_MODULE_2__["models"].note.fetchURL(client, file);

            case 27:
              _context.t2 = _context.sent;
              (0, _context.t1)(_context.t2);
              _context.next = 34;
              break;

            case 31:
              _context.prev = 31;
              _context.t3 = _context["catch"](23);
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_3__["default"].error('alert.offline');

            case 34:
              _context.next = 37;
              break;

            case 36:
              navigateToFile(file);

            case 37:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[6, 13], [23, 31]]);
    }));

    return function (_x, _x2) {
      return _ref2.apply(this, arguments);
    };
  }();
};

/* harmony default export */ __webpack_exports__["default"] = (createFileOpeningHandler);

/***/ }),

/***/ "s4+x":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MenuItem; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);








function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }



var MenuItem = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(MenuItem, _Component);

  var _super = _createSuper(MenuItem);

  function MenuItem() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, MenuItem);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), "onClick", function (e) {
      // we need to stop propagation here so that the menu doesn't close itself
      e.stopPropagation();

      if (_this.props.onClick) {
        _this.props.onClick();
      }
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(MenuItem, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          className = _this$props.className,
          children = _this$props.children;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("a", {
        className: className,
        onClick: this.onClick
      }, children));
    }
  }]);

  return MenuItem;
}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);



/***/ }),

/***/ "siNt":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"HistoryRowRevisionLoader":"HistoryRowRevisionLoader--7OrjN"};

/***/ }),

/***/ "sjVh":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("67rm");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("buk/");
/* harmony import */ var _lib_withPersistentState__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("PC2r");
/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("Ow0/");
/* harmony import */ var _components_FeedbackForm__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("Fnja");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("rH+U");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_20__);












function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }











var SCREEN_ENJOY = 'SCREEN_ENJOY';
var SCREEN_FEEDBACK = 'SCREEN_FEEDBACK';
var BUTTON_INDEX_RATE = 1;
var BUTTON_INDEX_LATER = 2;
var PROMPT_AFTER_BOOTS = 10;
var PROMPT_AFTER_DAYS = 7; // RatingModal is the base component

var RatingModal = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(RatingModal, _Component);

  var _super = _createSuper(RatingModal);

  function RatingModal() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, RatingModal);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "state", {
      screen: SCREEN_ENJOY
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onUserReply", /*#__PURE__*/function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(enjoyed) {
        var t, buttonIndex;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!enjoyed) {
                  _context.next = 15;
                  break;
                }

                _context.prev = 1;
                t = _this.props.t;
                _context.next = 5;
                return promptRating({
                  title: t('mobile.rating.rate.title'),
                  message: '',
                  yes: t('mobile.rating.rate.yes'),
                  no: t('mobile.rating.rate.no'),
                  later: t('mobile.rating.rate.later'),
                  appMarketID: _lib_constants__WEBPACK_IMPORTED_MODULE_18__["APP_MARKET_ID"],
                  appStoreID: _lib_constants__WEBPACK_IMPORTED_MODULE_18__["APP_STORE_ID"],
                  softwareName: _lib_constants__WEBPACK_IMPORTED_MODULE_18__["SOFTWARE_NAME"]
                });

              case 5:
                buttonIndex = _context.sent;

                if (buttonIndex === BUTTON_INDEX_LATER) {
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].info('mobile.rating.alert.later');

                  _this.props.showLater();
                } else if (buttonIndex === BUTTON_INDEX_RATE) {
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].info('mobile.rating.alert.rated');

                  _this.props.dontShowAgain();
                } else {
                  cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].info('mobile.rating.alert.declined');

                  _this.props.dontShowAgain();
                }

                _context.next = 13;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](1);

                _this.props.dontShowAgain();

                throw _context.t0;

              case 13:
                _context.next = 16;
                break;

              case 15:
                _this.setState({
                  screen: SCREEN_FEEDBACK
                });

              case 16:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[1, 9]]);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }());

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), "onCloseFeedback", function (gaveFeedback) {
      if (gaveFeedback) cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].info('mobile.rating.alert.feedback');

      _this.props.dontShowAgain();
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(RatingModal, [{
    key: "render",
    value: function render() {
      var t = this.props.t;
      return this.state.screen === SCREEN_ENJOY ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(EnjoyCozy, {
        onReply: this.onUserReply,
        t: t
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components_FeedbackForm__WEBPACK_IMPORTED_MODULE_19__["default"], {
        onClose: this.onCloseFeedback,
        t: t
      });
    }
  }]);

  return RatingModal;
}(react__WEBPACK_IMPORTED_MODULE_11__["Component"]);

RatingModal.propTypes = {
  dontShowAgain: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  showLater: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired
}; // sub-components

var EnjoyCozy = function EnjoyCozy(props) {
  var onReply = props.onReply,
      t = props.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_13__["default"], {
    title: t('mobile.rating.enjoy.title'),
    withCross: false
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_13__["ModalContent"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_20___default.a['button-block']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
    theme: 'secondary',
    onClick: function onClick() {
      return onReply(false);
    },
    label: t('mobile.rating.enjoy.no')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
    onClick: function onClick() {
      return onReply(true);
    },
    label: t('mobile.rating.enjoy.yes')
  }))));
};

EnjoyCozy.propTypes = {
  onReply: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired
}; // promptRating is not a component because the native UI is used instead

var promptRating = /*#__PURE__*/function () {
  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(_ref2) {
    var title, message, yes, no, later, softwareName, appMarketID, appStoreID;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            title = _ref2.title, message = _ref2.message, yes = _ref2.yes, no = _ref2.no, later = _ref2.later, softwareName = _ref2.softwareName, appMarketID = _ref2.appMarketID, appStoreID = _ref2.appStoreID;
            return _context2.abrupt("return", new Promise(function (resolve, reject) {
              if (!window.AppRate) reject(new Error('No AppRate found'));

              try {
                window.AppRate.preferences = {
                  displayAppName: softwareName,
                  inAppReview: true,
                  storeAppURL: {
                    ios: appStoreID,
                    android: appMarketID
                  },
                  customLocale: {
                    title: title,
                    message: message,
                    cancelButtonLabel: no,
                    laterButtonLabel: later,
                    rateButtonLabel: yes,
                    yesButtonLabel: yes,
                    noButtonLabel: no
                  },
                  callbacks: {
                    onButtonClicked: resolve
                  }
                };
                window.AppRate.promptForRating();
              } catch (e) {
                reject(e);
              }
            }));

          case 2:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function promptRating(_x2) {
    return _ref3.apply(this, arguments);
  };
}(); // Enhance the base component with HOCs


var withBootDelay = function withBootDelay(WrappedComponent, showAfterBoots) {
  // we want to increment the count once per application boot, *not* per mount/constructor/etc
  var hasIncrementedBootCount = false;

  var WithBootDelay = /*#__PURE__*/function (_Component2) {
    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(WithBootDelay, _Component2);

    var _super2 = _createSuper(WithBootDelay);

    function WithBootDelay() {
      var _this2;

      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this, WithBootDelay);

      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      _this2 = _super2.call.apply(_super2, [this].concat(args));

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this2), "state", {
        bootCount: 0,
        promptAfter: new Date().getTime() + PROMPT_AFTER_DAYS * 24 * 60 * 60 * 1000,
        prompted: false
      });

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this2), "dontShowAgain", function () {
        _this2.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
            prompted: true
          });
        });
      });

      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this2), "showLater", function () {
        _this2.setState(function (state) {
          return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
            bootCount: 0,
            prompted: false
          });
        });
      });

      return _this2;
    }

    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(WithBootDelay, [{
      key: "componentStateRestored",
      value: function componentStateRestored() {
        if (hasIncrementedBootCount) return;
        this.setState(function (prevState) {
          return {
            bootCount: ++prevState.bootCount
          };
        });
        hasIncrementedBootCount = true;
      }
    }, {
      key: "render",
      value: function render() {
        var _this$state = this.state,
            bootCount = _this$state.bootCount,
            promptAfter = _this$state.promptAfter,
            prompted = _this$state.prompted;
        var timeRemainingBeforePrompt = promptAfter - new Date().getTime();
        var visible = prompted === false && bootCount >= showAfterBoots && timeRemainingBeforePrompt <= 0;
        return visible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(WrappedComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
          dontShowAgain: this.dontShowAgain,
          showLater: this.showLater
        }, this.props));
      }
    }]);

    return WithBootDelay;
  }(react__WEBPACK_IMPORTED_MODULE_11__["Component"]);

  WithBootDelay.displayName = "WithBootDelay(".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', ")");
  return WithBootDelay;
};

var DelayedRatingModal = withBootDelay(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_16__["translate"])()(RatingModal), PROMPT_AFTER_BOOTS);
var PersistentRatingModal = Object(_lib_withPersistentState__WEBPACK_IMPORTED_MODULE_17__["default"])(DelayedRatingModal, 'DelayedRatingModal');
/* harmony default export */ __webpack_exports__["default"] = (PersistentRatingModal);

/***/ }),

/***/ "swni":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"u-visuallyhidden":"u-visuallyhidden--1L4hk","dri-btn--more":"dri-btn--more--MNdqs","bar-homelink":"bar-homelink--2j0WN"};

/***/ }),

/***/ "tFpY":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildPremiumLink", function() { return buildPremiumLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("cLsY");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("buk/");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _withInstance__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("GNTO");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_6__);







var buildPremiumLink = function buildPremiumLink(uuid, managerUrl) {
  return "".concat(managerUrl, "/cozy/instances/").concat(uuid, "/premium");
};

var QuotaAlert = function QuotaAlert(_ref) {
  var t = _ref.t,
      onClose = _ref.onClose,
      client = _ref.client;
  var uuid, managerUrl;
  /**
   * We do the request only on the web since Apple
   * and Google have a retriscted policy for the
   * inApp purchase...
   */

  if (!Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_6__["isMobileApp"])()) {
    var instanceInfo = Object(_withInstance__WEBPACK_IMPORTED_MODULE_5__["default"])(client);
    uuid = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(instanceInfo, 'instance.data.attributes.uuid');
    managerUrl = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(instanceInfo, 'context.data.attributes.manager_url');
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Modal__WEBPACK_IMPORTED_MODULE_2__["default"], {
    title: t('quotaalert.title'),
    description: t('quotaalert.desc'),
    secondaryText: t('quotaalert.confirm'),
    secondaryAction: onClose,
    primaryText: uuid && managerUrl ? t('quotaalert.increase') : undefined,
    primaryAction: function primaryAction() {
      return uuid && managerUrl ? window.open(buildPremiumLink(uuid, managerUrl), 'self') : onClose;
    },
    dismissAction: onClose
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["withClient"])(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__["translate"])()(QuotaAlert)));

/***/ }),

/***/ "tLSP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("qPyV");
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_web_modules_layout_Topbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("J3YJ");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_Breadcrumb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("bVTo");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_PreviousButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("aOxM");
/* harmony import */ var drive_constants_config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Z7XG");










var getBreadcrumbPath = function getBreadcrumbPath(t, displayedFolder) {
  return lodash_uniqBy__WEBPACK_IMPORTED_MODULE_3___default()([{
    id: drive_constants_config__WEBPACK_IMPORTED_MODULE_8__["ROOT_DIR_ID"]
  }, {
    id: lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(displayedFolder, 'dir_id')
  }, {
    id: displayedFolder.id,
    name: displayedFolder.name
  }], 'id').filter(function (_ref) {
    var id = _ref.id;
    return Boolean(id);
  }).map(function (breadcrumb) {
    return {
      id: breadcrumb.id,
      name: breadcrumb.name || (breadcrumb.id === drive_constants_config__WEBPACK_IMPORTED_MODULE_8__["ROOT_DIR_ID"] ? t('breadcrumb.title_drive') : '…')
    };
  });
};

var MoveTopbar = function MoveTopbar(_ref2, _ref3) {
  var navigateTo = _ref2.navigateTo,
      currentDir = _ref2.currentDir,
      fetchStatus = _ref2.fetchStatus,
      isMobile = _ref2.breakpoints.isMobile;
  var t = _ref3.t;
  var path = fetchStatus === 'loaded' ? getBreadcrumbPath(t, currentDir) : [];
  var showPreviousButton = path.length > 1 && isMobile;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_layout_Topbar__WEBPACK_IMPORTED_MODULE_4__["default"], {
    hideOnMobile: false
  }, showPreviousButton && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Breadcrumb_PreviousButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
    onClick: function onClick() {
      return navigateTo(path[path.length - 2]);
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Breadcrumb_Breadcrumb__WEBPACK_IMPORTED_MODULE_6__["default"], {
    path: path,
    onBreadcrumbClick: navigateTo,
    opening: false,
    inlined: true
  }));
};

MoveTopbar.propTypes = {
  navigateTo: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  currentDir: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  fetchStatus: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  breakpoints: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    isMobile: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
  }).isRequired
};
MoveTopbar.contextTypes = {
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_5__["withBreakpoints"])()(MoveTopbar));

/***/ }),

/***/ "tZXr":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_web_modules_upload_UploadButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ZorK");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("z+SL");
/* harmony import */ var drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("fvjX");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("fD9B");








var UploadButtonItem = function UploadButtonItem(_ref) {
  var t = _ref.t,
      displayedFolder = _ref.displayedFolder,
      isDisabled = _ref.isDisabled;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_upload_UploadButton__WEBPACK_IMPORTED_MODULE_2__["default"], {
    disabled: isDisabled,
    displayedFolder: displayedFolder,
    label: t('toolbar.item_upload'),
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_toolbar_styl__WEBPACK_IMPORTED_MODULE_4___default.a['c-btn'], 'u-hide--mob')
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_5__["compose"])(_toolbar__WEBPACK_IMPORTED_MODULE_6__["default"], Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_3__["translate"])())(UploadButtonItem));

/***/ }),

/***/ "tq61":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("XXXr");
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("T//5");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("gb4X");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("yEaX");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("WMvU");











var FilesViewerWithQuery = function FilesViewerWithQuery(props) {
  var currentFolderId = props.currentFolderId;

  var _useFolderSort = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_7__["useFolderSort"])(currentFolderId),
      _useFolderSort2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useFolderSort, 1),
      sortOrder = _useFolderSort2[0];

  var fileQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_5__["buildTrashQueryFolder"])({
    currentFolderId: currentFolderId,
    type: 'file',
    sortAttribute: sortOrder.attribute,
    sortOrder: sortOrder.order
  });
  var filesResult = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(fileQuery.definition, fileQuery.options);

  var _useRouter = Object(drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_4__["useRouter"])(),
      router = _useRouter.router;

  if (filesResult.data) {
    var viewableFiles = filesResult.data;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_9__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      files: viewableFiles,
      filesQuery: filesResult,
      onClose: function onClose() {
        return router.push({
          pathname: "/trash/".concat(props.currentFolderId)
        });
      },
      onChange: function onChange(fileId) {
        return router.push({
          pathname: "trash/".concat(props.currentFolderId, "/file/").concat(fileId)
        });
      }
    }));
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_9__["FilesViewerLoading"], null);
  }
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    fileId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_6__["getCurrentFileId"])(state),
    currentFolderId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_6__["getCurrentFolderId"])(state)
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps)(FilesViewerWithQuery));

/***/ }),

/***/ "tqYW":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./en": "koyB",
	"./en.json": "koyB"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "tqYW";

/***/ }),

/***/ "trYA":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DumbUploadQueue", function() { return DumbUploadQueue; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react_UploadQueue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("dMQz");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("QQky");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("2U19");







var DumbUploadQueue = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])()(function (props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_UploadQueue__WEBPACK_IMPORTED_MODULE_3__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    popover: true,
    getMimeTypeIcon: drive_lib_getMimeTypeIcon__WEBPACK_IMPORTED_MODULE_5__["default"],
    app: "Cozy Drive"
  }, props));
});

var mapStateToProps = function mapStateToProps(state) {
  return {
    queue: Object(___WEBPACK_IMPORTED_MODULE_6__["getUploadQueue"])(state),
    doneCount: Object(___WEBPACK_IMPORTED_MODULE_6__["getProcessed"])(state).length,
    successCount: Object(___WEBPACK_IMPORTED_MODULE_6__["getSuccessful"])(state).length
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    purgeQueue: function purgeQueue() {
      return dispatch(Object(___WEBPACK_IMPORTED_MODULE_6__["purgeUploadQueue"])());
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps, mapDispatchToProps)(DumbUploadQueue));

/***/ }),

/***/ "uJaJ":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("pVnL");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("T//5");
/* harmony import */ var drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("yEaX");
/* harmony import */ var drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("XXXr");
/* harmony import */ var drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("gb4X");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("/MKj");
/* harmony import */ var drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("WMvU");
/* harmony import */ var drive_web_modules_routeUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("VcLO");












var FilesViewerWithQuery = function FilesViewerWithQuery(props) {
  var _useRouter = Object(drive_lib_RouterContext__WEBPACK_IMPORTED_MODULE_6__["useRouter"])(),
      router = _useRouter.router;

  var _useFolderSort = Object(drive_web_modules_navigation_duck__WEBPACK_IMPORTED_MODULE_5__["useFolderSort"])(),
      _useFolderSort2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useFolderSort, 1),
      sortOrder = _useFolderSort2[0];

  var buildedFilesQuery = Object(drive_web_modules_queries__WEBPACK_IMPORTED_MODULE_4__["buildDriveQuery"])({
    currentFolderId: props.folderId,
    type: 'file',
    sortAttribute: sortOrder.attribute,
    sortOrder: sortOrder.order
  });
  var filesQuery = Object(cozy_client__WEBPACK_IMPORTED_MODULE_3__["useQuery"])(buildedFilesQuery.definition, buildedFilesQuery.options);

  if (filesQuery.data) {
    var viewableFiles = filesQuery.data;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_9__["default"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
      files: viewableFiles,
      filesQuery: filesQuery,
      onClose: function onClose() {
        return router.push({
          pathname: Object(drive_web_modules_routeUtils__WEBPACK_IMPORTED_MODULE_10__["getFolderPath"])(props.folderId)
        });
      },
      onChange: function onChange(fileId) {
        return router.push({
          pathname: Object(drive_web_modules_routeUtils__WEBPACK_IMPORTED_MODULE_10__["getFolderPath"])(props.folderId) + '/file/' + fileId
        });
      }
    }));
  } else {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(drive_web_modules_viewer_FilesViewer__WEBPACK_IMPORTED_MODULE_9__["FilesViewerLoading"], null);
  }
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    folderId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_7__["getCurrentFolderId"])(state),
    fileId: Object(drive_web_modules_selectors__WEBPACK_IMPORTED_MODULE_7__["getCurrentFileId"])(state)
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(mapStateToProps)(FilesViewerWithQuery));

/***/ }),

/***/ "udIP":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileOpener", function() { return FileOpener; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("dtw8");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_viewer_barviewer_styl__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("xmtF");
/* harmony import */ var drive_web_modules_viewer_barviewer_styl__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(drive_web_modules_viewer_barviewer_styl__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var drive_web_modules_viewer_Fallback__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("wKlF");











function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/* global cozy */

/**
 * This component was previously named FileOpener
 * It has been renamed since it is used in :
 *  - an intent handler (aka service)
 *  - via cozydrive://
 */









var doNothing = function doNothing() {};

var FileNotFoundError = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_14__["translate"])()(function (_ref) {
  var t = _ref.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("pre", {
    className: "u-error"
  }, t('FileOpenerExternal.fileNotFoundError'));
});
var FileOpener = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(FileOpener, _Component);

  var _super = _createSuper(FileOpener);

  function FileOpener() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, FileOpener);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", {
      loading: true,
      file: null
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "navigateToDrive", function () {
      var parentDir = lodash_get__WEBPACK_IMPORTED_MODULE_13___default()(_this.state, 'file.dir_id', '');

      _this.props.router.push("/folder/".concat(parentDir));
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(FileOpener, [{
    key: "componentWillMount",
    value: function componentWillMount() {
      var routerFileId = lodash_get__WEBPACK_IMPORTED_MODULE_13___default()(this.props, 'routeParams.fileId');

      if (this.props.fileId) {
        this.loadFileInfo(this.props.fileId);
      } else if (routerFileId) {
        this.loadFileInfo(routerFileId);
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.fileId !== this.props.fileId) {
        return this.loadFileInfo(this.props.fileId);
      }

      var previousRouterFileId = lodash_get__WEBPACK_IMPORTED_MODULE_13___default()(prevProps, 'routeParams.fileId');
      var routerFileId = lodash_get__WEBPACK_IMPORTED_MODULE_13___default()(this.props, 'routeParams.fileId');

      if (previousRouterFileId !== routerFileId) {
        return this.loadFileInfo(routerFileId);
      }
    }
  }, {
    key: "loadFileInfo",
    value: function () {
      var _loadFileInfo = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(id) {
        var resp, file;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                this.setState({
                  fileNotFound: false
                });
                _context.next = 4;
                return cozy.client.files.statById(id, false);

              case 4:
                resp = _context.sent;
                file = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, resp, resp.attributes, {
                  id: resp._id
                });
                this.setState({
                  file: file,
                  loading: false
                });
                _context.next = 13;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](0);
                this.setState({
                  fileNotFound: true,
                  loading: false
                });
                cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_14__["Alerter"].error('alert.could_not_open_file');

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 9]]);
      }));

      function loadFileInfo(_x) {
        return _loadFileInfo.apply(this, arguments);
      }

      return loadFileInfo;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          file = _this$state.file,
          loading = _this$state.loading,
          fileNotFound = _this$state.fileNotFound;
      var _this$props = this.props,
          _this$props$withClose = _this$props.withCloseButtton,
          withCloseButtton = _this$props$withClose === void 0 ? true : _this$props$withClose,
          t = _this$props.t;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div", {
        className: drive_web_modules_viewer_barviewer_styl__WEBPACK_IMPORTED_MODULE_15___default.a['viewer-wrapper-with-bar']
      }, loading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_14__["Spinner"], {
        size: "xxlarge",
        loadingType: "message",
        middle: true
      }), fileNotFound && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(FileNotFoundError, null), !loading && !fileNotFound && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_14__["Viewer"], {
        files: [file],
        currentIndex: 0,
        onChangeRequest: doNothing,
        onCloseRequest: withCloseButtton ? this.navigateToDrive : null,
        renderFallbackExtraContent: function renderFallbackExtraContent(file) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(drive_web_modules_viewer_Fallback__WEBPACK_IMPORTED_MODULE_16__["default"], {
            file: file,
            t: t
          });
        }
      }));
    }
  }]);

  return FileOpener;
}(react__WEBPACK_IMPORTED_MODULE_10__["Component"]);
FileOpener.propTypes = {
  router: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.shape({
    push: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
    params: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.shape({
      fileId: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string.isRequired
    }).isRequired
  }),
  routeParams: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.shape({
    fileId: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string
  }),
  fileId: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string,
  withCloseButtton: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_14__["translate"])()(Object(react_router__WEBPACK_IMPORTED_MODULE_12__["withRouter"])(FileOpener)));

/***/ }),

/***/ "unzg":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("XA+M");
/* harmony import */ var drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0__);

var appMetadata = {
  slug: drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0___default.a.slug,
  version: drive_targets_manifest_webapp__WEBPACK_IMPORTED_MODULE_0___default.a.version
};
/* harmony default export */ __webpack_exports__["default"] = (appMetadata);

/***/ }),

/***/ "uty3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MobileBreadcrumb", function() { return MobileBreadcrumb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MobileAwareBreadcrumb", function() { return MobileAwareBreadcrumb; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_Breadcrumb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("bVTo");
/* harmony import */ var drive_web_modules_navigation_Breadcrumb_PreviousButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("aOxM");
/* global cozy */




var MobileBreadcrumb = function MobileBreadcrumb(props) {
  var _cozy$bar = cozy.bar,
      BarCenter = _cozy$bar.BarCenter,
      BarLeft = _cozy$bar.BarLeft;
  var onBreadcrumbClick = props.onBreadcrumbClick,
      path = props.path;
  var navigateBack = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    var parentFolder = path[path.length - 2];
    onBreadcrumbClick(parentFolder);
  }, [onBreadcrumbClick, path]);
  return props.breakpoints.isMobile ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, props.path.length >= 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BarLeft, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Breadcrumb_PreviousButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onClick: navigateBack
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(BarCenter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Breadcrumb_Breadcrumb__WEBPACK_IMPORTED_MODULE_2__["default"], props))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_navigation_Breadcrumb_Breadcrumb__WEBPACK_IMPORTED_MODULE_2__["default"], props);
};
var MobileAwareBreadcrumb = Object(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_1__["withBreakpoints"])()(MobileBreadcrumb);

/***/ }),

/***/ "vEXA":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);





var withDiskUsage = function withDiskUsage(client) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
      diskusage = _useState2[0],
      setDiskusage = _useState2[1];

  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(function () {
    var fetchData = /*#__PURE__*/function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var diskusageResult;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return client.getStackClient().fetchJSON('GET', '/settings/disk-usage');

              case 3:
                diskusageResult = _context.sent;
                setDiskusage(diskusageResult);
                _context.next = 9;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context["catch"](0);

              case 9:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[0, 7]]);
      }));

      return function fetchData() {
        return _ref.apply(this, arguments);
      };
    }();

    fetchData();
  }, []);
  return diskusage;
};

/* harmony default export */ __webpack_exports__["default"] = (withDiskUsage);

/***/ }),

/***/ "vX5W":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Bh3+");
/* harmony import */ var components_pushClient_Banner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("f/Nf");
/* harmony import */ var drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("8IyR");
/* harmony import */ var drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6__);


/* global __TARGET__ */







var Main = function Main(_ref) {
  var children = _ref.children,
      _ref$working = _ref.working,
      working = _ref$working === void 0 ? false : _ref$working,
      _ref$isPublic = _ref.isPublic,
      isPublic = _ref$isPublic === void 0 ? false : _ref$isPublic;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Layout__WEBPACK_IMPORTED_MODULE_4__["Main"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6___default.a['fil-content'], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, drive_styles_main_styl__WEBPACK_IMPORTED_MODULE_6___default.a['--working'], working))
  },  true && !isPublic && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(components_pushClient_Banner__WEBPACK_IMPORTED_MODULE_5__["default"], null), children);
};

Main.propTypes = {
  isPublic: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  working: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  children: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array
};
/* harmony default export */ __webpack_exports__["default"] = (Main);

/***/ }),

/***/ "vehq":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("y6ex");
/* harmony import */ var drive_assets_icons_icon_list_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("AnwN");
/* harmony import */ var drive_assets_icons_icon_list_min_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("Fczp");
/* harmony import */ var _HeaderCell__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("87BZ");
/* harmony import */ var drive_config_sort__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("6IK3");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9__);











var FileListHeader = function FileListHeader(_ref) {
  var folderId = _ref.folderId,
      canSort = _ref.canSort,
      sort = _ref.sort,
      onFolderSort = _ref.onFolderSort,
      thumbnailSizeBig = _ref.thumbnailSizeBig,
      toggleThumbnailSize = _ref.toggleThumbnailSize;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_2__["useI18n"])(),
      t = _useI18n.t;

  var actualSort = sort || drive_config_sort__WEBPACK_IMPORTED_MODULE_8__["DEFAULT_SORT"];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-head'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-row-head'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-file-select'])
  }), drive_config_sort__WEBPACK_IMPORTED_MODULE_8__["SORTABLE_ATTRIBUTES"].map(function (_ref2, index) {
    var label = _ref2.label,
        attr = _ref2.attr,
        css = _ref2.css,
        defaultOrder = _ref2.defaultOrder;

    if (!canSort) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HeaderCell__WEBPACK_IMPORTED_MODULE_7__["default"], {
        key: index,
        label: label,
        css: css
      });
    }

    var isActive = actualSort && actualSort.attribute === attr;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HeaderCell__WEBPACK_IMPORTED_MODULE_7__["default"], {
      key: "key_cell_".concat(index),
      label: label,
      attr: attr,
      css: css,
      defaultOrder: defaultOrder,
      order: isActive ? actualSort.order : null,
      onSort: function onSort(attr, order) {
        return onFolderSort(folderId, attr, order);
      }
    });
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-size'])
  }, t('table.head_size')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header-status'])
  }, t('table.head_status')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_9___default.a['fil-content-header-action'])
  }, canSort && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    theme: 'action',
    onClick: function onClick() {
      toggleThumbnailSize();
    },
    label: t('table.head_thumbnail_size'),
    extension: "narrow",
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], {
      icon: thumbnailSizeBig ? drive_assets_icons_icon_list_min_svg__WEBPACK_IMPORTED_MODULE_6__["default"] : drive_assets_icons_icon_list_svg__WEBPACK_IMPORTED_MODULE_5__["default"],
      size: 17,
      label: t('table.head_thumbnail_size')
    }),
    iconOnly: true
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (FileListHeader);

/***/ }),

/***/ "w0IM":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_0__);


var generateShortcutUrl = function generateShortcutUrl(_ref) {
  var file = _ref.file,
      client = _ref.client,
      isFlatDomain = _ref.isFlatDomain;
  var currentURL = new URL(window.location);
  var webLink = '';

  if (currentURL.pathname === '/public') {
    webLink = Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["generateWebLink"])({
      cozyUrl: client.getStackClient().uri,
      pathname: '/public',
      slug: 'drive',
      hash: "external/".concat(file.id),
      searchParams: currentURL.searchParams,
      subDomainType: isFlatDomain ? 'flat' : 'nested'
    });
  } else {
    webLink = Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__["generateWebLink"])({
      cozyUrl: client.getStackClient().uri,
      pathname: '/',
      slug: 'drive',
      hash: "external/".concat(file.id),
      subDomainType: isFlatDomain ? 'flat' : 'nested'
    });
  }

  return webLink;
};

/* harmony default export */ __webpack_exports__["default"] = (generateShortcutUrl);

/***/ }),

/***/ "w0Z6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-folder_f49493c812ab389aaac1e61434f7995f",
  "use": "icon-type-folder_f49493c812ab389aaac1e61434f7995f-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-folder_f49493c812ab389aaac1e61434f7995f\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(0 2)\">\n    <rect width=\"32\" height=\"26\" y=\"2\" fill=\"#B2D3FF\" rx=\"2\" />\n    <path fill=\"#197BFF\" d=\"M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "w2zn":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var drive_web_modules_filelist_File__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("d9dq");




var isValidMoveTarget = function isValidMoveTarget(subjects, target) {
  var isASubject = subjects.find(function (subject) {
    return subject._id === target._id;
  });
  var isAFile = target.type === 'file';
  return isAFile || isASubject;
};

var FileList = function FileList(_ref) {
  var targets = _ref.targets,
      files = _ref.files,
      navigateTo = _ref.navigateTo;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, files.map(function (file) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(drive_web_modules_filelist_File__WEBPACK_IMPORTED_MODULE_2__["DumbFile"], {
      key: file.id,
      disabled: isValidMoveTarget(targets, file),
      attributes: file,
      displayedFolder: null,
      actions: null,
      isRenaming: false,
      onFolderOpen: function onFolderOpen(id) {
        return navigateTo(files.find(function (f) {
          return f.id === id;
        }));
      },
      onFileOpen: null,
      withSelectionCheckbox: false,
      withFilePath: false,
      withSharedBadge: true
    });
  }));
};

FileList.propTypes = {
  targets: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  files: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  navigateTo: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (FileList);

/***/ }),

/***/ "wKlF":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _CallToAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("VL2R");
/* harmony import */ var _NoViewerButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("x8J/");





var Fallback = function Fallback(_ref) {
  var file = _ref.file,
      t = _ref.t;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NoViewerButton__WEBPACK_IMPORTED_MODULE_3__["default"], {
    file: file,
    t: t
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_CallToAction__WEBPACK_IMPORTED_MODULE_2__["default"], {
    t: t
  }));
};

Fallback.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired // t is a prop passed by the parent and must not be received from the translate() HOC — otherwise the translation context becomes the one of the viewer instad of the app. See https://github.com/cozy/cozy-ui/issues/914#issuecomment-487959521

};
/* harmony default export */ __webpack_exports__["default"] = (Fallback);

/***/ }),

/***/ "wj43":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createReducer", function() { return createReducer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "connectStoreToHistory", function() { return connectStoreToHistory; });
/* harmony import */ var react_router_lib_PatternUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("LQBj");
/* harmony import */ var react_router_lib_PatternUtils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_router_lib_PatternUtils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("O7iK");
/* harmony import */ var lodash_fromPairs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_fromPairs__WEBPACK_IMPORTED_MODULE_1__);
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Tools to store part of the react-router state inside redux
 */


var LOCATION_CHANGED = 'HISTORY.LOCATION_CHANGED';
/**
 * Given all the parameterized route, returns a function that will return
 * all params from a location object.
 */

var createParamsExtractor = function createParamsExtractor(routes) {
  return function (location) {
    var pathname = location.pathname;

    var _iterator = _createForOfIteratorHelper(routes),
        _step;

    try {
      var _loop = function _loop() {
        var route = _step.value;
        var match = Object(react_router_lib_PatternUtils__WEBPACK_IMPORTED_MODULE_0__["matchPattern"])(route, pathname);
        if (match && match.remainingPathname === '') return {
          v: lodash_fromPairs__WEBPACK_IMPORTED_MODULE_1___default()(match.paramNames.map(function (paramName, index) {
            return [paramName, match.paramValues[index]];
          }))
        };
      };

      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var _ret = _loop();

        if (typeof _ret === "object") return _ret.v;
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }

    return {};
  };
};

var createReducer = function createReducer(options) {
  var extractParams = createParamsExtractor(options.routes);
  return function () {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

    if (action === null) {
      return state;
    } else if (action.type === LOCATION_CHANGED) {
      var params = extractParams(action.location);
      return {
        location: action.location,
        params: params
      };
    }

    return state;
  };
};

var locationChanged = function locationChanged(location, action) {
  return {
    type: LOCATION_CHANGED,
    location: location,
    action: action
  };
};

var connectStoreToHistory = function connectStoreToHistory(store, history) {
  store.dispatch(locationChanged(history.getCurrentLocation()));
  history.listen(function (location, action) {
    store.dispatch(locationChanged(location, action));
  });
};

/***/ }),

/***/ "wxig":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaBackup", function() { return MediaBackup; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("buk/");
/* harmony import */ var drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("NMd3");
/* harmony import */ var _duck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("cSBT");
/* harmony import */ var _SettingCategory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("YfLo");








var MediaBackup = function MediaBackup(_ref) {
  var t = _ref.t,
      backupImages = _ref.backupImages,
      setBackupImages = _ref.setBackupImages,
      wifiOnly = _ref.wifiOnly,
      setWifiOnly = _ref.setWifiOnly,
      toggleBackup = _ref.toggleBackup,
      mediaUploading = _ref.mediaUploading;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_SettingCategory__WEBPACK_IMPORTED_MODULE_7__["default"], {
    title: t('mobile.settings.media_backup.title'),
    elements: [{
      type: _SettingCategory__WEBPACK_IMPORTED_MODULE_7__["ELEMENT_CHECKBOX"],
      title: t('mobile.settings.media_backup.images.title'),
      label: t('mobile.settings.media_backup.images.label'),
      id: 'backup_images_checkbox',
      checked: backupImages,
      onChange: setBackupImages
    }, {
      type: _SettingCategory__WEBPACK_IMPORTED_MODULE_7__["ELEMENT_CHECKBOX"],
      title: t('mobile.settings.media_backup.wifi.title'),
      label: t('mobile.settings.media_backup.wifi.label'),
      id: 'backup_only_wifi_checkbox',
      checked: wifiOnly,
      onChange: setWifiOnly
    }, {
      type: _SettingCategory__WEBPACK_IMPORTED_MODULE_7__["ELEMENT_BUTTON"],
      text: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, !mediaUploading && t('mobile.settings.media_backup.launch'), mediaUploading && t('mobile.settings.media_backup.stop')),
      busy: mediaUploading,
      theme: 'regular',
      onClick: function onClick() {
        return toggleBackup(!mediaUploading);
      }
    }]
  });
};

var mapStateToProps = function mapStateToProps(state) {
  return {
    backupImages: Object(_duck__WEBPACK_IMPORTED_MODULE_6__["isImagesBackupOn"])(state),
    wifiOnly: Object(_duck__WEBPACK_IMPORTED_MODULE_6__["isWifiOnlyOn"])(state),
    mediaUploading: state.mobile.mediaBackup.uploading
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    setBackupImages: function setBackupImages(value) {
      if (value === false) {
        dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__["cancelMediaBackup"])());
        dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__["backupImages"])(false, true));
      } else {
        dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__["backupImages"])(value));
      }
    },
    setWifiOnly: function () {
      var _setWifiOnly2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(value) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return dispatch(Object(_duck__WEBPACK_IMPORTED_MODULE_6__["setWifiOnly"])(value));

              case 2:
                dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__["backupImages"])());

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      function setWifiOnly(_x) {
        return _setWifiOnly2.apply(this, arguments);
      }

      return setWifiOnly;
    }(),
    toggleBackup: function toggleBackup(launch) {
      if (launch) {
        dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__["startMediaBackup"])(true));
      } else {
        dispatch(Object(drive_mobile_modules_mediaBackup_duck__WEBPACK_IMPORTED_MODULE_5__["cancelMediaBackup"])());
      }
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps, mapDispatchToProps)(Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__["translate"])()(MediaBackup)));

/***/ }),

/***/ "x76H":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileList", function() { return FileList; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_1__);


var FileList = function FileList(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_1___default.a['fil-content-table'],
    role: "table"
  }, children);
};

/***/ }),

/***/ "x8J/":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("/MKj");
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("H+Xc");
/* harmony import */ var drive_lib_reporter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("qxHO");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("snfs");
/* harmony import */ var cozy_device_helper__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("iTW1");











function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }









var AsyncActionButton = /*#__PURE__*/function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(AsyncActionButton, _React$Component);

  var _super = _createSuper(AsyncActionButton);

  function AsyncActionButton() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, AsyncActionButton);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", {
      loading: false
    });

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "onClick", /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      var _this$props, onClick, onError;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$props = _this.props, onClick = _this$props.onClick, onError = _this$props.onError;

              _this.setState(function (state) {
                return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                  loading: true
                });
              });

              _context.prev = 2;
              _context.next = 5;
              return onClick();

            case 5:
              _context.next = 10;
              break;

            case 7:
              _context.prev = 7;
              _context.t0 = _context["catch"](2);
              onError(_context.t0);

            case 10:
              _this.setState(function (state) {
                return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                  loading: false
                });
              });

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[2, 7]]);
    })));

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(AsyncActionButton, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          label = _this$props2.label,
          className = _this$props2.className;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
        busy: this.state.loading,
        className: className,
        onClick: this.onClick,
        label: label
      });
    }
  }]);

  return AsyncActionButton;
}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);

var OpenWithCordovaButton = Object(react_redux__WEBPACK_IMPORTED_MODULE_12__["connect"])(null, function (dispatch, ownProps) {
  return {
    openLocalFileCopy: function openLocalFileCopy() {
      return dispatch(Object(drive_mobile_modules_offline_duck__WEBPACK_IMPORTED_MODULE_16__["openLocalFileCopy"])(ownProps.file));
    }
  };
})(function (_ref2) {
  var t = _ref2.t,
      openLocalFileCopy = _ref2.openLocalFileCopy;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(AsyncActionButton, {
    onClick: openLocalFileCopy,
    onError: function onError(error) {
      if (/^Activity not found/.test(error.message)) {
        cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Alerter"].error('Viewer.error.noapp', error);
      } else {
        Object(drive_lib_reporter__WEBPACK_IMPORTED_MODULE_14__["logException"])(error);
        cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Alerter"].error('Viewer.error.generic', error);
      }
    },
    label: t('Viewer.noviewer.openWith')
  });
});

var DownloadButton = function DownloadButton(_ref3, _ref4) {
  var t = _ref3.t,
      file = _ref3.file;
  var client = _ref4.client;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_13__["Button"], {
    onClick: function onClick() {
      return client.collection('io.cozy.files').download(file);
    },
    label: t('Viewer.noviewer.download')
  });
};

DownloadButton.contextTypes = {
  client: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.object.isRequired
};

var NoViewerButton = function NoViewerButton(_ref5) {
  var file = _ref5.file,
      t = _ref5.t;
  if (Object(cozy_device_helper__WEBPACK_IMPORTED_MODULE_15__["isMobileApp"])()) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(OpenWithCordovaButton, {
    t: t,
    file: file
  });else return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(DownloadButton, {
    t: t,
    file: file
  });
};

/* harmony default export */ __webpack_exports__["default"] = (NoViewerButton);

/***/ }),

/***/ "xNZN":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4BeY");
/* harmony import */ var svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("IaFt");
/* harmony import */ var svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1__);


var symbol = new svg_baker_runtime_browser_symbol__WEBPACK_IMPORTED_MODULE_0___default.a({
  "id": "icon-type-text_e665c2558003a9b72fa156bcef81b180",
  "use": "icon-type-text_e665c2558003a9b72fa156bcef81b180-usage",
  "viewBox": "0 0 32 32",
  "content": "<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" id=\"icon-type-text_e665c2558003a9b72fa156bcef81b180\">\n  <g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(3)\">\n    <path fill=\"#B2D3FF\" d=\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\" />\n    <path fill=\"#197BFF\" d=\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6 19L20 19 20 21 6 21 6 19zM6 23L16 23 16 25 6 25 6 23z\" />\n  </g>\n</symbol>"
});
var result = svg_sprite_loader_runtime_browser_sprite_build__WEBPACK_IMPORTED_MODULE_1___default.a.add(symbol);
/* harmony default export */ __webpack_exports__["default"] = (symbol);

/***/ }),

/***/ "xeLO":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("i8i4");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var popper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("8L3F");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Overlay__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("B9Y0");
/* harmony import */ var _MenuItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("s4+x");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("32XB");
/* harmony import */ var drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12__);






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }










var Menu = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(Menu, _Component);

  var _super = _createSuper(Menu);

  function Menu() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Menu);

    return _super.apply(this, arguments);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Menu, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var reference = this.props.reference; // eslint-disable-next-line react/no-find-dom-node

      var anchorEl = react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.findDOMNode(reference); // eslint-disable-next-line react/no-find-dom-node

      var menuEl = react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.findDOMNode(this.menuEl);
      this.popper = new popper_js__WEBPACK_IMPORTED_MODULE_8__["default"](anchorEl, menuEl);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.popper !== undefined) {
        this.popper.destroy();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      var _this$props = this.props,
          t = _this$props.t,
          file = _this$props.file,
          actions = _this$props.actions,
          onClose = _this$props.onClose;
      var actionNames = Object.keys(actions).filter(function (actionName) {
        var action = actions[actionName]; // TODO: is it really necessary?

        return action.displayCondition === undefined || action.displayCondition([file]);
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
        className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-actionmenu']
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(cozy_ui_transpiled_react_Overlay__WEBPACK_IMPORTED_MODULE_10__["default"], {
        onClick: onClose,
        onEscape: onClose,
        className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-actionmenu-overlay']
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
        "data-test-id": "fil-actionmenu-inner",
        className: drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-actionmenu-inner'],
        ref: function ref(el) {
          _this.menuEl = el;
        }
      }, actionNames.map(function (actionName) {
        var Component = actions[actionName].Component || _MenuItem__WEBPACK_IMPORTED_MODULE_11__["default"];
        var action = actions[actionName].action;
        var onClick = !action ? undefined : function () {
          var promise = action([file]);
          onClose();
          return promise;
        };
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Component, {
          key: actionName,
          className: classnames__WEBPACK_IMPORTED_MODULE_7___default()(drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a['fil-action'], drive_styles_actionmenu_styl__WEBPACK_IMPORTED_MODULE_12___default.a["fil-action-".concat(actionName)]),
          onClick: onClick,
          files: [file]
        }, t("SelectionBar.".concat(actionName)));
      })));
    }
  }]);

  return Menu;
}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_9__["translate"])()(Menu));

/***/ }),

/***/ "xeQG":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("TSYQ");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("ufaa");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("QmKc");
/* harmony import */ var drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4__);




 // using a seeded PRNG to prevent re-renders from changing the results

var seededRandom = function seededRandom(seed) {
  var x = Math.sin(seed) * 10000;
  return x - Math.floor(x);
};

var seededRandomBetween = function seededRandomBetween(min, max, seed) {
  return min + seededRandom(seed) * (max - min);
};

var PlaceholderBlock = function PlaceholderBlock(_ref) {
  var width = _ref.width;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-file-placeholder'],
    style: {
      width: width
    }
  });
};

PlaceholderBlock.propTypes = {
  width: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
};
PlaceholderBlock.defaultProps = {
  width: '100%'
};

var FilePlaceholder = function FilePlaceholder(_ref2) {
  var index = _ref2.index,
      isMobile = _ref2.breakpoints.isMobile;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-row']
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-file-select'])
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-file-thumbnail'], {
      'u-pl-0': !isMobile
    })
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "2rem"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-file'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "".concat(seededRandomBetween(3, 12, index), "rem")
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-date'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "5rem"
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-size'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "".concat(seededRandomBetween(3.75, 5, index), "rem")
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-cell'], drive_styles_filelist_styl__WEBPACK_IMPORTED_MODULE_4___default.a['fil-content-status'])
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PlaceholderBlock, {
    width: "1.25rem"
  })));
};

FilePlaceholder.propTypes = {
  index: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number
};
FilePlaceholder.defaultProps = {
  index: 1
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_helpers_withBreakpoints__WEBPACK_IMPORTED_MODULE_3__["default"])()(FilePlaceholder));

/***/ }),

/***/ "xmtF":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"viewer-wrapper-with-bar":"viewer-wrapper-with-bar---1EQs"};

/***/ }),

/***/ "yEaX":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("/beP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getSort", function() { return _reducer__WEBPACK_IMPORTED_MODULE_0__["getSort"]; });

/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("QwUF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sortFolder", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["sortFolder"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "uploadFiles", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["uploadFiles"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createFolder", function() { return _actions__WEBPACK_IMPORTED_MODULE_1__["createFolder"]; });

/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ZZUV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useFolderSort", function() { return _hooks__WEBPACK_IMPORTED_MODULE_2__["useFolderSort"]; });





/***/ }),

/***/ "yqib":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("mwIZ");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("SNP2");
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("3tyQ");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Dialog_DialogCloseButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("6vAj");
/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("V2U0");
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("kyGY");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("dtw8");
/* harmony import */ var cozy_ui_transpiled_react_HistoryRow__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("H9Vh");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("siNt");
/* harmony import */ var _styles_styl__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_styles_styl__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("OjRq");
/* harmony import */ var cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("923M");
/* harmony import */ var cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("QwUF");

















var formatDate = function formatDate(date, f) {
  return f(date, 'DD MMMM - HH:mm');
};

var HistoryModal = function HistoryModal(_ref) {
  var file = _ref.file,
      router = _ref.router,
      revisions = _ref.revisions,
      client = _ref.client,
      f = _ref.f,
      t = _ref.t,
      revisionsFetchStatus = _ref.revisionsFetchStatus;
  var fileCollection = client.collection('io.cozy.files');
  var capabilities = Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["useCapabilities"])(client);
  var isFileVersioningEnabled = lodash_get__WEBPACK_IMPORTED_MODULE_2___default()(capabilities, 'capabilities.data.attributes.file_versioning');
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClose: router.goBack
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Dialog_DialogCloseButton__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClick: router.goBack
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_4__["ExperimentalDialogTitle"], null, file.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_3___default.a, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Text__WEBPACK_IMPORTED_MODULE_8__["Caption"], {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a.HistoryRowCaption
  }, capabilities.fetchStatus === 'loading' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, t('History.loading')), capabilities.fetchStatus === 'loaded' && isFileVersioningEnabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, t('History.description')), (capabilities.fetchStatus === 'failed' || !isFileVersioningEnabled && capabilities.fetchStatus !== 'loading') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, t('History.noFileVersionEnabled'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_HistoryRow__WEBPACK_IMPORTED_MODULE_11__["default"], {
    tag: t('History.current_version'),
    primaryText: formatDate(file.updated_at, f),
    secondaryText: fileCollection.getBeautifulSize(file),
    downloadLink: function downloadLink() {
      if (!Object(cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_14__["isMobile"])()) {
        fileCollection.download(file);
      } else {
        Object(drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_15__["exportFilesNative"])([file._id], client, file.name)();
      }
    }
  }), revisionsFetchStatus === 'loading' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: _styles_styl__WEBPACK_IMPORTED_MODULE_12___default.a.HistoryRowRevisionLoader
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_6__["default"], {
    size: "xxlarge"
  })), revisionsFetchStatus === 'loaded' && revisions.map(function (revision) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cozy_ui_transpiled_react_HistoryRow__WEBPACK_IMPORTED_MODULE_11__["default"], {
      primaryText: formatDate(revision.updated_at, f),
      secondaryText: fileCollection.getBeautifulSize(revision),
      key: revision._id,
      downloadLink: function downloadLink() {
        if (!Object(cozy_device_helper_dist_platform__WEBPACK_IMPORTED_MODULE_14__["isMobile"])()) {
          fileCollection.download(file, revision._id, models__WEBPACK_IMPORTED_MODULE_13__["CozyFile"].generateFileNameForRevision(file, revision, f));
        } else {
          Object(drive_web_modules_navigation_duck_actions__WEBPACK_IMPORTED_MODULE_15__["exportFilesNative"])([revision._id], client, models__WEBPACK_IMPORTED_MODULE_13__["CozyFile"].generateFileNameForRevision(file, revision, f))();
        }
      }
    });
  }))));
};

HistoryModal.propTypes = {
  file: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  router: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  revisions: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,
  client: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  f: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  t: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  revisionsFetchStatus: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_7__["translate"])()(Object(react_router__WEBPACK_IMPORTED_MODULE_10__["withRouter"])(Object(cozy_client__WEBPACK_IMPORTED_MODULE_9__["withClient"])(HistoryModal))));

/***/ }),

/***/ "z+SL":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
module.exports = {"c-btn":"c-btn--ISXve","c-btn--regular":"c-btn--regular--I3FbV","c-btn--danger":"c-btn--danger--3MJU1","c-btn--secondary":"c-btn--secondary--2y7BI","c-btn--danger-outline":"c-btn--danger-outline--25atN","CozyTheme--normal":"CozyTheme--normal--w3gG7","toolbar-inside-bar":"toolbar-inside-bar--2LtK2","fil-toolbar-files":"fil-toolbar-files--2hub6","fil-toolbar-trash":"fil-toolbar-trash--2Oocj","menu-recipients-wrapper":"menu-recipients-wrapper--2rgGs","menu-recipients":"menu-recipients--1_h62","spin":"spin--3HLqY","shake":"shake--3cSDC"};

/***/ }),

/***/ "z6Q1":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_FILES", function() { return DOCTYPE_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_ALBUMS", function() { return DOCTYPE_ALBUMS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_PHOTOS_SETTINGS", function() { return DOCTYPE_PHOTOS_SETTINGS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_APPS", function() { return DOCTYPE_APPS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOCTYPE_CONTACTS_VERSION", function() { return DOCTYPE_CONTACTS_VERSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "schema", function() { return schema; });
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("OjRq");
/* harmony import */ var drive_lib_extraDoctypes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("6dOw");



var DOCTYPE_FILES = 'io.cozy.files';
var DOCTYPE_ALBUMS = 'io.cozy.photos.albums';
var DOCTYPE_PHOTOS_SETTINGS = 'io.cozy.photos.settings';
var DOCTYPE_APPS = 'io.cozy.apps';
var DOCTYPE_CONTACTS_VERSION = 2;
var schema = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({
  files: {
    doctype: DOCTYPE_FILES,
    relationships: {
      old_versions: {
        type: 'has-many',
        doctype: 'io.cozy.files.versions'
      }
    }
  },
  contacts: {
    doctype: models__WEBPACK_IMPORTED_MODULE_1__["Contact"].doctype,
    doctypeVersion: DOCTYPE_CONTACTS_VERSION
  },
  groups: {
    doctype: models__WEBPACK_IMPORTED_MODULE_1__["Group"].doctype
  },
  versions: {
    doctype: 'io.cozy.files.versions'
  }
}, drive_lib_extraDoctypes__WEBPACK_IMPORTED_MODULE_2__["default"]);

/***/ }),

/***/ "zLPI":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("RIqP");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("17x9");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var drive_web_modules_filelist_FilePlaceholder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("xeQG");





var FileListPlaceholder = function FileListPlaceholder(_ref) {
  var rows = _ref.rows;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(new Array(rows)).map(function (value, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drive_web_modules_filelist_FilePlaceholder__WEBPACK_IMPORTED_MODULE_3__["default"], {
      index: index,
      key: "key_file_placeholder_".concat(index)
    });
  }));
};

FileListPlaceholder.propTypes = {
  rows: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number
};
FileListPlaceholder.defaultProps = {
  rows: 8
};
/* harmony default export */ __webpack_exports__["default"] = (FileListPlaceholder);

/***/ }),

/***/ "zW80":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("MVZn");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("lwsE");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("W8MJ");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("PJYZ");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("7W2i");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("a1gu");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("Nsbk");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("lSNA");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _pushClient_styl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("AzIT");
/* harmony import */ var _pushClient_styl__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_pushClient_styl__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("buk/");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("oAJy");
/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("IFEr");
/* harmony import */ var drive_config_config_json__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("FKqX");
var drive_config_config_json__WEBPACK_IMPORTED_MODULE_16___namespace = /*#__PURE__*/__webpack_require__.t("FKqX", 1);
/* harmony import */ var cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("H+Xc");
/* harmony import */ var cozy_ui_assets_icons_illus_device_laptop_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("dq/4");











function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }








 //@TODO Use PushClient button from cozy-ui



var ButtonClient = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(ButtonClient, _Component);

  var _super = _createSuper(ButtonClient);

  function ButtonClient() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, ButtonClient);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), "state", {
      mustShow: false
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(ButtonClient, [{
    key: "componentWillMount",
    value: function () {
      var _componentWillMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
        var seen, mustSee;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!(drive_config_config_json__WEBPACK_IMPORTED_MODULE_16__.promoteDesktop.isActivated !== true)) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return");

              case 2:
                _context.next = 4;
                return localforage__WEBPACK_IMPORTED_MODULE_14___default.a.getItem(___WEBPACK_IMPORTED_MODULE_15__["DESKTOP_BANNER"]);

              case 4:
                _context.t0 = _context.sent;

                if (_context.t0) {
                  _context.next = 7;
                  break;
                }

                _context.t0 = false;

              case 7:
                seen = _context.t0;

                if (!seen) {
                  _context.next = 13;
                  break;
                }

                _context.next = 11;
                return Object(___WEBPACK_IMPORTED_MODULE_15__["isClientAlreadyInstalled"])(this.props.client);

              case 11:
                mustSee = !_context.sent;

                if (mustSee) {
                  this.setState(function (state) {
                    return _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {
                      mustShow: true
                    });
                  });
                }

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function componentWillMount() {
        return _componentWillMount.apply(this, arguments);
      }

      return componentWillMount;
    }()
  }, {
    key: "render",
    value: function render() {
      if (drive_config_config_json__WEBPACK_IMPORTED_MODULE_16__.promoteDesktop.isActivated !== true || !this.state.mustShow) return null;
      var t = this.props.t;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("a", {
        href: t(Object(___WEBPACK_IMPORTED_MODULE_15__["isLinux"])() ? 'Nav.link-client' : 'Nav.link-client-desktop') //eslint-disable-next-line react/jsx-no-target-blank
        ,
        target: "_blank",
        className: _pushClient_styl__WEBPACK_IMPORTED_MODULE_10___default.a['coz-btn-client'],
        onClick: function onClick() {
          Object(___WEBPACK_IMPORTED_MODULE_15__["track"])('button');
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("figure", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(cozy_ui_transpiled_react__WEBPACK_IMPORTED_MODULE_17__["Icon"], {
        width: "32",
        height: "32",
        icon: cozy_ui_assets_icons_illus_device_laptop_svg__WEBPACK_IMPORTED_MODULE_18__["default"]
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span", null, t('Nav.btn-client')));
    }
  }]);

  return ButtonClient;
}(react__WEBPACK_IMPORTED_MODULE_12__["Component"]);

/* harmony default export */ __webpack_exports__["default"] = (Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__["translate"])()(Object(cozy_client__WEBPACK_IMPORTED_MODULE_13__["withClient"])(ButtonClient)));

/***/ }),

/***/ "zupC":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("J4zp");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("SH7X");
/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("buk/");
/* harmony import */ var cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("3tyQ");
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("SNP2");
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("EHL7");
/* harmony import */ var _material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_Dialog_DialogCloseButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("6vAj");
/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("KXWi");
/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_TextField__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("ERmx");
/* harmony import */ var _material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("cUz1");
/* harmony import */ var _material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("X+Uv");
/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("67rm");















var ENTER_KEY = 13;

var isURLValid = function isURLValid(url) {
  try {
    new URL(url);
    return true;
  } catch (e) {
    return false;
  }
};

var makeURLValid = function makeURLValid(str) {
  if (isURLValid(str)) return str;else if (isURLValid("https://".concat(str))) return "https://".concat(str);
  return false;
};

var ShortcutCreationModal = function ShortcutCreationModal(_ref) {
  var onClose = _ref.onClose,
      onCreated = _ref.onCreated,
      displayedFolder = _ref.displayedFolder;

  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__["useI18n"])(),
      t = _useI18n.t;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(''),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),
      filename = _useState2[0],
      setFilename = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(''),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),
      url = _useState4[0],
      setUrl = _useState4[1];

  var client = Object(cozy_client__WEBPACK_IMPORTED_MODULE_4__["useClient"])();

  var createShortcut = /*#__PURE__*/function () {
    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {
      var makedURL, data;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (!(!filename || !url)) {
                _context.next = 3;
                break;
              }

              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].error(t('Shortcut.needs_info'));
              return _context.abrupt("return");

            case 3:
              makedURL = makeURLValid(url);

              if (makedURL) {
                _context.next = 7;
                break;
              }

              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].error(t('Shortcut.url_badformat'));
              return _context.abrupt("return");

            case 7:
              data = {
                name: filename.endsWith('.url') ? filename : filename + '.url',
                dir_id: displayedFolder.id,
                url: makedURL
              };
              _context.prev = 8;
              _context.next = 11;
              return client.collection('io.cozy.files.shortcuts').create(data);

            case 11:
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].success(t('Shortcut.created'));
              if (onCreated) onCreated();
              onClose();
              _context.next = 19;
              break;

            case 16:
              _context.prev = 16;
              _context.t0 = _context["catch"](8);
              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_14__["default"].error(t('Shortcut.errored'));

            case 19:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[8, 16]]);
    }));

    return function createShortcut() {
      return _ref2.apply(this, arguments);
    };
  }();

  var handleKeyDown = function handleKeyDown(e) {
    if (e.keyCode === ENTER_KEY) {
      createShortcut();
    }
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_6__["default"], {
    onClose: onClose
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_Dialog_DialogCloseButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: onClose
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_6__["ExperimentalDialogTitle"], null, t('Shortcut.title_modal')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_8___default.a, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_7___default.a, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Stack__WEBPACK_IMPORTED_MODULE_13__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_TextField__WEBPACK_IMPORTED_MODULE_11__["default"], {
    label: t('Shortcut.url'),
    id: "shortcuturl",
    variant: "outlined",
    onChange: function onChange(e) {
      return setUrl(e.target.value);
    },
    onKeyDown: function onKeyDown(e) {
      return handleKeyDown(e);
    },
    fullWidth: true,
    margin: "normal",
    autoFocus: true
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_TextField__WEBPACK_IMPORTED_MODULE_11__["default"], {
    label: t('Shortcut.filename'),
    id: "shortcutfilename",
    variant: "outlined",
    onChange: function onChange(e) {
      return setFilename(e.target.value);
    },
    fullWidth: true,
    margin: "normal",
    onKeyDown: function onKeyDown(e) {
      return handleKeyDown(e);
    },
    InputProps: {
      endAdornment: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_12___default.a, {
        position: "end"
      }, ".url")
    }
  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Labs_ExperimentalDialog__WEBPACK_IMPORTED_MODULE_6__["ExperimentalDialogActions"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    theme: "secondary",
    onClick: onClose,
    label: t('Shortcut.cancel')
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    theme: "primary",
    label: t('Shortcut.create'),
    onClick: Object(react__WEBPACK_IMPORTED_MODULE_3__["useCallback"])(createShortcut)
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (ShortcutCreationModal);

/***/ })

/******/ });
//# sourceMappingURL=drive.js.map